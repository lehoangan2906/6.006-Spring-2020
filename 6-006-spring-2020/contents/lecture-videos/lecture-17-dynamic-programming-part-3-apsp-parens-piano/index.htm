<!DOCTYPE html><html lang="en">
      
      
        
    
    
    
    

      
      
      <head>
        <meta charset="utf-8">
        <meta name="format-detection" content="telephone=no">  
        
        <title>Lecture 17: Dynamic Programming, Part 3: APSP, Parens, Piano | Lecture Videos | Introduction to Algorithms | Electrical Engineering and Computer Science | MIT OpenCourseWare</title>
    <!-- Begin Automatic Metadata Insertion -->
    <meta content="6-006-introduction-to-algorithms-spring-2020" name="WT.cg_n">
    <meta content="Lecture 17: Dynamic Programming, Part 3: APSP, Parens, Piano" name="WT.cg_s">
    <meta content="" name="Description">
    <meta content="Demaine, Erik" name="Author">
    <meta content="Ku, Jason" name="Author">
    <meta content="Solomon, Justin" name="Author">
    <meta content="6.006,data structure,sorting,hashing,binary trees,breadth-first search,depth-first search,weighted shortest path,Bellman-Ford,Dijkstra,dynamic programming,recursion,complexity,algorithms,computational programs,analysis,proofs,Algorithms and Data Structures,Theory of Computation" name="keywords">
    <meta content="6.006 Introduction to Algorithms | Lecture 17: Dynamic Programming, Part 3: APSP, Parens, Piano" name="Search_Display">
    <meta content="Algorithms and Data Structures" itemprop="about">
    <meta content="Theory of Computation" itemprop="about">
    <meta content="Computation" itemprop="about">
    <!-- End Automatic Metadata Insertion -->

	<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/grid.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/base.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/menu.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/jquery.bubblepopup.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/search.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/courses.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/courses_new.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/jquery.jscrollpane.css">
<link title="default" rel="stylesheet" type="text/css" href="../../../common/styles/media_tabs.css">
	<link href="../../../common/xml/ocwcc.rdf" type="application/rdf+xml" rel="metadata">
	<link rel="canonical" href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-spring-2020/lecture-videos/lecture-17-dynamic-programming-part-3-apsp-parens-piano/">
	<link rel="apple-touch-icon" href="../../../common/images/apple-touch-icon.png">
	
	
      
	
	<script type="text/javascript" src="../../../common/scripts/jquery.js"></script>
	<script type="text/javascript" src="../../../common/scripts/ocw-media-utils-offline.js"></script>
	<script type="text/javascript" src="../../../common/scripts/ocw-offline.js"></script>
	<script type="text/javascript" src="../../../common/scripts/jquery.bubblepopup.min.js"></script>
	<script type="text/javascript" src="../../../common/scripts/jquery-ui.min.js"></script>
	<script type="text/javascript" src="../../../common/scripts/jquery.jscrollpane.min.js"></script>
	<script type="text/javascript" src="../../../common/scripts/expandy.js"></script>
	<script type="text/javascript" src="../../../common/scripts/bubble-popup-offline.js"></script>
	
	
	
    <script type="text/javascript">
      $(document).ready(function() {
        $("#tabs").tabs();
        IpadScroller();
      });
    </script>
    
    
    
    
    
    
      
       
		 

        
        
        

        
        
        
        
        
        
        
        
        
      </head>
    <body itemscope itemtype="http://schema.org/WebPage">
        
	

        <header id="top">
			<div id="grid">
				
				
					
<div id="portletwrapper-6f63772e746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d686561646572" class="portletWrapper kssattr-portlethash-6f63772e746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d686561646572">
<div class="portletStaticText portlet-static-site-header">
<!--googleoff: index-->
<div class="grid_6 alpha" id="banner"><a href="https://ocw.mit.edu/"><img src="../../../common/images/ocw_mast.png" class="logo" alt="MIT OpenCourseWare, Massachusetts Institute of Technology"></a></div>
<div class="grid_6 omega" id="subscribe">
<aside class="module" aria-label="Connect with OCW">
<table class="social">
    <tbody>
        <tr>
            <td class="socialbutton"><a aria-label="Subscribe to the OCW Newsletter" href="https://ocw.mit.edu/subscribe/index.htm?utm_source=header"><img src="../../../common/images/trans.gif" alt="An icon depicting an envelope.">Subscribe to the OCW Newsletter</a></td>
            <td>
<a aria-label="Facebook" href="https://facebook.com/mitocw"><img src="../../../common/images/icon_fb.png" alt="Click to visit our Facebook page."></a>  <a aria-label="Instagram" href="https://www.instagram.com/mitocw/"><img src="https://ocw.mit.edu/images/icon_ig.png" alt="Click to visit our Instagram page."></a> <a aria-label="Twitter" href="https://twitter.com/mitocw"><img src="https://ocw.mit.edu/images/icon_twitter.png" alt="Click to visit our Twitter feed."></a><a aria-label="YouTube" href="https://www.youtube.com/mitocw" style="font-size: 12.208px;"><img src="https://ocw.mit.edu/images/icon_yt.png" alt="Click to visit our YouTube page."></a><span style="font-size: 12.208px;">   </span><a aria-label="Open Matters blog on WordPress" href="https://www.ocw-openmatters.org/" style="font-size: 12.208px;"><img src="https://ocw.mit.edu/images/icon_wp.png" alt="Click to visit our blog on WordPress."></a>
</td>
        </tr>
    </tbody>
</table>
</aside><nav aria-label="Help Links" class="helplinks">     <a aria-label="OCW Site Help" href="https://ocw.mit.edu/help">Help</a><span aria-hidden="true">|</span>     <a href="../../../common/about/contactus.htm">Contact Us</a>   </nav>
</div>
<div class="clear"> </div>
<!--googleon: index-->
</div>

</div>

<div id="portletwrapper-6f63772e746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a6d6567612d6d656e75" class="portletWrapper kssattr-portlethash-6f63772e746f70706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a6d6567612d6d656e75">
<div class="portletStaticText portlet-static-mega-menu"><div><nav id="mega" class="grid_8 alpha" aria-label="Site">
<ul id="menu" role="presentation">
    <li id="menu_home">
<a href="https://ocw.mit.edu/" aria-label="Homepage"><img src="../../../common/images/top-nav_home.png" class="home_icon" alt="Click for site home page."></a><!-- Begin Home Item -->
</li>
    <!-- End Home Item -->
    <li id="drop_1" aria-label="Find Courses">
<a href="#" aria-hidden="true">FIND COURSES</a><!-- Begin 5 columns Item -->
    <div class="dropdown_5columns-a mega-courses">
    <div class="col_1a">
    <div class="row_1a">
<nav aria-labelledby="mm-find-courses-by">     <span id="mm-find-courses-by" class="nav" aria-hidden="true">Find courses by:</span>
    <ul class="find_by" role="presentation">
        <li><a href="https://ocw.mit.edu/courses/find-by-topic/">Topic</a></li>
        <li><a href="https://ocw.mit.edu/courses/find-by-number/">MIT Course Number</a></li>
        <li><a href="https://ocw.mit.edu/courses/find-by-department/">Department</a></li>
    </ul>
    </nav>     <nav aria-labelledby="mm-collections">     <span id="mm-collections" class="nav" aria-hidden="true">Collections</span>
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/courses/new-courses/">New Courses</a></li>
        <li><a href="https://ocw.mit.edu/courses/most-visited-courses/">Most Visited Courses</a></li>
        <li><a href="https://ocw.mit.edu/courses/ocw-scholar/">OCW Scholar Courses</a></li>
        <li><a href="https://ocw.mit.edu/courses/audio-video-courses/">Audio/Video Lectures</a></li>
        <li><a href="https://ocw.mit.edu/courses/online-textbooks/">Online Textbooks</a></li>
        <li><a href="https://ocw.mit.edu/resources/">Supplemental Resources</a></li>
        <li><a href="https://ocw.mit.edu/high-school/">OCW Highlights for High School</a></li>
        <li><a href="https://ocw.mit.edu/courses/mitx-related-courseware/">MITx &amp; Related OCW Courses</a></li>
        <li><a href="https://ocw.mit.edu/courses/mit-open-learning-library/">MIT Open Learning Library</a></li>
    </ul>
    </nav>     <nav class="col_1b" aria-labelledby="mm-translated-courses">     <span id="mm-translated-courses" class="nav" aria-hidden="true" style="line-height: 1.3;">Cross-Disciplinary Topic Lists</span>
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/courses/energy-courses">Energy</a></li>
        <li><a href="https://ocw.mit.edu/courses/entrepreneurship">Entrepreneurship</a></li>
        <li><a href="https://ocw.mit.edu/courses/environment-courses">Environment</a></li>
        <li><a href="https://ocw.mit.edu/courses/intro-programming">Introductory Programming</a></li>
        <li><a href="https://ocw.mit.edu/courses/life-sciences">Life Sciences</a></li>
        <li><a href="https://ocw.mit.edu/courses/transportation-courses">Transportation</a></li>
    </ul>
    </nav>
</div>
    <div class="row_1b"><nav aria-labelledby="mm-cross-disciplinary-topic-lists">     <span id="mm-cross-disciplinary-topic-lists" class="nav" aria-hidden="true">Translated Courses</span>
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/courses/translated-courses/traditional-chinese" aria-label="Traditional Chinese">繁體字 / Traditional Chinese</a></li>
        <li><a href="https://ocw.mit.edu/courses/translated-courses/turkish" aria-label="Turkish">Türkçe / Turkish</a></li>
        <li><a href="https://ocw.mit.edu/courses/translated-courses/korean" aria-label="Korean">(비디오)한국 / Korean</a></li>
    </ul>
    </nav></div>
    </div>
    </div>
    </li>
    <li id="drop_2">
<a href="#" aria-label="For Educators">For Educators</a>
    <div class="dropdown_1column-a" style="width: 270px;"><nav aria-labelledby="mm-find-courses-by">
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/educator/chalk-radio-podcast">Chalk Radio Podcast</a></li>
        <li><a href="https://ocw.mit.edu/educator/">OCW Educator Portal</a></li>
    </ul>
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/courses/instructor-insights/">Instructor Insights by Department</a></li>
        <li><a href="https://openlearning.mit.edu/campus/digital-innovations/">Residential Digital Innovations </a></li>
    </ul>
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/high-school/">OCW Highlights for High School</a></li>
    </ul>
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/educator/additional-resources/">Additional Resources</a></li>
    </ul>
    </nav></div>
    </li>
    <li id="drop_3">
<a href="#" aria-hidden="true">Give Now</a>
    <div class="dropdown_1column-a"><nav class="col_1" aria-label="Donate">
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/give/">Make a Donation</a></li>
        <li><a href="https://ocw.mit.edu/give/why-give/">Why Give?</a></li>
        <li><a href="https://ocw.mit.edu/give/our-supporters/">Our Supporters</a></li>
        <li><a href="https://ocw.mit.edu/give/other-ways-to-contribute/">Other Ways to Contribute</a></li>
        <li><a href="https://ocw.mit.edu/support/">Become a Corporate Sponsor</a></li>
    </ul>
    </nav></div>
    </li>
    <li id="drop_4">
<a href="#" aria-hidden="true">About</a>
    <div class="dropdown_1column-a"><nav class="col_1" aria-label="About">
    <ul role="presentation">
        <li><a href="https://ocw.mit.edu/about/">About MIT OpenCourseWare</a></li>
        <li><a href="https://ocw.mit.edu/about/site-statistics/">Site Statistics</a></li>
        <li><a href="https://ocw.mit.edu/about/ocw-stories/">OCW Stories</a></li>
        <li><a href="https://ocw.mit.edu/about/newsletter/">Newsletter</a></li>
        <li><a href="https://chalk-radio.simplecast.com/">Chalk Radio Podcast</a></li>
        <li><a href="https://www.ocw-openmatters.org/">Open Matters Blog</a></li>
    </ul>
    </nav></div>
    </li>
</ul>
</nav></div></div>

</div>





<!--googleoff: index-->
<script>
  (function() {
	var cx = '012626166551961672889:owjdpuboktq';
	var gcse = document.createElement('script');
	gcse.type = 'text/javascript';
	gcse.async = true;
	gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
	var s = document.getElementsByTagName('script')[0];
	s.parentNode.insertBefore(gcse, s);
  })();
  window.onload = function(){
	document.getElementById('gsc-i-id1').placeholder = 'Search';	
  };

$(document).ready(function(){

$('.advanceSearch a').keydown(function(event){showSearchTips($(this),event);})
$('#searchTipsModal').keydown(function(event){showSearchTips($(this),event);})

function showSearchTips(obj,evt) {
// if pressed enter key
	if ( evt.which == 13 || evt.which == 32) {
		showModal();
		ga('send', 'pageview', "AdvanceSearch");
		$(".advanceSearch a").attr('aria-expanded', 'true');
		$('.searchTipsModal').focus();
		evt.preventDefault();
		}
	if ( evt.which == 27 ) {
		hideModal();
		$(".advanceSearch a").attr('aria-expanded', 'false');
		var modal = document.getElementById('searchTipsModal');
		modal.style.display = "none";
		$(".advanceSearch a").focus();
		evt.preventDefault();
		}
}

});
function showModal(){
	var modal = document.getElementById('searchTipsModal');
	modal.style.display = "block";
	ga('send', 'pageview', "AdvanceSearch");
	document.getElementById("searchTipsBtn").setAttribute("aria-expanded", true);
	window.setTimeout(function () {
    document.getElementById('searchTipsModal').focus(); }, 0);
}

function hideModal(){
	var modal = document.getElementById('searchTipsModal');
	modal.style.display = "none";
	document.getElementById("searchTipsBtn").setAttribute("aria-expanded", false);
}
</script>
<div id="search" role="search" class="grid_4 omega">
    	<table class="search">
				<tbody>
					<tr>
						<td><div class="searchboxheader"><searchbox-only resultsurl="/search/ocwsearch.htm"></searchbox-only></div></td>
						<td>
							<div class="advanceSearch">
								<a id="searchTipsBtn" onclick="showModal();" href="#" role="button" aria-label="search tips" aria-expanded="false" aria-describedby="searchtips">Search Tips</a>

								<!-- The Modal -->
								<div id="searchTipsModal" class="modal" tabindex="-1">
								  <!-- Modal content -->
									<div class="modal-content">
										<div class="modal-body">
											<button class="close" onclick="hideModal();" aria-label="close">X</button>
											<span>
												<b>Exclude words from your search</b>
												<br>Put - in front of a word you want to leave out. For example, jaguar speed -car
												<br><br>
												<b>Search for an exact match</b>
												<br>Put a word or phrase inside quotes. For example, "tallest building".
												<br><br>
												<b>Search for wildcards or unknown words</b>
												<br>Put a * in your word or phrase where you want to leave a placeholder. For example, "largest * in the world".
												<br><br>
												<b>Search within a range of numbers</b>
												<br>Put .. between two numbers. For example, camera $50..$100.
												<br><br>
												<b>Combine searches</b>
												<br>Put "OR" between each search query. For example,  marathon OR race.
												<br><br>
											</span>
										</div>
								  </div>
								</div>
							</div>
						</td>
					</tr>
				</tbody>
		</table>
</div>
<div class="clear"></div>
<!--googleon: index-->
<!-- *end header* -->

				
				
			</div>
<!-- top grid end -->
		</header><!-- top end -->
			
		<div id="center_media">
      	<div id="grid">
      		<div id="left">
        		<nav id="breadcrumb_media" aria-label="Breadcrumb">
                	<p>

    <a href="https://ocw.mit.edu/">Home</a>
    
        »
        
    
    
        
            <a href="https://ocw.mit.edu/courses">Courses</a>
            
                »
                
            
            
         
    
    
        
            <a href="https://ocw.mit.edu/courses/electrical-engineering-and-computer-science">Electrical Engineering and Computer Science</a>
            
                »
                
            
            
         
    
    
        
            <a href="../../../contents/index.htm">Introduction to Algorithms</a>
            
                »
                
            
            
         
    
    
        
            <a href="../../../contents/lecture-videos/index.htm">Lecture Videos</a>
            
                »
                
            
            
         
    
    
        
            
            
            Lecture 17: Dynamic Programming, Part 3: APSP, Parens, Piano
         
    
</p>

            	</nav>
            	<div class="clear"></div>
        		<div id="media_title">
        		<h1 class="title" itemprop="name" property="dct:title">
        <span class="" id="parent-fieldname-title">
            Lecture 17: Dynamic Programming, Part 3: APSP, Parens, Piano
        </span>
    </h1>
        		</div>
           		<div class="clear"></div>
           		<div id="course_wrapper_media">
           			<nav id="course_nav" aria-label="Course">
           				<script language="javascript" type="text/javascript">
function toggleMenu(objID) {
  if (!document.getElementById) return;
  var ob = document.getElementById(objID);
  ob.className = (ob.className == 'selected')?'': 'selected';
}
function toggleClass(id)
{
  var divtoggleClass= document.getElementById(id);
  divtoggleClass.className = (divtoggleClass.className == 'mO')?'mC': 'mO';
  return false;
}
function changeAlt(id)
{
  id.alt = (id.alt == 'Expand Menu')?'Collapse Menu' : 'Expand Menu';
  id.title = (id.title == 'Expand Menu')?'Collapse Menu' : 'Expand Menu';
}
</script>
<!--Left Nav Starts -->


	<ul>			  
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/index.htm">
		                  Course Home  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/syllabus/index.htm">
		                  Syllabus  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/calendar/index.htm">
		                  Calendar  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="selected">
			   			<a href="../../../contents/lecture-videos/index.htm">
		                  Lecture Videos  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/lecture-notes/index.htm">
		                  Lecture Notes  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/quizzes/index.htm">
		                  Quizzes  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/practice-problems/index.htm">
		                  Practice Problems  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/assignments/index.htm">
		                  Assignments  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    <li class="">
			   			<a href="../../../contents/resource-index/index.htm">
		                  Resource Index  			                
	                    </a>
		        </li>
		    
         	
	
	
	    	
	    	    
		    
         	
	<!--second tal block close-->  
	
</ul>


<!--Left Nav Ends -->





           			</nav>
           			<main id="course_inner_media" aria-labelledby="media_title">
      					 
        <div class="" id="parent-fieldname-text">
            
            
        </div>
    
      					     
    
    



<script type="text/javascript">var caption_embed_1 ={'English - US': '/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-spring-2020/lecture-videos/lecture-17-dynamic-programming-part-3-apsp-parens-piano/TDo3r5M1LNo.srt'}</script>     
     <div id="media-embed">
         <div class="attention_message" id="embed_1">
<p>Flash and JavaScript are required for this feature.</p>
<p>Download the video from <a href="https://archive.org/download/MIT6.006S20/MIT6_006S20_04_23_Lecture_17_300k.mp4">Internet Archive</a>.</p>
</div>
     </div>
    
     <script type="text/javascript">ocw_embed_chapter_media('embed_1', 'https://www.youtube.com/v/TDo3r5M1LNo', 'youtube', '/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-spring-2020/lecture-videos/lecture-17-dynamic-programming-part-3-apsp-parens-piano', 'https://img.youtube.com/vi/TDo3r5M1LNo/0.jpg',0,0, 'https://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-006-introduction-to-algorithms-spring-2020/lecture-videos/lecture-17-dynamic-programming-part-3-apsp-parens-piano/TDo3r5M1LNo.srt')</script>
	 
	 
	 		
	 		<div id="transcript1"></div>
				 <script type="text/javascript">createThreePlayParams(2, 6476797, "embed_1", 0, 0)</script>
			 
	

     <div id="media_resource_next_prev_nav" style="margin-top: 1em;">
        <p>
        
            <a href="../../../contents/lecture-videos/problem-session-8/index.htm">
                <img src="../../../common/images/btn_previous_resource.png" style="margin: 0 30px 0 50px;" alt="Previous track" title="Previous track"></a>
     	
     	
        
            <a href="../../../contents/lecture-videos/lecture-18-dynamic-programming-part-4-rods-subset-sum-pseudopolynomial/index.htm"> 
                <img src="../../../common/images/btn_next_resource.png" alt="Next track" title="Next track"></a>
       
       </p>
     </div>
 


<script type="text/javascript">
		window.onload=function(){
		init();
		
		}
		var tabLinks = new Array();
		var contentDivs = new Array();
		function init() {
		  // Grab the tab links and content divs from the page
		  var tabListItems = document.getElementById('tabs').childNodes;
		  for ( var i = 0; i < tabListItems.length; i++ ) {
			if ( tabListItems[i].nodeName == "LI" ) {
			  var tabLink = getFirstChildWithTagName( tabListItems[i], 'A' );
			  var id = getHash( tabLink.getAttribute('href') );
			  tabLinks[id] = tabLink;
			  contentDivs[id] = document.getElementById( id );
			}
		  }
		  // Assign onclick events to the tab links, and
		  // highlight the first tab
		  var i = 0;
		  for ( var id in tabLinks ) {
			tabLinks[id].onclick = showTab;
			tabLinks[id].onfocus = function() { this.blur() };
			if ( i == 0 ) tabLinks[id].className = 'selected';
			i++;
		  }
		  // Hide all content divs except the first
		  var i = 0;
		  for ( var id in contentDivs ) {
			if ( i != 0 ) contentDivs[id].className = 'tabContent hide';
			i++;
		  }
		}
		function showTab() {
		  var selectedId = getHash( this.getAttribute('href') );
		  // Highlight the selected tab, and dim all others.
		  // Also show the selected content div, and hide all others.
		  for ( var id in contentDivs ) {
			if ( id == selectedId ) {
			  tabLinks[id].className = 'selected';
			  contentDivs[id].className = 'tabContent';
			} else {
			  tabLinks[id].className = '';
			  contentDivs[id].className = 'tabContent hide';
			}
		  }
		  // Stop the browser following the link
		  return false;
		}
		function getFirstChildWithTagName( element, tagName ) {
		  for ( var i = 0; i < element.childNodes.length; i++ ) {
			if ( element.childNodes[i].nodeName == tagName ) return element.childNodes[i];
		  }
		}
		function getHash( url ) {
		  var hashPos = url.lastIndexOf ( '#' );
		  return url.substring( hashPos + 1 );
		}
 </script>	
 

  <div id="media_tabs">
     
        <ul id="tabs">
            <li class="first">
                <a href="#vid_about" class="selected">About this Video</a>
            </li>
            <li class="">
                <a href="#vid_index" class="">Playlist</a>
            </li>
            <li class="">
                <a href="#vid_playlist" class="">Transcript</a>
            </li>
            <li class="">
                <a href="#vid_related" class="">Download this Video</a>
            </li>
        </ul>
   
        <div id="vid_about" itemprop="description" class="tabContent">
<p>This is the third of four lectures on dynamic programming. This focusses on applying subproblem constraints and expansions to example problems including, Bellman-Ford SSSP, Floyd-Warshall APSP, arithmetic parenthesization, and piano/guitar fingering.</p>
<p><strong>Instructor:</strong> Erik Demaine</p>
</div>
        <div id="vid_index" itemprop="description" class="tabContent hide">
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-1-algorithms-and-computation/index.htm">
<img src="https://img.youtube.com/vi/ZA-tUyM_y7s/default.jpg" title="Lecture 1: Algorithms and Computation" alt="Lecture 1: Algorithms and Computation">
<p>Lecture 1: Algorithms and C...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-2-data-structures-and-dynamic-arrays/index.htm">
<img src="https://img.youtube.com/vi/CHhwJjR0mZA/default.jpg" title="Lecture 2: Data Structures and Dynamic Arrays" alt="Lecture 2: Data Structures and Dynamic Arrays">
<p>Lecture 2: Data Structures ...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/problem-session-1/index.htm">
<img src="https://img.youtube.com/vi/IPSaG9RRc-k/default.jpg" title="Problem Session 1" alt="Problem Session 1">
<p>Problem Session 1</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-3-sets-and-sorting/index.htm">
<img src="https://img.youtube.com/vi/oS9aPzUNG-s/default.jpg" title="Lecture 3: Sets and Sorting" alt="Lecture 3: Sets and Sorting">
<p>Lecture 3: Sets and Sorting</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-4-hashing/index.htm">
<img src="https://img.youtube.com/vi/Nu8YGneFCWE/default.jpg" title="Lecture 4: Hashing" alt="Lecture 4: Hashing">
<p>Lecture 4: Hashing</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/problem-session-2/index.htm">
<img src="https://img.youtube.com/vi/KlQiwkhLBg0/default.jpg" title="Problem Session 2" alt="Problem Session 2">
<p>Problem Session 2</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-5-linear-sorting/index.htm">
<img src="https://img.youtube.com/vi/yndgIDO0zQQ/default.jpg" title="Lecture 5: Linear Sorting" alt="Lecture 5: Linear Sorting">
<p>Lecture 5: Linear Sorting</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/problem-session-3/index.htm">
<img src="https://img.youtube.com/vi/g0bXSXuLVb0/default.jpg" title="Problem Session 3" alt="Problem Session 3">
<p>Problem Session 3</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-6-binary-trees-part-1/index.htm">
<img src="https://img.youtube.com/vi/76dhtgZt38A/default.jpg" title="Lecture 6: Binary Trees, Part 1" alt="Lecture 6: Binary Trees, Part 1">
<p>Lecture 6: Binary Trees, Pa...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-7-binary-trees-part-2-avl/index.htm">
<img src="https://img.youtube.com/vi/U1JYwHcFfso/default.jpg" title="Lecture 7: Binary Trees, Part 2: AVL" alt="Lecture 7: Binary Trees, Part 2: AVL">
<p>Lecture 7: Binary Trees, Pa...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/problem-session-4/index.htm">
<img src="https://img.youtube.com/vi/MAyraVVYB64/default.jpg" title="Problem Session 4" alt="Problem Session 4">
<p>Problem Session 4</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-8-binary-heaps/index.htm">
<img src="https://img.youtube.com/vi/Xnpo1atN-Iw/default.jpg" title="Lecture 8: Binary Heaps" alt="Lecture 8: Binary Heaps">
<p>Lecture 8: Binary Heaps</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-9-breadth-first-search/index.htm">
<img src="https://img.youtube.com/vi/oFVYVzlvk9c/default.jpg" title="Lecture 9: Breadth-First Search" alt="Lecture 9: Breadth-First Search">
<p>Lecture 9: Breadth-First Se...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/quiz-1-review/index.htm">
<img src="https://img.youtube.com/vi/e98MPnMHLxE/default.jpg" title="Quiz 1 Review" alt="Quiz 1 Review">
<p>Quiz 1 Review</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-10-depth-first-search/index.htm">
<img src="https://img.youtube.com/vi/IBfWDYSffUU/default.jpg" title="Lecture 10: Depth-First Search" alt="Lecture 10: Depth-First Search">
<p>Lecture 10: Depth-First Search</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-11-weighted-shortest-paths/index.htm">
<img src="https://img.youtube.com/vi/5cF5Bgv59Sc/default.jpg" title="Lecture 11: Weighted Shortest Paths" alt="Lecture 11: Weighted Shortest Paths">
<p>Lecture 11: Weighted Shorte...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/problem-session-5/index.htm">
<img src="https://img.youtube.com/vi/ZLdooNwP7Pw/default.jpg" title="Problem Session 5" alt="Problem Session 5">
<p>Problem Session 5</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-12-bellman-ford/index.htm">
<img src="https://img.youtube.com/vi/f9cVS_URPc0/default.jpg" title="Lecture 12: Bellman-Ford" alt="Lecture 12: Bellman-Ford">
<p>Lecture 12: Bellman-Ford</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/problem-session-6/index.htm">
<img src="https://img.youtube.com/vi/kshe8d8rxHo/default.jpg" title="Problem Session 6" alt="Problem Session 6">
<p>Problem Session 6</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-13-dijkstra/index.htm">
<img src="https://img.youtube.com/vi/NSHizBK9JD8/default.jpg" title="Lecture 13: Dijkstra" alt="Lecture 13: Dijkstra">
<p>Lecture 13: Dijkstra</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/problem-session-7/index.htm">
<img src="https://img.youtube.com/vi/WO6vQJ6Rhm8/default.jpg" title="Problem Session 7" alt="Problem Session 7">
<p>Problem Session 7</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-14-apsp-and-johnson/index.htm">
<img src="https://img.youtube.com/vi/EmSmaW-ud6A/default.jpg" title="Lecture 14: APSP and Johnson" alt="Lecture 14: APSP and Johnson">
<p>Lecture 14: APSP and Johnson</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/quiz-2-review/index.htm">
<img src="https://img.youtube.com/vi/vCIa2h1C9UQ/default.jpg" title="Quiz 2 Review" alt="Quiz 2 Review">
<p>Quiz 2 Review</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-15-dynamic-programming-part-1-srtbot-fib-dags-bowling/index.htm">
<img src="https://img.youtube.com/vi/r4-cftqTcdI/default.jpg" title="Lecture 15: Dynamic Programming, Part 1: SRTBOT, Fib, DAGs, Bowling" alt="Lecture 15: Dynamic Programming, Part 1: SRTBOT, Fib, DAGs, Bowling">
<p>Lecture 15: Dynamic Program...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-16-dynamic-programming-part-2-lcs-lis-coins/index.htm">
<img src="https://img.youtube.com/vi/KLBCUx1is2c/default.jpg" title="Lecture 16: Dynamic Programming, Part 2: LCS, LIS, Coins" alt="Lecture 16: Dynamic Programming, Part 2: LCS, LIS, Coins">
<p>Lecture 16: Dynamic Program...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/problem-session-8/index.htm">
<img src="https://img.youtube.com/vi/l_A-ig1n8CM/default.jpg" title="Problem Session 8" alt="Problem Session 8">
<p>Problem Session 8</p></a>
</div>
<div class="related-media-thumbnail-nolink">
<div class="now-playing-resource">Now Playing</div>
<img src="https://img.youtube.com/vi/TDo3r5M1LNo/default.jpg" title="Lecture 17: Dynamic Programming, Part 3: APSP, Parens, Piano" alt="Lecture 17: Dynamic Programming, Part 3: APSP, Parens, Piano">
<p>Lecture 17: Dynamic Program...</p>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-18-dynamic-programming-part-4-rods-subset-sum-pseudopolynomial/index.htm">
<img src="https://img.youtube.com/vi/i9OAOk0CUQE/default.jpg" title="Lecture 18: Dynamic Programming, Part 4: Rods, Subset Sum, Pseudopolynomial" alt="Lecture 18: Dynamic Programming, Part 4: Rods, Subset Sum, Pseudopolynomial">
<p>Lecture 18: Dynamic Program...</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-19-complexity/index.htm">
<img src="https://img.youtube.com/vi/JbafQJx1CIA/default.jpg" title="Lecture 19: Complexity" alt="Lecture 19: Complexity">
<p>Lecture 19: Complexity</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/quiz-3-review/index.htm">
<img src="https://img.youtube.com/vi/wEKFGdo4Sck/default.jpg" title="Quiz 3 Review" alt="Quiz 3 Review">
<p>Quiz 3 Review</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-20-course-review/index.htm">
<img src="https://img.youtube.com/vi/2NMtS1ecb3o/default.jpg" title="Lecture 20: Course Review" alt="Lecture 20: Course Review">
<p>Lecture 20: Course Review</p></a>
</div>
<div class="related-media-thumbnail">
<a href="../../../contents/lecture-videos/lecture-21-algorithms2014next-steps/index.htm">
<img src="https://img.youtube.com/vi/4nXw-f6NJ9s/default.jpg" title="Lecture 21: Algorithms—Next Steps" alt="Lecture 21: Algorithms—Next Steps">
<p>Lecture 21: Algorithms—Ne...</p></a>
</div>
</div>
        <div id="vid_playlist" itemprop="description" class="tabContent hide">
<ul><li><a class="transcript-link" title="Open in a new window." alt="Open in a new window." style="text-decoration: none; font-size: 1.0em;" target="_blank" text-decoration: none font-size: href="../../../contents/lecture-videos/lecture-17-dynamic-programming-part-3-apsp-parens-piano/TDo3r5M1LNo.pdf"> Download English-US transcript (PDF)</a></li></ul>
<p><span m="0">[SQUEAKING]</span></p>
<p><span m="1996">[RUSTLING]</span></p>
<p><span m="3992">[CLICKING]</span></p>
<p> </p>
<p><span m="12790">ERIK DEMAINE:</span> <span m="12840">All</span> <span m="12890">right.</span> <span m="12970">Welcome</span> <span m="13240">back</span> <span m="13450">to</span> <span m="13730">006</span> <span m="14800">and</span> <span m="15340">our</span> <span m="15670">dynamic</span> <span m="16239">programming</span> <span m="17260">quadruple</span> <span m="18010">of</span> <span m="18160">lectures.</span> <span m="18580">We</span> <span m="19060">are</span> <span m="19510">over</span> <span m="19870">halfway</span> <span m="20200">through,</span> <span m="21260">into</span> <span m="21580">lecture</span> <span m="21910">three</span> <span m="22240">of</span> <span m="22390">four.</span> <span m="23410">Today,</span> <span m="23770">we're</span> <span m="23980">going</span> <span m="24280">to</span> <span m="24640">follow</span> <span m="25060">up</span> <span m="25270">on</span> <span m="25450">this</span> <span m="25660">idea</span> <span m="26140">of</span> <span m="26560">problem</span> <span m="27040">constraints</span> <span m="27670">and</span> <span m="27790">expansion</span> <span m="28660">that</span> <span m="28900">was</span> <span m="29440">mentioned,</span> <span m="30020">especially,</span> <span m="30310">towards</span> <span m="30610">the</span> <span m="30760">end</span> <span m="31090">of</span> <span m="31390">last</span> <span m="31690">lecture.</span> <span m="32180">We</span> <span m="32200">saw</span> <span m="32680">an</span> <span m="32890">example</span> <span m="33430">of</span> <span m="33670">subproblem</span> <span m="34300">expansion</span> <span m="35680">by</span> <span m="35830">a</span> <span m="35890">factor</span> <span m="36310">of</span> <span m="36460">2</span> <span m="36910">in</span> <span m="37270">the</span> <span m="37720">two-player</span> <span m="38440">game</span> <span m="38710">with</span> <span m="38860">coins</span> <span m="39430">where</span> <span m="39670">we</span> <span m="39850">wanted</span> <span m="40150">to</span> <span m="41980">have</span> <span m="42250">two</span> <span m="42430">versions</span> <span m="42760">of</span> <span m="42850">the</span> <span m="42910">game,</span> <span m="43150">one</span> <span m="43390">where</span> <span m="43690">I</span> <span m="43870">go</span> <span m="44020">first</span> <span m="44350">and</span> <span m="44440">one</span> <span m="44620">where</span> <span m="44770">you</span> <span m="44920">go</span> <span m="45100">first.</span> <span m="45520">So</span> <span m="45700">this</span> <span m="45850">was</span> <span m="46180">expanding</span> <span m="46720">the</span> <span m="46780">number</span> <span m="47030">of</span> <span m="47100">such</span> <span m="47230">problems</span> <span m="47560">by</span> <span m="47690">a</span> <span m="47710">factor</span> <span m="48010">of</span> <span m="48100">2.</span></p>
<p><span m="48610">Today,</span> <span m="48970">we'll</span> <span m="49090">see</span> <span m="49240">a</span> <span m="49300">bunch</span> <span m="49570">more</span> <span m="49720">examples</span> <span m="50200">of</span> <span m="50290">this</span> <span m="50500">idea,</span> <span m="51100">including</span> <span m="51940">in</span> <span m="52240">one</span> <span m="52450">setting</span> <span m="52750">we've</span> <span m="52930">seen</span> <span m="53170">already,</span> <span m="53630">which</span> <span m="53710">is</span> <span m="53830">Bellman-Ford,</span> <span m="54670">which</span> <span m="54880">you</span> <span m="54970">can</span> <span m="55120">think</span> <span m="55360">of</span> <span m="55600">as</span> <span m="56290">a</span> <span m="56500">dynamic</span> <span m="56920">program.</span> <span m="57550">Maybe</span> <span m="57850">it's</span> <span m="57970">a</span> <span m="58030">good</span> <span m="58150">time</span> <span m="58390">to</span> <span m="58480">mention</span> <span m="58900">that</span> <span m="59080">Bellman</span> <span m="59560">invented</span> <span m="60610">dynamic</span> <span m="61030">programming</span> <span m="61510">in</span> <span m="61660">the</span> <span m="61720">'50s.</span> <span m="63010">Same</span> <span m="63370">Bellman</span> <span m="63940">in</span> <span m="64239">the</span> <span m="64330">Bellman-Ford</span> <span m="64900">algorithm.</span> <span m="65330">This</span> <span m="65500">was</span> <span m="65650">actually an</span> <span m="65920">independent</span> <span m="66430">discovery</span> <span m="66850">by</span> <span m="66970">both</span> <span m="67210">of</span> <span m="67270">them--</span> <span m="67720">and</span> <span m="68020">other</span> <span m="68230">people.</span> <span m="71050">He</span> <span m="71260">invented</span> <span m="71650">dynamic</span> <span m="72040">programming,</span> <span m="72610">and</span> <span m="72760">then,</span> <span m="73030">a</span> <span m="73090">few</span> <span m="73270">years</span> <span m="73480">later,</span> <span m="73820">he</span> <span m="73840">applied</span> <span m="74260">it</span> <span m="74350">to</span> <span m="74470">solve</span> <span m="74800">the</span> <span m="74890">single-source</span> <span m="75460">shortest</span> <span m="75715">paths</span> <span m="75970">problem.</span> <span m="76630">We</span> <span m="76780">saw</span> <span m="76990">them</span> <span m="77140">in</span> <span m="77230">the</span> <span m="77350">other</span> <span m="77560">order.</span> <span m="77830">We</span> <span m="77920">saw</span> <span m="78100">single-source</span> <span m="78400">shortest</span> <span m="78880">paths</span> <span m="79150">first,</span> <span m="79450">because</span> <span m="79630">it</span> <span m="79690">was</span> <span m="79810">a</span> <span m="79840">little</span> <span m="80050">easier.</span> <span m="80900">And</span> <span m="81040">now</span> <span m="81250">we're</span> <span m="81370">seeing</span> <span m="81580">the</span> <span m="81670">general</span> <span m="82030">framework</span> <span m="82450">that</span> <span m="82600">this</span> <span m="82780">fits</span> <span m="83020">into.</span> <span m="84370">And</span> <span m="84550">so</span> <span m="84730">we'll</span> <span m="84880">see</span> <span m="85120">how</span> <span m="85630">that</span> <span m="85840">works.</span></p>
<p><span m="86710">Why</span> <span m="86950">did</span> <span m="87100">Bellman</span> <span m="87460">call</span> <span m="87850">dynamic</span> <span m="88270">programming</span> <span m="88690">dynamic</span> <span m="89050">programming?</span> <span m="89530">Mostly</span> <span m="89950">because</span> <span m="90190">it</span> <span m="90310">sounded</span> <span m="90700">cool,</span> <span m="91330">and</span> <span m="91610">he</span> <span m="91810">was</span> <span m="91960">trying</span> <span m="92260">to</span> <span m="92500">impress</span> <span m="93640">government</span> <span m="94030">agencies</span> <span m="94480">giving</span> <span m="94750">him</span> <span m="94870">grants.</span> <span m="95570">I</span> <span m="95770">mean,</span> <span m="95920">how</span> <span m="96070">can</span> <span m="96220">you</span> <span m="96310">argue</span> <span m="96550">with</span> <span m="96670">something</span> <span m="97000">as</span> <span m="97120">cool-sounding</span> <span m="97750">as</span> <span m="97870">dynamic</span> <span m="98320">programming?</span> <span m="99430">But</span> <span m="99640">there</span> <span m="99730">is</span> <span m="99880">some</span> <span m="100180">logic</span> <span m="100540">to</span> <span m="100720">it.</span> <span m="101050">Programming</span> <span m="101710">is</span> <span m="101920">a</span> <span m="102100">reference</span> <span m="102580">to</span> <span m="102790">an</span> <span m="102880">old</span> <span m="103060">form</span> <span m="103300">of</span> <span m="103390">this</span> <span m="103540">word,</span> <span m="103750">which</span> <span m="103900">means</span> <span m="104170">optimization.</span> <span m="105040">And</span> <span m="105190">generally,</span> <span m="105550">we're</span> <span m="105670">trying</span> <span m="105850">to</span> <span m="105940">optimize</span> <span m="106420">things.</span> <span m="107050">And</span> <span m="107290">instead</span> <span m="107530">of</span> <span m="107650">optimizing</span> <span m="108550">according</span> <span m="109030">to</span> <span m="109120">some</span> <span m="109390">static</span> <span m="109960">kind</span> <span m="110200">of</span> <span m="110890">approach</span> <span m="111820">or</span> <span m="112000">program,</span> <span m="113050">we're</span> <span m="113200">doing</span> <span m="113410">it</span> <span m="113530">dynamically.</span> <span m="114160">This</span> <span m="114340">is</span> <span m="114610">a</span> <span m="114730">reference</span> <span m="115180">to</span> <span m="115390">the</span> <span m="115510">local</span> <span m="115810">brute</span> <span m="116020">force</span> <span m="116350">we're</span> <span m="116470">doing</span> <span m="116800">to</span> <span m="116890">optimize</span> <span m="117460">at</span> <span m="117700">each</span> <span m="117880">stage.</span> <span m="118780">You</span> <span m="118900">can't</span> <span m="119110">tell,</span> <span m="119350">at</span> <span m="119440">the</span> <span m="119500">top,</span> <span m="120680">what</span> <span m="121120">you're</span> <span m="121240">going</span> <span m="121360">to</span> <span m="121450">do</span> <span m="121660">in</span> <span m="121750">the</span> <span m="121810">middle.</span> <span m="122840">And</span> <span m="122890">so</span> <span m="123070">it's</span> <span m="123190">kind</span> <span m="123370">of--</span> <span m="123760">each</span> <span m="124570">subproblem</span> <span m="125110">is</span> <span m="125740">behaving</span> <span m="126130">differently.</span> <span m="126620">And</span> <span m="126720">so,</span> <span m="126820">in that</span> <span m="126910">sense,</span> <span m="127180">dynamic.</span> <span m="128110">And</span> <span m="129280">it</span> <span m="129400">sounds</span> <span m="129669">cool.</span> <span m="130270">All</span> <span m="130449">right.</span></p>
<p><span m="130870">Then</span> <span m="131080">we'll</span> <span m="131260">go</span> <span m="131440">to</span> <span m="131650">all-pairs</span> <span m="132020">shortest</span> <span m="132310">paths.</span> <span m="132550">We'll</span> <span m="132640">see</span> <span m="132790">a</span> <span m="132850">new</span> <span m="133030">algorithm</span> <span m="133390">for</span> <span m="133510">that</span> <span m="135080">that's</span> <span m="136060">not</span> <span m="136390">asymptotically</span> <span m="137080">any</span> <span m="137230">better,</span> <span m="137500">but</span> <span m="137620">it's</span> <span m="137740">nice</span> <span m="137950">and</span> <span m="138040">simple,</span> <span m="138460">and</span> <span m="138550">another</span> <span m="138850">way</span> <span m="139000">to--</span> <span m="139150">a</span> <span m="139630">cool</span> <span m="139900">way</span> <span m="140020">to</span> <span m="140140">see</span> <span m="140740">subproblem</span> <span m="141280">expansion.</span> <span m="142090">And</span> <span m="142360">then</span> <span m="142480">we'll</span> <span m="142600">look</span> <span m="142810">at</span> <span m="143010">a</span> <span m="143470">couple</span> <span m="143770">of</span> <span m="143890">sort</span> <span m="144040">of</span> <span m="144100">practical</span> <span m="144640">problems--</span> <span m="145810">parenthesizing</span> <span m="146860">arithmetic</span> <span m="147400">expressions</span> <span m="148240">and</span> <span m="148540">a</span> <span m="148570">real-world</span> <span m="148990">problem,</span> <span m="149380">piano</span> <span m="149770">and</span> <span m="149860">guitar</span> <span m="150220">fingering,</span> <span m="150840">so</span> <span m="151120">assigning</span> <span m="151600">a</span> <span m="151690">fingering</span> <span m="152080">how</span> <span m="152500">to</span> <span m="152590">play</span> <span m="152800">a</span> <span m="152860">piece.</span> <span m="154420">And</span> <span m="154630">we're</span> <span m="154750">going</span> <span m="154870">to</span> <span m="154930">do</span> <span m="155050">that</span> <span m="155260">with</span> <span m="155410">our</span> <span m="155560">SRTBOT</span> <span m="156010">framework.</span> <span m="156730">Quick</span> <span m="157030">recollection</span> <span m="157600">of</span> <span m="157690">what</span> <span m="157840">that</span> <span m="158020">is.</span> <span m="158500">We</span> <span m="158680">define</span> <span m="159040">subproblems.</span> <span m="160030">And</span> <span m="160360">we</span> <span m="160450">saw</span> <span m="160660">how</span> <span m="160780">to</span> <span m="160870">do</span> <span m="161020">that</span> <span m="161170">for</span> <span m="161320">sequences.</span> <span m="161920">We</span> <span m="162100">try</span> <span m="162490">either</span> <span m="162790">prefixes,</span> <span m="163270">suffixes,</span> <span m="163840">or</span> <span m="163960">substrings.</span> <span m="164830">We</span> <span m="165040">prefer</span> <span m="165400">prefixes</span> <span m="165880">and</span> <span m="166000">suffixes</span> <span m="166660">because</span> <span m="166930">there's</span> <span m="167080">fewer</span> <span m="167380">of</span> <span m="167500">them.</span> <span m="168490">If</span> <span m="168640">there's</span> <span m="168790">more</span> <span m="168970">than</span> <span m="169120">one</span> <span m="170170">sequence,</span> <span m="170680">we</span> <span m="170800">take</span> <span m="171010">the</span> <span m="171070">product</span> <span m="171490">of</span> <span m="171610">those</span> <span m="171790">spaces.</span></p>
<p><span m="173230">And</span> <span m="173500">then</span> <span m="173650">the</span> <span m="173800">idea</span> <span m="174130">we're</span> <span m="174220">going</span> <span m="174340">to</span> <span m="174400">stress</span> <span m="174700">today</span> <span m="175090">is,</span> <span m="175600">we</span> <span m="175810">can</span> <span m="175930">always</span> <span m="176170">add</span> <span m="176500">subproblems</span> <span m="177250">to</span> <span m="177430">make</span> <span m="177730">the</span> <span m="177820">next</span> <span m="178060">step</span> <span m="178330">easier.</span> <span m="179410">In</span> <span m="179530">particular,</span> <span m="180010">adding</span> <span m="180250">constraints</span> <span m="180880">to</span> <span m="180970">subproblems,</span> <span m="181720">in</span> <span m="181840">some</span> <span m="182140">sense,</span> <span m="182470">lets</span> <span m="182740">us</span> <span m="182890">remember</span> <span m="183520">things</span> <span m="184330">about</span> <span m="185125">the</span> <span m="185410">subproblem</span> <span m="186190">that's</span> <span m="186400">calling</span> <span m="186790">us--</span> <span m="187120">or</span> <span m="187390">about</span> <span m="187720">the</span> <span m="187810">past,</span> <span m="188440">is</span> <span m="188620">one</span> <span m="188770">way</span> <span m="188890">to</span> <span m="188980">think</span> <span m="189160">about</span> <span m="189370">it--</span> <span m="189760">or</span> <span m="189910">in</span> <span m="189970">general,</span> <span m="190270">to</span> <span m="190420">"remember</span> <span m="190900">state."</span> <span m="191350">Just</span> <span m="191560">by</span> <span m="191710">adding</span> <span m="192040">more</span> <span m="192190">subproblems,</span> <span m="192700">we</span> <span m="192790">can</span> <span m="192940">remember</span> <span m="193360">more</span> <span m="193540">stuff--</span> <span m="194860">not</span> <span m="195100">just</span> <span m="195400">what</span> <span m="195790">things</span> <span m="196150">we're</span> <span m="196270">working</span> <span m="196600">on,</span> <span m="196810">but</span> <span m="197290">some</span> <span m="197620">context.</span></p>
<p><span m="198940">And</span> <span m="199210">that's</span> <span m="199390">what</span> <span m="199480">we'll</span> <span m="199600">see</span> <span m="199750">lots</span> <span m="199960">of</span> <span m="200020">examples</span> <span m="200470">of</span> <span m="200590">today.</span> <span m="201190">It will</span> <span m="201460">hopefully</span> <span m="201760">make</span> <span m="201920">sense</span> <span m="202150">by</span> <span m="202300">the</span> <span m="202420">end</span> <span m="202600">of</span> <span m="202660">the</span> <span m="202750">lecture.</span> <span m="203770">Then,</span> <span m="204040">we</span> <span m="204490">need</span> <span m="204700">to</span> <span m="204820">relate</span> <span m="205090">these</span> <span m="205300">subproblems</span> <span m="205780">with</span> <span m="205910">the</span> <span m="205990">recurrence</span> <span m="206410">relation--</span> <span m="207520">actually,</span> <span m="207590">we</span> <span m="207840">usually</span> <span m="208120">just</span> <span m="208240">call</span> <span m="208450">it a</span> <span m="208510">relation.</span> <span m="209290">And</span> <span m="209650">the</span> <span m="209740">key</span> <span m="210010">idea</span> <span m="210370">here</span> <span m="210970">is</span> <span m="211270">to</span> <span m="211420">come</span> <span m="211750">up</span> <span m="211900">with</span> <span m="212080">a</span> <span m="212140">question</span> <span m="213070">that,</span> <span m="213340">if</span> <span m="213580">you</span> <span m="213670">knew</span> <span m="213880">the</span> <span m="214030">answer</span> <span m="214360">to</span> <span m="214480">that</span> <span m="214660">question,</span> <span m="216010">you</span> <span m="216280">could</span> <span m="217060">reduce</span> <span m="219190">the</span> <span m="219580">subproblem</span> <span m="220240">you're</span> <span m="220360">trying</span> <span m="220660">to</span> <span m="220750">solve</span> <span m="221440">to</span> <span m="221710">smaller</span> <span m="222250">subproblem</span> <span m="222950">solutions.</span> <span m="225940">This</span> <span m="226150">question</span> <span m="226590">is</span> <span m="226660">sort</span> <span m="226840">of</span> <span m="226960">the</span> <span m="227050">fundamental</span> <span m="228640">aspect</span> <span m="229420">of--</span> <span m="229990">some</span> <span m="230260">fundamental</span> <span m="230740">aspect</span> <span m="231130">of</span> <span m="231220">a</span> <span m="231280">solution.</span></p>
<p><span m="231670">Typically,</span> <span m="232420">when</span> <span m="232630">you're</span> <span m="232720">dealing</span> <span m="232990">with</span> <span m="233080">suffixes,</span> <span m="233920">you</span> <span m="234100">want</span> <span m="234220">to</span> <span m="234280">ask</span> <span m="234460">some</span> <span m="234610">question</span> <span m="234970">about</span> <span m="235180">the</span> <span m="235300">first</span> <span m="235690">item,</span> <span m="236020">s</span> <span m="236395">of i.</span> <span m="236770">When</span> <span m="236980">you're</span> <span m="237070">dealing</span> <span m="237310">with</span> <span m="237430">prefixes,</span> <span m="237970">you</span> <span m="238060">want</span> <span m="238240">to</span> <span m="239680">ask</span> <span m="239980">a</span> <span m="240040">question</span> <span m="240370">about</span> <span m="240610">some--</span> <span m="241090">near</span> <span m="241300">the</span> <span m="241390">last</span> <span m="242110">item,</span> <span m="242455">s</span> <span m="242800">of i</span> <span m="243040">minus</span> <span m="243280">1.</span> <span m="243790">And</span> <span m="244000">for</span> <span m="244120">substrings,</span> <span m="244540">who</span> <span m="244960">knows?</span> <span m="245290">Somewhere</span> <span m="245710">in</span> <span m="245830">the</span> <span m="245890">middle.</span> <span m="247300">We'll</span> <span m="247480">see</span> <span m="247660">an</span> <span m="247750">example</span> <span m="248110">of</span> <span m="248170">that</span> <span m="248350">today.</span> <span m="249920">Once</span> <span m="250240">you</span> <span m="250390">have--</span> <span m="250670">oh,</span> <span m="250950">this is a</span> <span m="251410">reveal.</span> <span m="253390">Something</span> <span m="253720">coming</span> <span m="253990">later.</span> <span m="254950">Once</span> <span m="255280">you</span> <span m="255520">have</span> <span m="256000">identified</span> <span m="256480">such</span> <span m="256959">a</span> <span m="257079">question,</span> <span m="257589">the</span> <span m="257860">dynamic</span> <span m="258279">programming</span> <span m="258700">approach</span> <span m="259089">is,</span> <span m="259690">don't</span> <span m="259930">be</span> <span m="260050">smart</span> <span m="260380">about</span> <span m="260790">how</span> <span m="260980">to</span> <span m="261070">answer</span> <span m="261339">that</span> <span m="261459">question--</span> <span m="261790">just</span> <span m="261940">locally</span> <span m="262330">brute</span> <span m="262570">force.</span> <span m="262870">Try</span> <span m="263110">all</span> <span m="263380">possible</span> <span m="263860">answers</span> <span m="264190">to</span> <span m="264310">the</span> <span m="264370">question.</span> <span m="265030">For</span> <span m="265240">each</span> <span m="265480">one,</span> <span m="265990">recurse,</span> <span m="267610">and</span> <span m="268150">take</span> <span m="268390">the</span> <span m="268480">best</span> <span m="268840">solution</span> <span m="269410">according</span> <span m="269740">to</span> <span m="269860">whatever</span> <span m="270160">metric</span> <span m="270490">you're</span> <span m="270580">trying</span> <span m="270820">to</span> <span m="270880">do,</span> <span m="271060">typically</span> <span m="271510">minimization</span> <span m="272140">or</span> <span m="272230">maximization.</span></p>
<p><span m="274090">Another</span> <span m="274510">way</span> <span m="274630">to</span> <span m="274720">think</span> <span m="275020">of</span> <span m="275110">this</span> <span m="275260">local</span> <span m="275530">brute</span> <span m="275740">force,</span> <span m="276070">which</span> <span m="276250">I</span> <span m="276370">like</span> <span m="276550">to</span> <span m="276640">think</span> <span m="276820">in</span> <span m="276910">my</span> <span m="277090">head--</span> <span m="277300">so</span> <span m="277450">maybe</span> <span m="278140">some</span> <span m="278410">people</span> <span m="278620">like</span> <span m="278830">this,</span> <span m="278980">some</span> <span m="279190">people</span> <span m="279430">don't--</span> <span m="279940">is</span> <span m="280240">to</span> <span m="280330">think</span> <span m="280510">about</span> <span m="280840">guessing</span> <span m="281620">the</span> <span m="281800">answer</span> <span m="282130">to</span> <span m="282280">the</span> <span m="282370">question.</span> <span m="283670">So</span> <span m="284170">maybe</span> <span m="284410">the</span> <span m="285400">answer</span> <span m="285730">could</span> <span m="285910">be</span> <span m="286060">0,</span> <span m="286260">1,</span> <span m="286570">or</span> <span m="286660">2.</span> <span m="287200">And</span> <span m="288010">my</span> <span m="288250">algorithm</span> <span m="288580">will</span> <span m="288670">say,</span> <span m="289120">guess</span> <span m="289600">which</span> <span m="289810">is</span> <span m="289930">the</span> <span m="290020">right</span> <span m="290230">answer.</span> <span m="290680">And</span> <span m="291070">I'll</span> <span m="291580">assume</span> <span m="292120">that</span> <span m="292270">my</span> <span m="292450">algorithm</span> <span m="293320">correctly</span> <span m="293890">guesses</span> <span m="294370">the</span> <span m="294910">answer</span> <span m="296890">and</span> <span m="297190">analyze</span> <span m="297640">that.</span> <span m="298090">So</span> <span m="298330">we</span> <span m="298420">can</span> <span m="298540">think</span> <span m="298690">of</span> <span m="298780">the</span> <span m="298870">program</span> <span m="299200">as</span> <span m="299320">going</span> <span m="299530">straight</span> <span m="299830">through--</span> <span m="300880">guessing</span> <span m="301750">the</span> <span m="301840">answer</span> <span m="302170">and</span> <span m="302260">then</span> <span m="302380">recursing,</span> <span m="303220">and</span> <span m="303430">then</span> <span m="303550">combining</span> <span m="303940">the</span> <span m="304030">solutions</span> <span m="304510">however.</span> <span m="305950">But</span> <span m="306160">then,</span> <span m="306370">at</span> <span m="306460">the</span> <span m="306580">end,</span> <span m="306790">of</span> <span m="306880">course,</span> <span m="307090">we</span> <span m="307210">can't</span> <span m="307450">assume</span> <span m="307750">that</span> <span m="307870">the</span> <span m="307960">guess</span> <span m="308140">was</span> <span m="308290">correct.</span> <span m="308920">In</span> <span m="309130">fact,</span> <span m="309500">we</span> <span m="309550">have</span> <span m="309700">to</span> <span m="309790">loop</span> <span m="310060">over</span> <span m="310300">all of</span> <span m="310420">those</span> <span m="310630">guesses.</span> <span m="311460">So</span> <span m="311550">it's</span> <span m="311640">the</span> <span m="311730">same</span> <span m="312030">thing.</span> <span m="312360">Just,</span> <span m="313920">if</span> <span m="314130">you</span> <span m="314220">think</span> <span m="314400">of</span> <span m="314520">it</span> <span m="314580">this</span> <span m="314760">way,</span> <span m="315130">there's</span> <span m="315330">less</span> <span m="315630">looping</span> <span m="316020">in</span> <span m="316170">your</span> <span m="316260">program.</span> <span m="316950">But</span> <span m="317130">when</span> <span m="317250">you</span> <span m="317340">analyze</span> <span m="317790">it,</span> <span m="317970">definitely,</span> <span m="318420">the</span> <span m="318540">loop</span> <span m="318750">is</span> <span m="318870">really</span> <span m="319140">there.</span> <span m="319470">You</span> <span m="319620">have</span> <span m="319800">to</span> <span m="319890">pay</span> <span m="320190">for</span> <span m="320460">all</span> <span m="320700">of the</span> <span m="320790">possible</span> <span m="321300">answers.</span> <span m="323070">OK.</span></p>
<p><span m="323790">Then</span> <span m="323940">we</span> <span m="324030">need</span> <span m="324150">to</span> <span m="324240">make</span> <span m="324390">sure</span> <span m="324540">this</span> <span m="324690">relation</span> <span m="325170">is</span> <span m="325500">acyclic,</span> <span m="326370">get</span> <span m="326520">a</span> <span m="326590">subproblem</span> <span m="327120">DAG.</span> <span m="327690">And</span> <span m="327960">I</span> <span m="328050">like</span> <span m="328200">to</span> <span m="328320">specify</span> <span m="328770">an</span> <span m="328860">explicit</span> <span m="329280">topological</span> <span m="329820">order</span> <span m="330030">to</span> <span m="330150">make</span> <span m="330300">that</span> <span m="330450">clear.</span> <span m="331020">We</span> <span m="331200">have</span> <span m="331290">base</span> <span m="331500">cases</span> <span m="331800">for</span> <span m="331950">the</span> <span m="332010">relation.</span> <span m="332820">We</span> <span m="333030">have</span> <span m="333120">to</span> <span m="333210">solve</span> <span m="333420">the</span> <span m="333510">original</span> <span m="333900">problem</span> <span m="334290">in</span> <span m="334410">terms</span> <span m="334620">of</span> <span m="334740">these</span> <span m="334980">subproblems,</span> <span m="335430">and</span> <span m="335580">then</span> <span m="335670">we</span> <span m="335760">analyze</span> <span m="336180">the</span> <span m="336270">running</span> <span m="336510">time,</span> <span m="337500">usually,</span> <span m="338040">as</span> <span m="339180">the</span> <span m="339300">number</span> <span m="339540">of</span> <span m="339600">subproblems</span> <span m="340320">times</span> <span m="340650">the</span> <span m="340760">non-recursive</span> <span m="341340">work</span> <span m="341610">in</span> <span m="342780">the</span> <span m="342960">relation.</span> <span m="344710">So</span> <span m="344820">recursion</span> <span m="345270">is</span> <span m="345390">free</span> <span m="345600">because</span> <span m="345900">we're</span> <span m="345990">multiplying</span> <span m="346410">by</span> <span m="346530">the</span> <span m="346590">number</span> <span m="346910">of</span> <span m="346980">subproblems.</span> <span m="347280">You</span> <span m="347370">can</span> <span m="347520">also</span> <span m="347790">sum</span> <span m="348120">over</span> <span m="348300">the</span> <span m="348360">subproblems.</span> <span m="348850">Sometimes</span> <span m="349260">that</span> <span m="349380">gives</span> <span m="349590">you</span> <span m="350250">a</span> <span m="350370">tighter</span> <span m="350670">bound.</span> <span m="351330">And</span> <span m="351540">then,</span> <span m="351660">of</span> <span m="351750">course,</span> <span m="352030">we</span> <span m="352050">also</span> <span m="352260">have</span> <span m="352380">to</span> <span m="352470">add</span> <span m="352740">on</span> <span m="353310">the</span> <span m="353460">running</span> <span m="353700">time</span> <span m="353970">we</span> <span m="354090">spend</span> <span m="354480">in</span> <span m="354810">the</span> <span m="354900">original</span> <span m="355230">problem.</span> <span m="356520">All</span> <span m="356670">right.</span> <span m="357000">That</span> <span m="357120">was a</span> <span m="357240">quick</span> <span m="357450">recap.</span></p>
<p><span m="359280">Now,</span> <span m="359520">one</span> <span m="360120">problem</span> <span m="360570">we</span> <span m="360690">saw</span> <span m="361050">in</span> <span m="361200">this</span> <span m="361350">framework</span> <span m="362070">two</span> <span m="362310">lectures</span> <span m="362670">ago--</span> <span m="362820">the</span> <span m="362910">first</span> <span m="363150">lecture</span> <span m="363510">was</span> <span m="363930">single-source</span> <span m="364480">shortest</span> <span m="364770">paths</span> <span m="365070">in</span> <span m="365220">a</span> <span m="365280">DAG,</span> <span m="367380">which,</span> <span m="367620">a</span> <span m="367650">lot</span> <span m="367890">of</span> <span m="368100">dynamic</span> <span m="368460">programs</span> <span m="368820">actually</span> <span m="369180">can</span> <span m="369510">be</span> <span m="369630">reduced</span> <span m="370050">to</span> <span m="370490">a</span> <span m="371070">single-source</span> <span m="371810">shortest</span> <span m="372000">paths</span> <span m="372210">in a</span> <span m="372330">DAG.</span> <span m="372630">In</span> <span m="372720">fact,</span> <span m="373650">the</span> <span m="373710">reverse</span> <span m="374070">is</span> <span m="374220">true.</span> <span m="374520">Single-source</span> <span m="374790">shortest</span> <span m="375270">paths</span> <span m="375540">in</span> <span m="375630">a</span> <span m="375690">DAG</span> <span m="375900">can</span> <span m="376110">be</span> <span m="376230">thought</span> <span m="376500">of.</span> <span m="376890">The</span> <span m="377040">DAG</span> <span m="377280">relaxation</span> <span m="377820">algorithm</span> <span m="378210">we</span> <span m="378330">saw</span> <span m="378840">is</span> <span m="379110">essentially</span> <span m="379530">a</span> <span m="379560">dynamic</span> <span m="379890">program</span> <span m="380460">where</span> <span m="380700">the</span> <span m="380790">subproblems</span> <span m="381420">are</span> <span m="381600">delta</span> <span m="381930">of</span> <span m="382060">s,</span> <span m="382490">v.</span> <span m="382920">The relation</span> <span m="383340">of</span> <span m="383520">delta</span> <span m="383790">of</span> <span m="383920">s,</span> <span m="384410">v</span> <span m="384900">is</span> <span m="385140">the</span> <span m="385320">min.</span> <span m="386490">So</span> <span m="386850">what</span> <span m="387090">are</span> <span m="387180">we</span> <span m="387270">thinking</span> <span m="387630">about</span> <span m="387930">here?</span> <span m="389520">We're</span> <span m="389850">guessing--</span> <span m="391890">this</span> <span m="392100">is</span> <span m="392220">sort</span> <span m="392430">of</span> <span m="392520">a</span> <span m="392550">new</span> <span m="393780">phrase</span> <span m="394080">I</span> <span m="394170">want</span> <span m="394320">to</span> <span m="394380">add.</span> <span m="396510">Actually,</span> <span m="396780">I</span> <span m="396840">wrote</span> <span m="396990">it</span> <span m="397080">right</span> <span m="397230">here.</span></p>
<p><span m="397620">The</span> <span m="397950">last</span> <span m="398430">edge,</span> <span m="399120">u,</span> <span m="399390">v,</span> <span m="399750">on</span> <span m="399990">a</span> <span m="400050">shortest</span> <span m="400320">s</span> <span m="400590">to</span> <span m="400890">v</span> <span m="401130">path.</span> <span m="401940">That's</span> <span m="402210">a</span> <span m="402270">delta of</span> <span m="402550">s, v.</span> <span m="402930">The</span> <span m="403050">problem</span> <span m="403350">we're</span> <span m="403440">trying</span> <span m="403650">to</span> <span m="403740">solve</span> <span m="404130">is,</span> <span m="405150">find</span> <span m="405450">shortest</span> <span m="405790">s to v</span> <span m="406170">path.</span> <span m="407730">And</span> <span m="408190">it's</span> <span m="408900">some</span> <span m="409140">path,</span> <span m="410610">and</span> <span m="410910">we</span> <span m="411030">don't</span> <span m="411210">know</span> <span m="411330">what</span> <span m="411450">it</span> <span m="411540">looks</span> <span m="411750">like,</span> <span m="412110">but</span> <span m="412980">some</span> <span m="413280">feature</span> <span m="413790">of</span> <span m="414000">the</span> <span m="414090">solution</span> <span m="414750">of</span> <span m="414990">this</span> <span m="415140">path</span> <span m="415440">we're</span> <span m="415830">trying</span> <span m="416010">to</span> <span m="416070">find</span> <span m="416340">is,</span> <span m="416560">well,</span> <span m="416710">what's</span> <span m="416820">the</span> <span m="416910">last</span> <span m="417270">edge?</span> <span m="417900">It</span> <span m="418110">comes</span> <span m="418380">from</span> <span m="418530">some</span> <span m="418740">vertex</span> <span m="419160">here,</span> <span m="419820">unless</span> <span m="420270">the</span> <span m="420360">path</span> <span m="420600">is</span> <span m="420720">of</span> <span m="420840">length</span> <span m="421050">0</span> <span m="422270">and</span> <span m="422670">s</span> <span m="422880">equals</span> <span m="423210">v.</span> <span m="423690">That's</span> <span m="423960">a</span> <span m="424020">special</span> <span m="424350">case</span> <span m="424620">dealt</span> <span m="424800">with</span> <span m="424980">in</span> <span m="425070">the</span> <span m="425130">base</span> <span m="425370">case.</span> <span m="425940">Otherwise,</span> <span m="426360">there's</span> <span m="426510">some</span> <span m="426720">vertex</span> <span m="427200">u</span> <span m="427320">before</span> <span m="427710">v.</span> <span m="428910">We</span> <span m="429090">don't</span> <span m="429240">know</span> <span m="429360">what</span> <span m="429480">it</span> <span m="429600">is,</span> <span m="429850">so</span> <span m="429870">we're</span> <span m="429960">going</span> <span m="430080">to</span> <span m="430170">locally</span> <span m="430500">brute</span> <span m="430710">force,</span> <span m="431370">or</span> <span m="431580">guess</span> <span m="431970">what</span> <span m="432150">the</span> <span m="432210">right</span> <span m="432420">answer</span> <span m="432690">is.</span></p>
<p><span m="432940">So</span> <span m="433020">look</span> <span m="433230">at</span> <span m="433350">all</span> <span m="433740">incoming</span> <span m="434160">edges</span> <span m="434730">from</span> <span m="434970">u to</span> <span m="435450">v,</span> <span m="435750">and</span> <span m="436050">for</span> <span m="436170">each</span> <span m="436350">of</span> <span m="436410">them,</span> <span m="436590">take</span> <span m="436890">the</span> <span m="437100">recursive</span> <span m="437700">shortest</span> <span m="438030">path</span> <span m="438240">from</span> <span m="438390">s to</span> <span m="438600">u,</span> <span m="439140">plus</span> <span m="439410">the</span> <span m="439500">weight</span> <span m="439620">of</span> <span m="439710">the</span> <span m="439830">edge.</span> <span m="440530">So</span> <span m="440700">this</span> <span m="440910">is</span> <span m="441060">the</span> <span m="441480">guessing</span> <span m="441900">or</span> <span m="442020">local</span> <span m="442290">brute</span> <span m="442500">force</span> <span m="442860">perspective.</span> <span m="444430">And</span> <span m="444600">the</span> <span m="444690">reason</span> <span m="445110">this</span> <span m="445290">works</span> <span m="445650">is</span> <span m="445800">because</span> <span m="446130">G</span> <span m="446340">is</span> <span m="446490">acyclic,</span> <span m="447360">and</span> <span m="447600">so</span> <span m="447720">it</span> <span m="447810">has</span> <span m="447960">a</span> <span m="448020">topological</span> <span m="448590">order.</span> <span m="449890">Otherwise,</span> <span m="450810">if</span> <span m="451770">the</span> <span m="451830">graph</span> <span m="452070">has</span> <span m="452280">a</span> <span m="452310">cycle--</span> <span m="452760">and</span> <span m="452850">that's</span> <span m="453000">the</span> <span m="453090">case</span> <span m="453400">we</span> <span m="453500">want</span> <span m="453540">to</span> <span m="453600">go</span> <span m="453750">to</span> <span m="453930">next--</span> <span m="454980">this</span> <span m="455460">recursive</span> <span m="456060">call</span> <span m="456330">from</span> <span m="456570">delta</span> <span m="456880">of s, v</span> <span m="457380">to</span> <span m="457530">delta</span> <span m="457840">of s,</span> <span m="458150">u</span> <span m="459900">will</span> <span m="460380">have</span> <span m="460560">loops</span> <span m="460860">in</span> <span m="460980">it.</span> <span m="461220">And</span> <span m="461460">so</span> <span m="461820">you'll</span> <span m="462000">never</span> <span m="462270">evaluate</span> <span m="462720">this</span> <span m="462870">recursion.</span> <span m="463290">You'll</span> <span m="463410">never</span> <span m="463650">finish.</span> <span m="464010">You'll</span> <span m="464130">never</span> <span m="464370">minimalize.</span> <span m="465390">You'll</span> <span m="465600">be</span> <span m="465720">sad.</span> <span m="466030">It will</span> <span m="466290">take</span> <span m="466590">infinite</span> <span m="467040">time.</span> <span m="468120">So</span> <span m="468190">don't</span> <span m="468420">use</span> <span m="468570">this</span> <span m="468720">algorithm</span> <span m="469410">unless</span> <span m="469830">you</span> <span m="469920">have</span> <span m="470040">a</span> <span m="470070">DAG.</span> <span m="470790">For</span> <span m="470970">DAG,</span> <span m="471210">it's</span> <span m="471360">great.</span> <span m="471630">It's linear</span> <span m="471870">time.</span> <span m="473560">So</span> <span m="473670">that</span> <span m="473790">was</span> <span m="473880">a</span> <span m="473940">little</span> <span m="474150">review.</span></p>
<p><span m="474960">Now,</span> <span m="475290">here</span> <span m="475620">is</span> <span m="476760">a</span> <span m="477300">single-source</span> <span m="477870">shortest</span> <span m="478140">paths</span> <span m="478410">in</span> <span m="478530">general</span> <span m="478980">graphs,</span> <span m="479400">which</span> <span m="479640">we</span> <span m="479790">know</span> <span m="480060">as</span> <span m="480360">Bellman-Ford,</span> <span m="481740">but</span> <span m="481980">rephrased</span> <span m="482760">into</span> <span m="483060">the</span> <span m="483180">SRTBOT</span> <span m="484200">framework.</span> <span m="485790">So</span> <span m="487080">we</span> <span m="487260">defined</span> <span m="487830">this</span> <span m="488160">problem,</span> <span m="489240">in</span> <span m="489510">the</span> <span m="489570">Bellman-Ford</span> <span m="490140">lecture,</span> <span m="490530">delta</span> <span m="490950">sub</span> <span m="491250">k</span> <span m="491760">of</span> <span m="491940">s, v.</span> <span m="492880">Remember,</span> <span m="493350">this</span> <span m="493530">was</span> <span m="493770">the</span> <span m="493980">weight</span> <span m="494340">of</span> <span m="494520">a</span> <span m="494580">shortest</span> <span m="494910">path</span> <span m="495240">from</span> <span m="495460">s to v</span> <span m="496500">that</span> <span m="496830">is</span> <span m="497070">restricted</span> <span m="497730">to</span> <span m="497910">use,</span> <span m="498300">at</span> <span m="498450">most,</span> <span m="498810">k</span> <span m="499170">edges.</span> <span m="500980">This</span> <span m="501310">made</span> <span m="501640">the</span> <span m="501730">problem</span> <span m="502030">feasible.</span> <span m="502540">We</span> <span m="502690">ended</span> <span m="502930">up</span> <span m="503080">taking</span> <span m="503410">the</span> <span m="503530">product</span> <span m="504040">of</span> <span m="504160">the</span> <span m="504250">graph</span> <span m="504670">into</span> <span m="506530">all of</span> <span m="506740">these</span> <span m="506950">different</span> <span m="507430">subproblems,</span> <span m="508400">in</span> <span m="508420">fact.</span> <span m="509530">But</span> <span m="509740">from</span> <span m="509950">the</span> <span m="510100">perspective</span> <span m="510580">of</span> <span m="510700">dynamic</span> <span m="511030">programming,</span> <span m="511450">we</span> <span m="511540">think</span> <span m="511720">of</span> <span m="511810">this</span> <span m="511960">as</span> <span m="512110">a</span> <span m="512150">subproblem</span> <span m="512650">constraint.</span></p>
<p><span m="513460">What</span> <span m="513640">we</span> <span m="513760">really</span> <span m="514059">want</span> <span m="514360">is</span> <span m="514570">the</span> <span m="514690">shortest</span> <span m="515110">s to v</span> <span m="515500">path,</span> <span m="515890">but</span> <span m="516039">that's</span> <span m="516250">hard.</span> <span m="517070">So</span> <span m="517120">we're</span> <span m="517210">going</span> <span m="517330">to</span> <span m="517390">break</span> <span m="517659">it</span> <span m="517720">up</span> <span m="517870">into</span> <span m="518080">smaller</span> <span m="518470">pieces.</span> <span m="519309">For</span> <span m="519520">each</span> <span m="519830">k</span> <span m="520600">between</span> <span m="521020">0</span> <span m="521350">and</span> <span m="521470">v,</span> <span m="522159">we're</span> <span m="522280">going</span> <span m="522400">to</span> <span m="522460">say,</span> <span m="522740">well,</span> <span m="522860">let's</span> <span m="522970">think</span> <span m="523150">about</span> <span m="523390">this</span> <span m="523510">problem</span> <span m="523809">restricted</span> <span m="524410">to</span> <span m="524530">use,</span> <span m="524830">at</span> <span m="524950">most,</span> <span m="525190">k</span> <span m="525505">edges.</span> <span m="526570">And</span> <span m="526900">for</span> <span m="527050">simple</span> <span m="527350">paths,</span> <span m="528100">if</span> <span m="528190">there</span> <span m="528280">are</span> <span m="528340">no</span> <span m="528460">negative</span> <span m="528760">weight</span> <span m="528880">cycles,</span> <span m="529300">we</span> <span m="529390">only</span> <span m="529600">have</span> <span m="529690">to</span> <span m="529780">go</span> <span m="529870">up</span> <span m="529960">to</span> <span m="530050">v</span> <span m="530200">minus</span> <span m="530500">1.</span> <span m="531430">We</span> <span m="531550">proved</span> <span m="531980">that.</span> <span m="532060">And we</span> <span m="532150">know we're--</span> <span m="532540">then</span> <span m="532750">we're</span> <span m="532870">happy.</span> <span m="535820">But</span> <span m="536750">that's</span> <span m="537410">sort</span> <span m="537560">of</span> <span m="537620">the</span> <span m="537710">last</span> <span m="538040">thing</span> <span m="538220">we</span> <span m="538310">want</span> <span m="538460">to</span> <span m="538520">solve.</span> <span m="538890">So</span> <span m="538910">if</span> <span m="539000">we</span> <span m="539090">look</span> <span m="539270">down</span> <span m="539570">at</span> <span m="539750">the</span> <span m="539930">original</span> <span m="540410">problem</span> <span m="540860">we</span> <span m="540980">want,</span> <span m="541640">it's</span> <span m="541970">delta</span> <span m="542570">sub</span> <span m="542900">v</span> <span m="543110">minus</span> <span m="543470">1</span> <span m="543980">of</span> <span m="544230">s,</span> <span m="544576">v</span> <span m="544922">for</span> <span m="545270">all</span> <span m="545510">v.</span> <span m="546440">So</span> <span m="546950">if</span> <span m="547130">we</span> <span m="547220">could</span> <span m="547340">solve</span> <span m="547640">these</span> <span m="547940">subproblems,</span> <span m="548390">as</span> <span m="548540">we</span> <span m="548660">saw</span> <span m="548810">with</span> <span m="548930">Bellman-Ford,</span> <span m="549710">we</span> <span m="549860">can</span> <span m="549980">solve</span> <span m="550190">the</span> <span m="550250">original</span> <span m="550520">problem--</span> <span m="550790">unless</span> <span m="551060">there</span> <span m="551160">are</span> <span m="551180">negative</span> <span m="551480">weight</span> <span m="551630">cycles.</span> <span m="552080">And</span> <span m="552230">we</span> <span m="552350">use</span> <span m="552560">delta</span> <span m="552815">sub</span> <span m="553070">v</span> <span m="553820">of</span> <span m="554210">s, v</span> <span m="554630">to</span> <span m="555260">check</span> <span m="555650">whether</span> <span m="555890">they're</span> <span m="556040">negative</span> <span m="556340">weight</span> <span m="556490">cycles.</span> <span m="556850">I</span> <span m="556900">don't</span> <span m="557030">want</span> <span m="557110">to</span> <span m="557180">repeat</span> <span m="557480">that,</span> <span m="557790">but</span> <span m="557870">that's</span> <span m="558140">the</span> <span m="558800">all</span> <span m="559010">in</span> <span m="559160">the</span> <span m="559250">original</span> <span m="559610">problem.</span></p>
<p><span m="560510">And</span> <span m="560750">then</span> <span m="560960">we</span> <span m="561110">can</span> <span m="561320">take</span> <span m="561740">this</span> <span m="562520">relation</span> <span m="563780">that</span> <span m="563990">we</span> <span m="564140">wrote</span> <span m="564350">for</span> <span m="565010">DAG</span> <span m="565310">shortest</span> <span m="565670">paths</span> <span m="566510">and</span> <span m="566780">just</span> <span m="566960">port</span> <span m="567320">it</span> <span m="567410">over</span> <span m="567650">here.</span> <span m="569100">So</span> <span m="569150">remember,</span> <span m="569780">for</span> <span m="569960">a</span> <span m="570020">general</span> <span m="570320">graph,</span> <span m="570530">this</span> <span m="570740">has</span> <span m="570920">cycles,</span> <span m="571460">so</span> <span m="571640">we</span> <span m="571730">can't</span> <span m="572030">use</span> <span m="572270">it,</span> <span m="572750">because</span> <span m="572960">we're</span> <span m="573080">just</span> <span m="573470">referring</span> <span m="573980">to</span> <span m="574100">arbitrary</span> <span m="574580">delta</span> <span m="574900">of s,</span> <span m="575250">vs,</span> <span m="576680">so</span> <span m="576980">there's</span> <span m="577190">no</span> <span m="577370">reason</span> <span m="577880">to</span> <span m="578060">expect</span> <span m="578360">no</span> <span m="578510">cycles</span> <span m="578870">there.</span> <span m="580080">In</span> <span m="580290">fact,</span> <span m="580680">the</span> <span m="580830">call</span> <span m="581160">graph</span> <span m="581490">is</span> <span m="581640">exactly</span> <span m="582180">the</span> <span m="582300">graph</span> <span m="582570">G,</span> <span m="582800">so</span> <span m="583110">it</span> <span m="583470">has</span> <span m="583710">a</span> <span m="583770">cycle</span> <span m="584070">if</span> <span m="584160">and</span> <span m="584250">only</span> <span m="584430">if</span> <span m="584550">G</span> <span m="584730">does.</span> <span m="586410">But</span> <span m="586650">now,</span> <span m="586830">over</span> <span m="587070">here,</span> <span m="587550">I'm running</span> <span m="587820">exactly</span> <span m="588390">the</span> <span m="588510">same</span> <span m="589200">formula</span> <span m="591050">for</span> <span m="591230">this</span> <span m="591460">min,</span> <span m="592670">but</span> <span m="592940">I</span> <span m="593090">added</span> <span m="593390">a</span> <span m="593600">sub</span> <span m="593900">k</span> <span m="594200">here</span> <span m="594500">and</span> <span m="594680">a</span> <span m="594740">sub</span> <span m="595010">k</span> <span m="595280">minus</span> <span m="595670">1</span> <span m="596000">here,</span> <span m="596630">the</span> <span m="596780">observation</span> <span m="597320">being,</span> <span m="597650">if</span> <span m="598340">I've</span> <span m="598820">already</span> <span m="599330">guessed</span> <span m="599780">what</span> <span m="599930">the</span> <span m="600020">last</span> <span m="600380">edge</span> <span m="600800">u, v</span> <span m="601220">is for</span> <span m="601370">this</span> <span m="601550">path,</span> <span m="602360">then</span> <span m="602840">if</span> <span m="603080">this</span> <span m="603260">whole</span> <span m="603530">thing</span> <span m="604310">has</span> <span m="604580">length</span> <span m="604880">at</span> <span m="604970">most</span> <span m="605270">k,</span> <span m="606290">then</span> <span m="606650">this</span> <span m="606890">piece</span> <span m="607640">has</span> <span m="607970">length</span> <span m="608390">at</span> <span m="608630">most</span> <span m="609030">k</span> <span m="609650">minus</span> <span m="609980">1.</span></p>
<p><span m="611380">So</span> <span m="611680">I</span> <span m="611800">only</span> <span m="612070">need</span> <span m="612250">to</span> <span m="613630">solve</span> <span m="614050">delta</span> <span m="614410">sub k</span> <span m="614830">minus</span> <span m="615040">1</span> <span m="615640">of</span> <span m="615880">s, v</span> <span m="617350">here.</span> <span m="617840">And</span> <span m="618080">so</span> <span m="618260">that's</span> <span m="618500">what</span> <span m="618680">I</span> <span m="618800">wrote--</span> <span m="619160">sorry,</span> <span m="619340">of</span> <span m="619460">s,</span> <span m="619700">u.</span> <span m="620290">That's</span> <span m="620610">what</span> <span m="620810">I</span> <span m="620900">wrote</span> <span m="621080">here.</span> <span m="622580">There's</span> <span m="622820">one</span> <span m="623090">other</span> <span m="623360">thing,</span> <span m="624180">which</span> <span m="624410">is,</span> <span m="625140">as</span> <span m="625340">I</span> <span m="625400">mentioned</span> <span m="625880">a</span> <span m="626030">little</span> <span m="626270">while</span> <span m="626510">ago,</span> <span m="626990">it</span> <span m="627200">could</span> <span m="627410">be</span> <span m="627680">that</span> <span m="627830">we</span> <span m="627950">use</span> <span m="628100">fewer</span> <span m="628430">than</span> <span m="628580">k</span> <span m="628925">edges.</span> <span m="629570">And</span> <span m="629840">so</span> <span m="630530">let's</span> <span m="630770">consider</span> <span m="631160">the</span> <span m="631220">case</span> <span m="631490">where</span> <span m="631670">we</span> <span m="631790">don't</span> <span m="632330">follow</span> <span m="632790">the</span> <span m="632870">last</span> <span m="633200">edge,</span> <span m="633650">and</span> <span m="633890">we</span> <span m="634010">just</span> <span m="634940">add</span> <span m="635210">to</span> <span m="635330">this</span> <span m="635530">min</span> <span m="636140">the</span> <span m="637130">shortest</span> <span m="637550">path</span> <span m="637760">using,</span> <span m="638000">at</span> <span m="638060">most,</span> <span m="638270">k</span> <span m="638460">minus</span> <span m="638690">1</span> <span m="638840">edges.</span> <span m="639170">That's</span> <span m="639350">one</span> <span m="639530">option</span> <span m="640520">for</span> <span m="640940">having,</span> <span m="641420">at most,</span> <span m="641660">k edges.</span> <span m="642260">If</span> <span m="642410">we</span> <span m="642530">wrote</span> <span m="642740">equality</span> <span m="643280">here,</span> <span m="643970">then</span> <span m="644240">we</span> <span m="644360">would</span> <span m="644570">remove</span> <span m="644840">that,</span> <span m="645560">like</span> <span m="645920">the</span> <span m="646040">last</span> <span m="646310">problem</span> <span m="646610">section.</span> <span m="648560">OK,</span> <span m="650160">good.</span></p>
<p><span m="652110">The</span> <span m="652200">key</span> <span m="652380">observation</span> <span m="652950">here</span> <span m="653460">is</span> <span m="653760">that</span> <span m="653910">this</span> <span m="654300">recurrence</span> <span m="655710">does</span> <span m="655980">not</span> <span m="656370">have</span> <span m="656550">cycles.</span> <span m="657630">Just</span> <span m="657900">by</span> <span m="658080">adding</span> <span m="658440">this</span> <span m="658620">index,</span> <span m="659550">if</span> <span m="659820">we</span> <span m="659970">solve</span> <span m="660330">these</span> <span m="660510">problems</span> <span m="660990">in</span> <span m="661110">order</span> <span m="661380">of</span> <span m="661470">increasing</span> <span m="662040">k,</span> <span m="662880">all</span> <span m="663240">of</span> <span m="663360">the</span> <span m="663420">references</span> <span m="663960">from</span> <span m="664170">delta</span> <span m="664470">sub</span> <span m="664620">care</span> <span m="665010">in</span> <span m="665130">terms</span> <span m="665340">of</span> <span m="665430">delta</span> <span m="665910">k</span> <span m="666090">minus</span> <span m="666390">1.</span> <span m="666870">And</span> <span m="667110">so</span> <span m="667290">this</span> <span m="667530">is</span> <span m="667680">now</span> <span m="667920">magically</span> <span m="668400">acyclic.</span> <span m="668940">This</span> <span m="669120">is</span> <span m="669270">why</span> <span m="669630">Bellman-Ford</span> <span m="670260">worked.</span> <span m="672180">But</span> <span m="672450">now,</span> <span m="672960">I</span> <span m="673080">think</span> <span m="673260">in</span> <span m="673350">a</span> <span m="673380">very</span> <span m="673560">pleasing</span> <span m="673920">way,</span> <span m="674040">we're</span> <span m="674190">taking</span> <span m="674520">our</span> <span m="674640">graph</span> <span m="674910">acyclic.</span> <span m="675720">And</span> <span m="675990">by</span> <span m="676350">spreading</span> <span m="676830">it</span> <span m="676920">out</span> <span m="677460">over</span> <span m="677910">various</span> <span m="678210">copies</span> <span m="678540">of</span> <span m="678630">k</span> <span m="678870">and</span> <span m="678990">referencing</span> <span m="679540">always</span> <span m="679830">the</span> <span m="680100">smaller</span> <span m="680520">one,</span> <span m="681480">we</span> <span m="681630">get an</span> <span m="681960">acyclic</span> <span m="682440">graph--</span> <span m="683070">acyclic</span> <span m="683610">relations.</span> <span m="684600">We</span> <span m="684750">have</span> <span m="684840">base</span> <span m="685080">cases,</span> <span m="685890">like</span> <span m="686250">normal.</span></p>
<p><span m="686910">And</span> <span m="687210">then</span> <span m="687390">we</span> <span m="687510">can</span> <span m="687690">analyze</span> <span m="688080">the</span> <span m="688170">running</span> <span m="688470">time</span> <span m="689100">in</span> <span m="689460">the</span> <span m="689580">usual</span> <span m="689970">way,</span> <span m="690670">which</span> <span m="690900">is</span> <span m="691560">summing--</span> <span m="695160">how</span> <span m="695340">much</span> <span m="695550">does</span> <span m="695700">this</span> <span m="695880">cost?</span> <span m="696300">We're</span> <span m="696420">going</span> <span m="696540">to</span> <span m="696600">take</span> <span m="697110">the</span> <span m="697230">cost</span> <span m="697560">of</span> <span m="697650">computing</span> <span m="698070">the</span> <span m="698130">relation,</span> <span m="699090">which</span> <span m="699390">is</span> <span m="699600">the</span> <span m="699720">number</span> <span m="700080">of</span> <span m="700200">incoming</span> <span m="700710">edges</span> <span m="701070">to</span> <span m="701190">v--</span> <span m="702240">that's</span> <span m="702630">this</span> <span m="703890">theta--</span> <span m="705030">and</span> <span m="705270">then</span> <span m="705390">some</span> <span m="705750">overall</span> <span m="706140">subproblem.</span> <span m="706790">So</span> <span m="706860">sum</span> <span m="707100">over</span> <span m="707280">k</span> <span m="707790">and</span> <span m="708030">sum</span> <span m="708240">over</span> <span m="708480">v.</span> <span m="709780">Wrote</span> <span m="710190">it</span> <span m="710280">as</span> <span m="710400">a</span> <span m="710430">sum</span> <span m="710670">instead</span> <span m="710940">of</span> <span m="711030">a</span> <span m="711090">product</span> <span m="711600">because</span> <span m="712320">this</span> <span m="712650">thing</span> <span m="713670">is</span> <span m="714420">theta</span> <span m="714780">E.</span> <span m="717570">The</span> <span m="717660">sum</span> <span m="717930">of</span> <span m="718020">incoming</span> <span m="718410">edges</span> <span m="718770">over</span> <span m="719190">all</span> <span m="719430">vertices</span> <span m="719880">is</span> <span m="720000">exactly</span> <span m="720570">the</span> <span m="720750">size</span> <span m="721020">of</span> <span m="721140">E.</span> <span m="722070">And</span> <span m="722160">then</span> <span m="722310">we</span> <span m="722400">sum--</span> <span m="723030">there's</span> <span m="723270">no</span> <span m="723390">k</span> <span m="723660">in</span> <span m="723750">this</span> <span m="723900">formula,</span> <span m="724390">so</span> <span m="724440">we</span> <span m="724530">just</span> <span m="724680">multiply</span> <span m="725160">by</span> <span m="725310">v</span> <span m="725520">and</span> <span m="725640">we</span> <span m="725730">get</span> <span m="725910">v</span> <span m="726310">E.</span> <span m="726810">So</span> <span m="727170">our</span> <span m="727380">good</span> <span m="727530">friend</span> <span m="728250">Bellman-Ford</span> <span m="728990">recast</span> <span m="729780">kind</span> <span m="730080">of</span> <span m="730260">the</span> <span m="730560">opposite</span> <span m="731010">way.</span> <span m="731940">Before,</span> <span m="732270">we were</span> <span m="732450">using</span> <span m="732720">relaxations.</span> <span m="733500">Now,</span> <span m="733680">we're</span> <span m="733800">just</span> <span m="733980">writing</span> <span m="734280">the</span> <span m="734370">min</span> <span m="734590">explicitly.</span> <span m="735750">But</span> <span m="736050">essentially</span> <span m="736410">the</span> <span m="736500">same</span> <span m="736740">computation,</span> <span m="737370">just</span> <span m="737580">in</span> <span m="737700">a</span> <span m="737760">different</span> <span m="738060">order.</span> <span m="740160">OK,</span> <span m="740630">cool.</span> <span m="741270">Those</span> <span m="741480">are</span> <span m="741600">reviews</span> <span m="741870">of</span> <span m="743160">old</span> <span m="743550">algorithms,</span> <span m="744400">but</span> <span m="744510">in</span> <span m="744660">this</span> <span m="744840">new</span> <span m="745050">framework</span> <span m="746376">to</span> <span m="746740">show</span> <span m="747000">how</span> <span m="747120">powerful</span> <span m="747540">it</span> <span m="747630">is.</span></p>
<p><span m="748860">Let's</span> <span m="749220">look</span> <span m="749520">at</span> <span m="751620">another</span> <span m="752040">example,</span> <span m="753010">which</span> <span m="753270">is</span> <span m="753420">our</span> <span m="753540">friend--</span> <span m="755850">right</span> <span m="756480">here--</span> <span m="758070">all-pair</span> <span m="758520">shortest</span> <span m="758880">paths.</span> <span m="760500">A</span> <span m="760910">few</span> <span m="761180">lectures</span> <span m="761490">ago,</span> <span m="761770">we</span> <span m="762330">saw</span> <span m="762630">Johnson's</span> <span m="763020">algorithm,</span> <span m="763410">which</span> <span m="763560">solves</span> <span m="763810">this</span> <span m="764490">very</span> <span m="764760">well.</span> <span m="766480">So</span> <span m="767670">one</span> <span m="767970">option</span> <span m="768510">we</span> <span m="768690">could</span> <span m="768900">use</span> <span m="770490">is</span> <span m="770790">just</span> <span m="771570">this</span> <span m="771810">same</span> <span m="772200">set</span> <span m="772410">of</span> <span m="772690">subproblems,</span> <span m="773250">but</span> <span m="773400">for</span> <span m="773550">all</span> <span m="773790">u</span> <span m="773970">and</span> <span m="774090">v.</span> <span m="776040">For</span> <span m="777210">u</span> <span m="777720">and</span> <span m="777930">v</span> <span m="778380">and</span> <span m="778510">v--</span> <span m="779040">that's</span> <span m="779280">what</span> <span m="779370">we</span> <span m="779430">really</span> <span m="779640">care</span> <span m="779820">about.</span> <span m="780940">And</span> <span m="781080">then</span> <span m="781380">we</span> <span m="781560">could</span> <span m="781770">say</span> <span m="782290">k</span> <span m="782760">up</span> <span m="782970">to v.</span> <span m="783350">Something</span> <span m="784260">like</span> <span m="784410">that.</span> <span m="785910">So</span> <span m="786020">this</span> <span m="786170">would</span> <span m="786290">work,</span> <span m="787350">but</span> <span m="787460">it</span> <span m="787550">would</span> <span m="787700">give</span> <span m="787910">the</span> <span m="788000">same</span> <span m="788270">running</span> <span m="788540">time</span> <span m="788840">as</span> <span m="789380">running</span> <span m="789770">Bellman-Ford</span> <span m="790490">v</span> <span m="790760">times.</span> <span m="791180">This</span> <span m="791360">is</span> <span m="791510">one</span> <span m="791690">solution</span> <span m="792170">we</span> <span m="792320">know,</span> <span m="792800">but</span> <span m="793010">not</span> <span m="793190">the</span> <span m="793280">best</span> <span m="793490">solution</span> <span m="793910">we</span> <span m="794030">know,</span> <span m="794240">for</span> <span m="794420">how</span> <span m="794540">to</span> <span m="794660">solve</span> <span m="794930">shortest</span> <span m="795230">paths.</span></p>
<p><span m="796160">This</span> <span m="796340">would</span> <span m="796430">give</span> <span m="798200">v</span> <span m="798470">squared</span> <span m="799880">E,</span> <span m="801320">which</span> <span m="801710">is</span> <span m="801890">at</span> <span m="801980">most</span> <span m="803480">v</span> <span m="803870">to</span> <span m="804050">the</span> <span m="804170">4th.</span> <span m="804860">For</span> <span m="805040">dense</span> <span m="805310">graphs,</span> <span m="805700">it</span> <span m="805790">is</span> <span m="805970">theta</span> <span m="806240">v</span> <span m="806420">to</span> <span m="806540">the</span> <span m="806630">4th.</span> <span m="807590">So</span> <span m="807740">this</span> <span m="807890">is</span> <span m="808010">v</span> <span m="808220">times</span> <span m="808640">v</span> <span m="808760">times</span> <span m="809210">v.</span> <span m="810530">But</span> <span m="810770">worst</span> <span m="810950">case</span> <span m="811280">is</span> <span m="811490">v to</span> <span m="811730">the</span> <span m="811820">4th</span> <span m="812870">what</span> <span m="813020">I would</span> <span m="813110">like</span> <span m="813230">to</span> <span m="813290">show</span> <span m="813470">you</span> <span m="813560">now</span> <span m="813770">is</span> <span m="813860">a</span> <span m="813950">different</span> <span m="814370">way</span> <span m="814940">to</span> <span m="815120">solve</span> <span m="815510">this</span> <span m="815690">problem--</span> <span m="816050">almost</span> <span m="816500">identical,</span> <span m="818180">but</span> <span m="818360">gives</span> <span m="818600">v</span> <span m="818810">cubed</span> <span m="819230">running</span> <span m="819470">time,</span> <span m="820310">which,</span> <span m="820550">for</span> <span m="820670">dense</span> <span m="820940">graphs,</span> <span m="821300">is</span> <span m="821450">really</span> <span m="821660">good.</span> <span m="823090">So</span> <span m="823360">we're</span> <span m="823450">going</span> <span m="823570">to</span> <span m="823660">reduce</span> <span m="823960">this</span> <span m="824140">4</span> <span m="824350">down</span> <span m="824530">to</span> <span m="824650">a</span> <span m="824710">3.</span> <span m="825730">And</span> <span m="825880">this</span> <span m="826060">is</span> <span m="826180">an</span> <span m="826270">algorithm</span> <span m="826720">called</span> <span m="826990">Floyd-Warshall.</span> <span m="829660">It's</span> <span m="829900">definitely</span> <span m="830230">not</span> <span m="830470">an</span> <span m="830590">obvious</span> <span m="830890">algorithm.</span> <span m="831150">It's</span> <span m="831410">a very</span> <span m="831580">cool</span> <span m="831880">idea.</span> <span m="832780">And</span> <span m="833070">it's</span> <span m="833170">a</span> <span m="833230">nice</span> <span m="833470">example</span> <span m="833890">of</span> <span m="834010">a</span> <span m="834040">different</span> <span m="834430">way--</span> <span m="835220">remember,</span> <span m="835450">this</span> <span m="835630">is</span> <span m="835840">subproblem</span> <span m="836260">expansion.</span> <span m="836800">We</span> <span m="836920">took</span> <span m="837250">the</span> <span m="837430">problems</span> <span m="837820">we</span> <span m="837910">cared</span> <span m="838180">about</span> <span m="838390">multiplied</span> <span m="838990">by</span> <span m="839140">this</span> <span m="839380">choice</span> <span m="839680">of</span> <span m="839770">k.</span></p>
<p><span m="840640">Here,</span> <span m="840910">we're</span> <span m="841000">going</span> <span m="841120">to</span> <span m="841210">do</span> <span m="841330">the</span> <span m="841420">same</span> <span m="841690">thing,</span> <span m="842080">but</span> <span m="842710">define</span> <span m="843100">it</span> <span m="843220">differently.</span> <span m="844470">We're</span> <span m="844810">going to</span> <span m="845080">define</span> <span m="845470">those</span> <span m="845770">subproblems</span> <span m="846070">differently.</span> <span m="847510">First,</span> <span m="847930">I</span> <span m="848110">want</span> <span m="848320">to</span> <span m="848440">number</span> <span m="848800">the</span> <span m="848890">vertices,</span> <span m="854380">starting</span> <span m="854770">at</span> <span m="854890">1</span> <span m="855280">for</span> <span m="855520">convenience.</span> <span m="856760">So let's see, y--</span> <span m="859210">and</span> <span m="859510">then</span> <span m="859690">we're</span> <span m="859810">going</span> <span m="859930">to</span> <span m="859990">define</span> <span m="860350">some</span> <span m="860710">subproblems,</span> <span m="862030">which</span> <span m="862330">are</span> <span m="864810">delta--</span> <span m="865590">I'll</span> <span m="865860">call it</span> <span m="866130">u,</span> <span m="866580">v,</span> <span m="866880">comma</span> <span m="867180">k.</span> <span m="870310">Maybe,</span> <span m="870700">to</span> <span m="871030">avoid</span> <span m="872590">conflict,</span> <span m="873280">I</span> <span m="873450">will</span> <span m="874540">write</span> <span m="874810">a</span> <span m="876310">d</span> <span m="876810">here.</span> <span m="877050">This</span> <span m="877200">is</span> <span m="877290">just</span> <span m="877470">a</span> <span m="877530">definition</span> <span m="878040">local</span> <span m="878400">to</span> <span m="878580">this</span> <span m="878820">algorithm.</span> <span m="880560">So</span> <span m="880710">I</span> <span m="880830">want</span> <span m="881190">the</span> <span m="882360">weight</span> <span m="883620">of</span> <span m="884880">shortest</span> <span m="886440">s</span> <span m="886700">to</span> <span m="886800">v</span> <span m="886980">path.</span> <span m="891510">So</span> <span m="891690">far,</span> <span m="892050">just</span> <span m="892350">the</span> <span m="892440">same</span> <span m="892980">as</span> <span m="893250">the</span> <span m="893340">problem</span> <span m="893610">we</span> <span m="893700">actually</span> <span m="893940">want</span> <span m="894060">to</span> <span m="894150">solve.</span> <span m="894480">This</span> <span m="894690">is</span> <span m="895170">delta</span> <span m="895770">of--</span> <span m="896280">sorry,</span> <span m="896650">u, v.</span> <span m="900150">But</span> <span m="900480">I'm</span> <span m="900660">going</span> <span m="900930">to</span> <span m="901170">add</span> <span m="901350">a</span> <span m="901410">constraint,</span> <span m="901950">which</span> <span m="902220">is,</span> <span m="904740">using</span> <span m="905400">only</span> <span m="907050">vertices</span> <span m="909870">in</span> <span m="911280">u,</span> <span m="911520">v</span> <span m="913200">and</span> <span m="914700">1</span> <span m="915750">to</span> <span m="916860">up</span> <span m="917100">to</span> <span m="917220">k.</span></p>
<p><span m="919970">This</span> <span m="920150">is</span> <span m="920330">the</span> <span m="920480">divine</span> <span m="920810">inspiration</span> <span m="921440">to</span> <span m="921560">define</span> <span m="921890">subproblems</span> <span m="922400">this</span> <span m="922550">way.</span> <span m="923280">It's</span> <span m="923420">a</span> <span m="923480">different</span> <span m="923930">constraint</span> <span m="924920">than</span> <span m="925190">the</span> <span m="925250">one</span> <span m="925460">we</span> <span m="925610">saw</span> <span m="925880">here,</span> <span m="926760">which</span> <span m="926990">was</span> <span m="928760">using,</span> <span m="929150">at</span> <span m="929240">most,</span> <span m="929480">k</span> <span m="929690">edges.</span> <span m="930840">So</span> <span m="931040">in</span> <span m="931130">some</span> <span m="931310">sense,</span> <span m="931550">what's</span> <span m="931940">slow</span> <span m="932450">about</span> <span m="932720">this</span> <span m="932870">algorithm</span> <span m="933770">is</span> <span m="934010">that</span> <span m="934100">we</span> <span m="934190">have</span> <span m="934340">to</span> <span m="934460">loop</span> <span m="934790">over</span> <span m="935150">all</span> <span m="935450">of the</span> <span m="935570">incoming</span> <span m="936050">vertices.</span> <span m="937860">This</span> <span m="938100">is</span> <span m="938220">expensive.</span> <span m="939720">Costs</span> <span m="940080">order </span> <span m="940350">the</span> <span m="940440">degree,</span> <span m="940800">which</span> <span m="940980">ends</span> <span m="941160">up</span> <span m="941370">with</span> <span m="941580">an</span> <span m="941700">E term.</span> <span m="942150">We're</span> <span m="942240">going</span> <span m="942360">to</span> <span m="942420">try</span> <span m="942570">to</span> <span m="942660">convert</span> <span m="942930">that</span> <span m="943110">E</span> <span m="943260">term</span> <span m="943650">into</span> <span m="943980">a</span> <span m="944040">v</span> <span m="944310">term</span> <span m="945630">by</span> <span m="945960">just</span> <span m="946200">knowing</span> <span m="948040">which</span> <span m="948310">vertex</span> <span m="948730">to</span> <span m="948820">come</span> <span m="949000">from--</span> <span m="949750">which</span> <span m="949990">sounds</span> <span m="950290">impossible.</span></p>
<p><span m="951220">But</span> <span m="951430">it</span> <span m="951490">turns</span> <span m="951760">out,</span> <span m="951910">if</span> <span m="952000">you</span> <span m="952090">write</span> <span m="952300">the</span> <span m="952390">subproblems</span> <span m="952960">this</span> <span m="953140">way--</span> <span m="953980">so</span> <span m="954730">I'm</span> <span m="955180">naming</span> <span m="955540">the</span> <span m="955600">vertices.</span> <span m="956860">And</span> <span m="957130">say,</span> <span m="957440">well,</span> <span m="958460">let</span> <span m="958570">me</span> <span m="958720">just</span> <span m="959020">find</span> <span m="959350">a</span> <span m="959380">path</span> <span m="960100">that</span> <span m="960370">uses</span> <span m="960940">u,</span> <span m="961120">v</span> <span m="961960">and</span> <span m="962410">the</span> <span m="962530">vertex</span> <span m="962920">labeled</span> <span m="963250">1.</span> <span m="963980">There's</span> <span m="964210">only,</span> <span m="964720">like,</span> <span m="964930">two</span> <span m="965110">options.</span> <span m="965600">I</span> <span m="965700">could</span> <span m="965710">go</span> <span m="965830">straight</span> <span m="966100">from</span> <span m="966250">u</span> <span m="966340">to v,</span> <span m="966700">or</span> <span m="966820">I</span> <span m="966880">could</span> <span m="967030">go</span> <span m="967150">from</span> <span m="967330">u to</span> <span m="967765">1</span> <span m="968200">to v.</span> <span m="968980">And</span> <span m="969250">then,</span> <span m="969550">how</span> <span m="969670">about</span> <span m="969880">with</span> <span m="970060">1</span> <span m="970240">and</span> <span m="970330">2,</span> <span m="970600">and</span> <span m="970720">1</span> <span m="970930">and</span> <span m="971020">2</span> <span m="971200">and</span> <span m="971290">3?</span> <span m="971980">The</span> <span m="972130">same</span> <span m="972430">vertices.</span> <span m="974630">By</span> <span m="974930">label</span> <span m="975560">instead</span> <span m="975980">of</span> <span m="976190">by</span> <span m="976610">counting</span> <span m="977150">them.</span> <span m="978110">Slight</span> <span m="978620">tweak,</span> <span m="979580">but</span> <span m="979790">it</span> <span m="979880">turns</span> <span m="980180">out</span> <span m="980360">this</span> <span m="982250">speeds</span> <span m="982610">up</span> <span m="982730">the</span> <span m="982850">algorithm.</span> <span m="983330">So</span> <span m="983630">let</span> <span m="983810">me</span> <span m="984860">first</span> <span m="985250">tell</span> <span m="985460">you</span> <span m="985610">how</span> <span m="985730">many</span> <span m="986130">subproblems</span> <span m="986510">there</span> <span m="986660">are.</span></p>
<p><span m="991820">This</span> <span m="992060">is</span> <span m="992600">v</span> <span m="992870">cubed</span> <span m="993380">subproblems.</span> <span m="994730">Two</span> <span m="994940">choices</span> <span m="995390">for</span> <span m="995540">u</span> <span m="995690">and</span> <span m="995780">v,</span> <span m="996530">and</span> <span m="996860">I</span> <span m="996950">have</span> <span m="998000">v</span> <span m="998240">choices</span> <span m="998840">for--</span> <span m="999600">sorry,</span> <span m="999860">I</span> <span m="999920">have v</span> <span m="1000160">choices</span> <span m="1000520">for</span> <span m="1000610">u,</span> <span m="1000730">v</span> <span m="1000880">choices</span> <span m="1001240">for</span> <span m="1001330">v,</span> <span m="1001720">and v</span> <span m="1002140">choices</span> <span m="1002260">for k,</span> <span m="1003220">roughly.</span> <span m="1006040">v cubed</span> <span m="1006520">of these.</span> <span m="1008210">But</span> <span m="1008350">the</span> <span m="1008440">key</span> <span m="1008620">thing</span> <span m="1008890">is--</span> <span m="1009280">that</span> <span m="1009590">sounds</span> <span m="1009820">like</span> <span m="1009940">a</span> <span m="1010000">lot.</span> <span m="1011140">But</span> <span m="1011320">the</span> <span m="1011410">relation</span> <span m="1012520">becomes</span> <span m="1013180">cheaper</span> <span m="1013540">now,</span> <span m="1014470">because</span> <span m="1015070">I</span> <span m="1015250">can</span> <span m="1015400">just</span> <span m="1015640">write</span> <span m="1016580">delta</span> <span m="1017140">u--</span> <span m="1017740">sorry,</span> <span m="1018510">d</span> <span m="1018950">of u</span> <span m="1019825">v</span> <span m="1020260">k</span> <span m="1022180">is</span> <span m="1022780">the</span> <span m="1023020">min</span> <span m="1024460">of</span> <span m="1024730">two</span> <span m="1025000">things,</span> <span m="1026200">d</span> <span m="1026680">of</span> <span m="1027099">u,</span> <span m="1027430">v,</span> <span m="1027850">k</span> <span m="1028690">minus</span> <span m="1029050">1</span> <span m="1030430">and</span> <span m="1031160">d</span> <span m="1031637">of</span> <span m="1033069">u,</span> <span m="1033429">k,</span> <span m="1035470">k</span> <span m="1035890">minus</span> <span m="1036250">1,</span> <span m="1036760">plus</span> <span m="1037990">d</span> <span m="1038470">of</span> <span m="1039040">k,</span> <span m="1039385">v,</span> <span m="1041458">k</span> <span m="1041890">minus</span> <span m="1042280">1.</span> <span m="1044310">It's</span> <span m="1044460">a</span> <span m="1044520">strange</span> <span m="1046380">formula</span> <span m="1046770">because</span> <span m="1047040">we're</span> <span m="1047160">using</span> <span m="1047819">indices</span> <span m="1048420">like k</span> <span m="1048900">for</span> <span m="1049140">vertices</span> <span m="1050040">also,</span> <span m="1052050">as</span> <span m="1052440">well</span> <span m="1052740">as</span> <span m="1053220">u</span> <span m="1053400">and</span> <span m="1053520">v for</span> <span m="1053880">vertices,</span> <span m="1054360">but</span> <span m="1054480">we're</span> <span m="1054570">also</span> <span m="1054720">using</span> <span m="1054960">k</span> <span m="1055200">as</span> <span m="1055320">a</span> <span m="1055380">counter.</span> <span m="1055860">But</span> <span m="1056130">we</span> <span m="1056220">can</span> <span m="1056370">do</span> <span m="1056490">this</span> <span m="1056670">because</span> <span m="1056970">our</span> <span m="1057060">vertices</span> <span m="1057450">are</span> <span m="1057540">numbered.</span> <span m="1058650">OK.</span></p>
<p><span m="1058890">So</span> <span m="1059100">the</span> <span m="1059220">idea</span> <span m="1059550">is</span> <span m="1059790">the</span> <span m="1059880">following.</span> <span m="1060460">We</span> <span m="1060510">have</span> <span m="1060780">vertex</span> <span m="1061230">u,</span> <span m="1062340">have</span> <span m="1062490">a</span> <span m="1062550">vertex</span> <span m="1062970">v.</span> <span m="1063930">And</span> <span m="1064200">we've</span> <span m="1064440">already</span> <span m="1064920">found</span> <span m="1065370">the</span> <span m="1065460">shortest</span> <span m="1065820">path</span> <span m="1066810">that</span> <span m="1067050">uses</span> <span m="1067590">vertices</span> <span m="1068100">1</span> <span m="1068430">through</span> <span m="1068940">k</span> <span m="1069360">minus</span> <span m="1069750">1.</span> <span m="1071040">That's</span> <span m="1071430">what</span> <span m="1071970">this</span> <span m="1072210">quantity</span> <span m="1072690">is.</span> <span m="1073510">So</span> <span m="1073620">it</span> <span m="1073680">could</span> <span m="1073890">be--</span> <span m="1074790">and</span> <span m="1075180">now,</span> <span m="1075900">we're</span> <span m="1076020">trying</span> <span m="1076230">to</span> <span m="1076320">add</span> <span m="1076620">in</span> <span m="1076740">this</span> <span m="1076890">vertex</span> <span m="1077310">k</span> <span m="1077550">and</span> <span m="1077670">think</span> <span m="1077850">about,</span> <span m="1078330">what</span> <span m="1078630">are</span> <span m="1078720">all</span> <span m="1078840">the</span> <span m="1078930">paths</span> <span m="1079270">that</span> <span m="1079380">could</span> <span m="1079530">go</span> <span m="1079710">from</span> <span m="1079920">u to</span> <span m="1080130">v</span> <span m="1080340">using</span> <span m="1080730">1</span> <span m="1080985">up</span> <span m="1081240">to</span> <span m="1081360">k?</span> <span m="1082380">Well, it</span> <span m="1082620">could</span> <span m="1082800">be</span> <span m="1083250">the</span> <span m="1083400">shortest</span> <span m="1083670">path</span> <span m="1083880">from u</span> <span m="1084060">to</span> <span m="1084150">v</span> <span m="1084420">using</span> <span m="1084690">1 up</span> <span m="1084900">to k</span> <span m="1085170">doesn't</span> <span m="1085530">use</span> <span m="1085770">vertex</span> <span m="1086190">k.</span> <span m="1086700">That's</span> <span m="1086940">the</span> <span m="1087030">first</span> <span m="1087330">option.</span> <span m="1088290">Just</span> <span m="1088560">use</span> <span m="1088740">vertices</span> <span m="1089220">1 up</span> <span m="1089490">to</span> <span m="1089580">k</span> <span m="1089730">minus</span> <span m="1090000">1.</span> <span m="1090210">Maybe</span> <span m="1090420">we</span> <span m="1090540">don't</span> <span m="1090720">need</span> <span m="1091110">to</span> <span m="1091260">use</span> <span m="1091470">k.</span> <span m="1092640">Or</span> <span m="1093030">it</span> <span m="1093180">could</span> <span m="1093360">be</span> <span m="1093480">that</span> <span m="1093660">the</span> <span m="1093750">path</span> <span m="1094080">goes</span> <span m="1094380">through</span> <span m="1094560">k.</span></p>
<p><span m="1095310">Well,</span> <span m="1095580">it</span> <span m="1095670">starts</span> <span m="1095970">at</span> <span m="1096090">u,</span> <span m="1096750">and</span> <span m="1097020">it</span> <span m="1097110">goes</span> <span m="1097350">to</span> <span m="1097440">k,</span> <span m="1098340">and</span> <span m="1098610">then</span> <span m="1098790">it</span> <span m="1098970">goes</span> <span m="1099210">from</span> <span m="1099360">k</span> <span m="1099840">to v,</span> <span m="1100800">all</span> <span m="1101190">using--</span> <span m="1102210">for</span> <span m="1102450">simple</span> <span m="1102780">paths,</span> <span m="1103140">if</span> <span m="1103260">we</span> <span m="1103350">assume</span> <span m="1103590">there</span> <span m="1103710">are</span> <span m="1103740">no</span> <span m="1103890">negative</span> <span m="1104220">weight</span> <span m="1104370">cycles</span> <span m="1104910">and</span> <span m="1105060">you</span> <span m="1105150">have</span> <span m="1105240">to</span> <span m="1105360">run</span> <span m="1105810">Bellman-Ford</span> <span m="1106110">to</span> <span m="1106200">detect</span> <span m="1106560">them--</span> <span m="1107190">but</span> <span m="1107400">assuming</span> <span m="1107700">no</span> <span m="1107820">negative</span> <span m="1108250">weight cycles,</span> <span m="1108720">the</span> <span m="1108810">shortest</span> <span m="1109110">path</span> <span m="1109350">from</span> <span m="1109470">u</span> <span m="1109560">to</span> <span m="1109650">v</span> <span m="1109890">through</span> <span m="1110160">k</span> <span m="1110760">must</span> <span m="1111240">start</span> <span m="1111660">by</span> <span m="1111810">using</span> <span m="1112050">vertices</span> <span m="1112440">less</span> <span m="1112630">than</span> <span m="1112770">k</span> <span m="1113190">and</span> <span m="1113430">then</span> <span m="1113580">use</span> <span m="1113740">vertices</span> <span m="1114090">less</span> <span m="1114270">than</span> <span m="1114390">k</span> <span m="1114600">again.</span> <span m="1115410">And</span> <span m="1115650">that's</span> <span m="1115770">what</span> <span m="1115920">I've</span> <span m="1116040">written</span> <span m="1116280">here.</span> <span m="1116640">It's from</span> <span m="1116820">u</span> <span m="1117030">to</span> <span m="1117120">k</span> <span m="1117450">using</span> <span m="1117780">k</span> <span m="1117930">minus</span> <span m="1118230">1</span> <span m="1119280">up</span> <span m="1119490">to</span> <span m="1119580">k</span> <span m="1119730">minus</span> <span m="1120030">1</span> <span m="1120240">labels,</span> <span m="1121590">and</span> <span m="1122040">from</span> <span m="1122250">k</span> <span m="1122490">to</span> <span m="1122580">v</span> <span m="1122880">using</span> <span m="1123210">labels</span> <span m="1123540">up</span> <span m="1123630">to</span> <span m="1123720">k</span> <span m="1123870">minus</span> <span m="1124170">1.</span> <span m="1125280">The</span> <span m="1125370">cool</span> <span m="1125610">thing</span> <span m="1125850">here</span> <span m="1126180">is,</span> <span m="1126450">the</span> <span m="1126540">min</span> <span m="1126810">only</span> <span m="1127050">has</span> <span m="1127260">two</span> <span m="1127410">terms.</span> <span m="1127890">So</span> <span m="1128100">this</span> <span m="1128280">takes</span> <span m="1128490">constant</span> <span m="1128970">time</span> <span m="1129780">non-recursive</span> <span m="1130530">work.</span> <span m="1131550">So</span> <span m="1131790">this</span> <span m="1132030">is,</span> <span m="1133620">k</span> <span m="1134100">is</span> <span m="1134370">not</span> <span m="1134700">on</span> <span m="1135060">the</span> <span m="1135150">shortest</span> <span m="1135480">path.</span> <span m="1136720">And</span> <span m="1136950">this</span> <span m="1137160">is,</span> <span m="1137520">k</span> <span m="1137880">is</span> <span m="1138120">on</span> <span m="1138420">the</span> <span m="1138520">shortest</span> <span m="1138840">path.</span> <span m="1142520">Cool.</span> <span m="1143090">So</span> <span m="1143330">this</span> <span m="1143570">is</span> <span m="1143780">constant</span> <span m="1145450">non-recursive</span> <span m="1146300">work.</span></p>
<p><span m="1149540">If</span> <span m="1149780">we</span> <span m="1150050">jump</span> <span m="1150320">ahead</span> <span m="1150680">to</span> <span m="1151490">the</span> <span m="1151610">running</span> <span m="1151910">time</span> <span m="1153240">for</span> <span m="1153710">this</span> <span m="1153920">algorithm,</span> <span m="1154770">we</span> <span m="1154910">get</span> <span m="1157280">the</span> <span m="1157430">number</span> <span m="1157760">of</span> <span m="1157820">subproblems,</span> <span m="1158540">which</span> <span m="1158750">is</span> <span m="1158900">v</span> <span m="1159080">cubed,</span> <span m="1160130">times</span> <span m="1160790">the</span> <span m="1161510">amount</span> <span m="1161720">of</span> <span m="1161810">work</span> <span m="1161990">per</span> <span m="1162290">subproblem,</span> <span m="1163490">which</span> <span m="1163790">is</span> <span m="1163880">constant.</span> <span m="1166200">So</span> <span m="1166340">that's</span> <span m="1166580">just</span> <span m="1166820">a</span> <span m="1166850">v</span> <span m="1167060">cubed</span> <span m="1167480">algorithm.</span> <span m="1169330">For</span> <span m="1169570">dense</span> <span m="1169930">graphs,</span> <span m="1171550">this</span> <span m="1171760">is</span> <span m="1171880">really</span> <span m="1172090">good.</span> <span m="1173590">When</span> <span m="1173830">E</span> <span m="1174040">is</span> <span m="1174160">v</span> <span m="1174310">squared,</span> <span m="1175460">then</span> <span m="1176140">this</span> <span m="1176440">is</span> <span m="1176650">the</span> <span m="1176740">same</span> <span m="1176950">thing</span> <span m="1177130">as</span> <span m="1177250">v</span> <span m="1177370">times</span> <span m="1177690">E,</span> <span m="1177850">so</span> <span m="1178120">as</span> <span m="1178240">good</span> <span m="1178420">as</span> <span m="1178540">Bellman-Ford.</span> <span m="1179830">It's</span> <span m="1180100">not</span> <span m="1180430">as</span> <span m="1180580">good</span> <span m="1180760">as</span> <span m="1180880">Johnson</span> <span m="1181360">for</span> <span m="1181540">sparse</span> <span m="1181900">graphs.</span> <span m="1182860">Sparse</span> <span m="1183280">graphs,</span> <span m="1183580">remember--</span> <span m="1185290">or,</span> <span m="1185470">in</span> <span m="1185560">general,</span> <span m="1185860">with</span> <span m="1186670">Johnson,</span> <span m="1187060">we</span> <span m="1187180">got</span> <span m="1187840">v</span> <span m="1188110">squared</span> <span m="1188860">log</span> <span m="1189130">n</span> <span m="1189580">plus</span> <span m="1189970">v.</span> <span m="1190960">And</span> <span m="1191320">this</span> <span m="1191500">is</span> <span m="1191680">always</span> <span m="1192100">spending</span> <span m="1192430">v</span> <span m="1192550">cubed.</span> <span m="1193270">But</span> <span m="1193570">it's</span> <span m="1193750">cool</span> <span m="1194380">because</span> <span m="1194620">it's</span> <span m="1194740">a</span> <span m="1194800">very</span> <span m="1195070">simple</span> <span m="1195400">algorithm.</span> <span m="1195950">Let's</span> <span m="1196870">quickly</span> <span m="1197200">write</span> <span m="1197500">the</span> <span m="1198970">topological</span> <span m="1199570">order.</span> <span m="1204700">All</span> <span m="1204970">we</span> <span m="1205090">need</span> <span m="1205510">is</span> <span m="1205870">to</span> <span m="1206230">guarantee</span> <span m="1206800">that</span> <span m="1207010">we</span> <span m="1207220">solve</span> <span m="1207640">problems</span> <span m="1208090">in</span> <span m="1208270">increasing</span> <span m="1208780">k</span> <span m="1209050">order,</span> <span m="1209800">because</span> <span m="1210340">every</span> <span m="1210760">reference</span> <span m="1211210">here</span> <span m="1211480">is</span> <span m="1211690">to</span> <span m="1211890">a</span> <span m="1211930">smaller</span> <span m="1212440">k</span> <span m="1213130">for</span> <span m="1213340">the</span> <span m="1213430">third</span> <span m="1213730">argument.</span></p>
<p><span m="1216110">And</span> <span m="1216220">so,</span> <span m="1216550">for</span> <span m="1216670">example,</span> <span m="1217120">you</span> <span m="1217240">can</span> <span m="1217360">just</span> <span m="1217540">write</span> <span m="1218290">a</span> <span m="1218680">triply</span> <span m="1219100">nested</span> <span m="1219490">loop--</span> <span m="1220390">k</span> <span m="1220645">equals</span> <span m="1220900">0,</span> <span m="1221260">1</span> <span m="1222053">up</span> <span m="1222426">to</span> <span m="1222800">v,</span> <span m="1224230">and</span> <span m="1226600">u</span> <span m="1226930">and</span> <span m="1227020">v,</span> <span m="1228400">and</span> <span m="1228690">v and</span> <span m="1229005">v.</span> <span m="1231160">So</span> <span m="1231340">if</span> <span m="1231430">you</span> <span m="1231520">wanted</span> <span m="1231730">to</span> <span m="1231820">write</span> <span m="1231970">this</span> <span m="1232150">algorithm</span> <span m="1232510">bottom-up,</span> <span m="1232930">you</span> <span m="1233050">just</span> <span m="1233230">write</span> <span m="1233500">this</span> <span m="1233920">triple</span> <span m="1234250">four-loop</span> <span m="1234880">and</span> <span m="1235120">then</span> <span m="1235270">plug</span> <span m="1235600">in</span> <span m="1236200">this</span> <span m="1236890">recurrence</span> <span m="1237310">relation</span> <span m="1237880">here.</span> <span m="1238870">And</span> <span m="1239380">think</span> <span m="1239590">of</span> <span m="1239710">d</span> <span m="1239920">as</span> <span m="1240100">a</span> <span m="1240190">table,</span> <span m="1241180">as</span> <span m="1241450">a</span> <span m="1242110">set</span> <span m="1242500">mapping,</span> <span m="1243040">instead</span> <span m="1243430">of</span> <span m="1244630">as</span> <span m="1244900">a</span> <span m="1244960">function</span> <span m="1245320">call.</span> <span m="1245830">And</span> <span m="1246070">boom,</span> <span m="1246370">in</span> <span m="1246550">four</span> <span m="1246850">lines,</span> <span m="1247180">you've</span> <span m="1247300">got</span> <span m="1247450">your</span> <span m="1247570">algorithm--</span> <span m="1248350">except</span> <span m="1248800">you</span> <span m="1248920">also</span> <span m="1249130">need</span> <span m="1249280">a</span> <span m="1249310">base</span> <span m="1249550">case.</span> <span m="1250210">The</span> <span m="1250510">base</span> <span m="1250720">case</span> <span m="1250990">here</span> <span m="1252400">is</span> <span m="1255400">u,</span> <span m="1255700">v,</span> <span m="1256000">0.</span> <span m="1257080">So</span> <span m="1257470">I</span> <span m="1257530">have</span> <span m="1257650">to</span> <span m="1257740">define</span> <span m="1258100">what</span> <span m="1258250">that</span> <span m="1258400">means.</span> <span m="1258760">But</span> <span m="1259030">when</span> <span m="1259300">k</span> <span m="1259540">equals</span> <span m="1259780">0,</span> <span m="1260620">the</span> <span m="1260830">1</span> <span m="1261070">through</span> <span m="1261250">k</span> <span m="1261580">set</span> <span m="1261730">is</span> <span m="1261880">empty.</span> <span m="1262780">So</span> <span m="1263080">all</span> <span m="1263200">I'm</span> <span m="1263320">allowed</span> <span m="1263560">to</span> <span m="1263650">use</span> <span m="1263890">are</span> <span m="1264160">my</span> <span m="1264790">vertices</span> <span m="1265450">u</span> <span m="1265750">and</span> <span m="1265840">v.</span></p>
<p><span m="1266860">There</span> <span m="1266980">are</span> <span m="1267040">three</span> <span m="1267220">cases</span> <span m="1267610">for</span> <span m="1267730">this--</span> <span m="1268450">0</span> <span m="1269170">if</span> <span m="1269440">u</span> <span m="1269620">equals</span> <span m="1269980">v.</span> <span m="1271690">It's</span> <span m="1272380">w</span> <span m="1272950">of</span> <span m="1273100">u,</span> <span m="1273250">v</span> <span m="1274690">if</span> <span m="1275020">there's</span> <span m="1275200">an</span> <span m="1275290">edge</span> <span m="1276230">from</span> <span m="1276370">u</span> <span m="1276730">to</span> <span m="1276820">v.</span> <span m="1278980">And</span> <span m="1279520">it's</span> <span m="1279730">infinity</span> <span m="1280270">otherwise.</span> <span m="1285220">OK.</span> <span m="1285490">But</span> <span m="1285700">easy</span> <span m="1285970">base</span> <span m="1286210">case,</span> <span m="1286450">constant</span> <span m="1286750">time</span> <span m="1287050">for</span> <span m="1287170">each.</span> <span m="1288820">And</span> <span m="1289090">then</span> <span m="1289270">the</span> <span m="1289390">original</span> <span m="1289750">problems</span> <span m="1290120">we</span> <span m="1290200">want</span> <span m="1290320">to</span> <span m="1290380">solve</span> <span m="1293420">are</span> <span m="1293630">delta</span> <span m="1294350">u,</span> <span m="1294665">v,</span> <span m="1295250">size</span> <span m="1295730">of</span> <span m="1296120">v.</span> <span m="1297320">Because</span> <span m="1297710">I</span> <span m="1297780">remember</span> <span m="1298010">the</span> <span m="1298100">vertices</span> <span m="1298490">1</span> <span m="1298700">through</span> <span m="1298880">size</span> <span m="1299150">of</span> <span m="1299540">v.</span> <span m="1299900">And</span> <span m="1300140">if</span> <span m="1300440">k equals</span> <span m="1300770">size</span> <span m="1301040">of v,</span> <span m="1301250">that</span> <span m="1301400">means</span> <span m="1301610">I</span> <span m="1301670">get</span> <span m="1301820">to</span> <span m="1301880">use</span> <span m="1302060">all</span> <span m="1302210">of my</span> <span m="1302360">vertices.</span> <span m="1302960">So</span> <span m="1303140">that</span> <span m="1303350">is</span> <span m="1303590">regular</span> <span m="1303950">shortest</span> <span m="1304220">paths.</span> <span m="1304850">This</span> <span m="1305060">is</span> <span m="1305240">assuming</span> <span m="1307430">no</span> <span m="1307730">negative</span> <span m="1308010">weight</span> <span m="1308180">cycles.</span> <span m="1311480">We</span> <span m="1311570">already</span> <span m="1311810">know</span> <span m="1311990">how</span> <span m="1312080">to</span> <span m="1312200">do</span> <span m="1312380">negative</span> <span m="1312680">weight</span> <span m="1312830">cycle</span> <span m="1313100">detection,</span> <span m="1313710">so</span> <span m="1313790">I'm</span> <span m="1313910">not</span> <span m="1314030">going</span> <span m="1314180">to</span> <span m="1315410">talk</span> <span m="1315620">about</span> <span m="1315800">that</span> <span m="1315980">again.</span></p>
<p><span m="1317690">But</span> <span m="1317870">then,</span> <span m="1318110">this</span> <span m="1318320">will</span> <span m="1318410">be</span> <span m="1318650">my</span> <span m="1319460">shortest</span> <span m="1319850">pathway</span> <span m="1320360">because--</span> <span m="1321140">yeah.</span> <span m="1322140">I</span> <span m="1322670">implicitly</span> <span m="1323210">assumed</span> <span m="1323540">here</span> <span m="1323660">that</span> <span m="1323750">my</span> <span m="1323900">path</span> <span m="1324140">was</span> <span m="1324260">simple</span> <span m="1324980">because</span> <span m="1326090">I</span> <span m="1326390">imagined</span> <span m="1326780">that</span> <span m="1326900">I</span> <span m="1326990">only</span> <span m="1327200">use</span> <span m="1327350">k</span> <span m="1327590">once--</span> <span m="1328400">0</span> <span m="1328790">or</span> <span m="1328940">1</span> <span m="1329150">time.</span> <span m="1329910">And</span> <span m="1330080">that's</span> <span m="1330290">true</span> <span m="1330590">if</span> <span m="1330770">there</span> <span m="1330860">are</span> <span m="1330890">no</span> <span m="1331040">negative</span> <span m="1331340">weight</span> <span m="1331490">cycles.</span> <span m="1333660">Cool.</span> <span m="1334030">And</span> <span m="1334410">we</span> <span m="1334500">already</span> <span m="1334710">did</span> <span m="1334860">the</span> <span m="1334980">time</span> <span m="1335310">part</span> <span m="1335610">of</span> <span m="1335800">SRTBOT.</span> <span m="1337090">So</span> <span m="1337480">v</span> <span m="1337720">cubed</span> <span m="1338080">algorithm.</span> <span m="1338470">Very</span> <span m="1338830">simple.</span> <span m="1340930">Basically,</span> <span m="1341800">five</span> <span m="1342130">lines</span> <span m="1342370">of</span> <span m="1342430">code,</span> <span m="1343750">and</span> <span m="1344050">you've</span> <span m="1344170">got</span> <span m="1344350">all-pairs</span> <span m="1344720">shortest</span> <span m="1345010">paths.</span> <span m="1345530">And</span> <span m="1345910">if</span> <span m="1346000">your</span> <span m="1346090">graph</span> <span m="1346330">is</span> <span m="1346420">dense,</span> <span m="1346750">this</span> <span m="1346930">is</span> <span m="1347050">a</span> <span m="1347080">great</span> <span m="1347290">running</span> <span m="1347500">time.</span> <span m="1348220">If</span> <span m="1348340">your</span> <span m="1348820">graph</span> <span m="1349120">is</span> <span m="1349210">not</span> <span m="1349390">dense,</span> <span m="1349660">you</span> <span m="1349780">should</span> <span m="1349990">use</span> <span m="1350260">Johnson,</span> <span m="1351040">like</span> <span m="1351370">you</span> <span m="1351460">will</span> <span m="1352240">in--</span> <span m="1352750">or</span> <span m="1352990">like</span> <span m="1353170">you</span> <span m="1353290">have</span> <span m="1353380">implemented</span> <span m="1353770">in</span> <span m="1353860">your</span> <span m="1353950">problem</span> <span m="1354190">set.</span> <span m="1355600">Yeah.</span></p>
<p><span m="1356500">AUDIENCE:</span> <span m="1356570">So how</span> <span m="1356640">does this</span> <span m="1356710">this</span> <span m="1356860">compare</span> <span m="1357220">to</span> <span m="1357280">just</span> <span m="1357490">running</span> <span m="1357760">Dijkstra's</span> <span m="1358110">algorithm</span> <span m="1358510">a bunch</span> <span m="1358910">of times?</span></p>
<p><span m="1359710">ERIK DEMAINE:</span> <span m="1359852">What</span> <span m="1360280">about</span> <span m="1360550">using</span> <span m="1361000">Dijkstra?</span> <span m="1361750">Let's</span> <span m="1362500">compute.</span> <span m="1364300">Running</span> <span m="1364600">Dijkstra</span> <span m="1365260">v</span> <span m="1365500">times</span> <span m="1366010">is</span> <span m="1366850">the</span> <span m="1367240">running</span> <span m="1367570">time</span> <span m="1367900">of</span> <span m="1370540">Johnson.</span> <span m="1376830">Running</span> <span m="1377070">Dijkstra</span> <span m="1377370">a</span> <span m="1377400">bunch</span> <span m="1377580">of</span> <span m="1377640">times</span> <span m="1377910">is</span> <span m="1378030">great</span> <span m="1378750">if</span> <span m="1378990">your</span> <span m="1379110">graph</span> <span m="1379380">has</span> <span m="1379890">only</span> <span m="1380280">non-negative</span> <span m="1380490">edge</span> <span m="1380940">weights.</span> <span m="1381420">Then</span> <span m="1381660">you</span> <span m="1381750">should</span> <span m="1381960">just</span> <span m="1382170">run</span> <span m="1382320">Dijkstra.</span> <span m="1383520">You</span> <span m="1383640">get</span> <span m="1383790">this</span> <span m="1383940">running</span> <span m="1384180">time.</span> <span m="1385050">And</span> <span m="1385350">for</span> <span m="1385920">sparse</span> <span m="1386220">graphs,</span> <span m="1386640">this</span> <span m="1386820">is</span> <span m="1386880">superior.</span> <span m="1387690">If</span> <span m="1387930">you</span> <span m="1387990">have</span> <span m="1388110">negative</span> <span m="1388460">edge weights,</span> <span m="1388740">you</span> <span m="1388830">should</span> <span m="1388980">run</span> <span m="1389130">Johnson,</span> <span m="1389680">which</span> <span m="1389730">is</span> <span m="1389820">Bellman-Ford</span> <span m="1390450">once</span> <span m="1390840">and</span> <span m="1390990">then</span> <span m="1391110">Dijkstra</span> <span m="1391770">three</span> <span m="1392010">times.</span> <span m="1393900">And</span> <span m="1394230">we're</span> <span m="1394410">comparing</span> <span m="1394890">this</span> <span m="1395160">to</span> <span m="1396690">v</span> <span m="1398640">cubed,</span> <span m="1399550">which</span> <span m="1399660">we</span> <span m="1399750">just</span> <span m="1399960">got.</span></p>
<p><span m="1401010">So</span> <span m="1401280">this--</span> <span m="1401850">I</span> <span m="1401970">mean,</span> <span m="1402150">how</span> <span m="1402330">these</span> <span m="1402510">compare</span> <span m="1402900">depends</span> <span m="1403260">on</span> <span m="1403380">how</span> <span m="1403530">v</span> <span m="1403620">and E</span> <span m="1403950">relate.</span> <span m="1404670">On</span> <span m="1404760">the</span> <span m="1404850">one</span> <span m="1405030">hand,</span> <span m="1405660">maybe</span> <span m="1407220">v</span> <span m="1407790">is</span> <span m="1408120">theta</span> <span m="1408420">E.</span> <span m="1410190">That's</span> <span m="1410520">what</span> <span m="1410670">I</span> <span m="1410760">would</span> <span m="1410850">call</span> <span m="1411090">a</span> <span m="1411150">very</span> <span m="1411330">sparse</span> <span m="1411720">graph.</span> <span m="1412200">And</span> <span m="1412320">it's</span> <span m="1412410">quite</span> <span m="1412620">common.</span> <span m="1414250">Then,</span> <span m="1415080">the</span> <span m="1415230">running</span> <span m="1415470">time</span> <span m="1415740">we</span> <span m="1415860">get</span> <span m="1416070">here</span> <span m="1417270">is</span> <span m="1419850">v</span> <span m="1420090">squared</span> <span m="1420900">log</span> <span m="1421170">v--</span> <span m="1422280">roughly</span> <span m="1422580">v</span> <span m="1422730">squared.</span> <span m="1425140">On</span> <span m="1425310">the</span> <span m="1425370">other</span> <span m="1425580">hand,</span> <span m="1426100">if</span> <span m="1426240">we</span> <span m="1426420">have</span> <span m="1427260">a</span> <span m="1427410">very</span> <span m="1427590">dense</span> <span m="1427860">graph,</span> <span m="1428340">v is</span> <span m="1428580">theta</span> <span m="1429270">E</span> <span m="1429480">squared--</span> <span m="1430270">which,</span> <span m="1430410">for</span> <span m="1430500">simple</span> <span m="1430800">graphs,</span> <span m="1431160">is the</span> <span m="1431280">most</span> <span m="1431520">we</span> <span m="1431640">could</span> <span m="1431790">hope</span> <span m="1432000">for--</span> <span m="1433380">then</span> <span m="1433800">this</span> <span m="1434070">running</span> <span m="1434340">time</span> <span m="1435930">is</span> <span m="1437520">v</span> <span m="1437790">cubed.</span> <span m="1440630">If you</span> <span m="1440930">know the</span> <span m="1441290">v</span> <span m="1441545">is</span> <span m="1441800">near</span> <span m="1441980">E</span> <span m="1442160">squared,</span> <span m="1442620">then</span> <span m="1442670">this</span> <span m="1442790">is</span> <span m="1442910">giving</span> <span m="1443210">you</span> <span m="1443525">v</span> <span m="1443840">cubed</span> <span m="1444140">anyway,</span> <span m="1444740">from</span> <span m="1444980">the</span> <span m="1445070">vE</span> <span m="1445430">term.</span></p>
<p><span m="1446090">So</span> <span m="1446360">why</span> <span m="1446510">not</span> <span m="1446660">just</span> <span m="1446900">use</span> <span m="1447530">this</span> <span m="1447770">algorithm?</span> <span m="1448250">And</span> <span m="1448460">often,</span> <span m="1448670">you know,</span> <span m="1449060">a priori,</span> <span m="1449450">whether</span> <span m="1449630">your</span> <span m="1449720">graph</span> <span m="1449960">is</span> <span m="1450050">very</span> <span m="1450230">sparse</span> <span m="1450590">or</span> <span m="1450650">very</span> <span m="1450830">dense</span> <span m="1451130">or</span> <span m="1451250">somewhere</span> <span m="1451520">in</span> <span m="1451580">between.</span> <span m="1452240">If</span> <span m="1452390">it's</span> <span m="1452480">somewhere</span> <span m="1452750">in</span> <span m="1452840">between,</span> <span m="1453170">you</span> <span m="1453260">should</span> <span m="1453410">still</span> <span m="1453680">use</span> <span m="1453860">Johnson's</span> <span m="1454220">algorithm,</span> <span m="1455120">because</span> <span m="1455450">you're</span> <span m="1455600">going</span> <span m="1455750">to</span> <span m="1455810">get</span> <span m="1456050">the</span> <span m="1456140">benefit</span> <span m="1456680">from</span> <span m="1456860">sparsity</span> <span m="1457610">and</span> <span m="1457790">only</span> <span m="1457970">have</span> <span m="1458090">to</span> <span m="1458150">pay</span> <span m="1458270">this</span> <span m="1458450">vE</span> <span m="1459050">instead</span> <span m="1459470">of</span> <span m="1459590">the</span> <span m="1459680">v</span> <span m="1459830">cubed.</span> <span m="1461030">But</span> <span m="1461240">if</span> <span m="1461360">you</span> <span m="1461450">know</span> <span m="1461570">ahead</span> <span m="1461750">of</span> <span m="1461840">time,</span> <span m="1462630">constant</span> <span m="1462980">fraction</span> <span m="1463280">of</span> <span m="1463340">the</span> <span m="1463400">edges</span> <span m="1463820">are</span> <span m="1463970">there,</span> <span m="1464760">then</span> <span m="1465110">just</span> <span m="1465440">use--</span> <span m="1466910">or</span> <span m="1467210">you</span> <span m="1467360">have</span> <span m="1467510">a</span> <span m="1467570">small</span> <span m="1467810">enough</span> <span m="1468020">graph</span> <span m="1468260">that</span> <span m="1468350">you</span> <span m="1468400">don't</span> <span m="1468560">care,</span> <span m="1469040">just</span> <span m="1469850">Floyd-Warshall</span> <span m="1470555">because</span> <span m="1470990">it's</span> <span m="1471110">simple</span> <span m="1471380">and</span> <span m="1471500">fast.</span></p>
<p><span m="1473340">Good</span> <span m="1473550">question.</span> <span m="1475540">Any</span> <span m="1475770">other</span> <span m="1475980">questions?</span> <span m="1477480">This</span> <span m="1477690">is</span> <span m="1478020">an</span> <span m="1478170">example</span> <span m="1478650">of</span> <span m="1478830">subproblem</span> <span m="1479280">expansion--</span> <span m="1480090">a</span> <span m="1480300">very</span> <span m="1480510">non-intuitive</span> <span m="1481200">one,</span> <span m="1481440">where</span> <span m="1481620">we</span> <span m="1482190">use</span> <span m="1482910">some</span> <span m="1483870">prefix</span> <span m="1484350">of</span> <span m="1484560">the</span> <span m="1484770">vertices.</span> <span m="1485370">But</span> <span m="1485490">notice,</span> <span m="1485760">it's</span> <span m="1485880">prefixes</span> <span m="1486420">again--</span> <span m="1486910">a</span> <span m="1486990">number</span> <span m="1487240">of</span> <span m="1487320">the</span> <span m="1487380">vertices</span> <span m="1487860">from</span> <span m="1488040">1 up</span> <span m="1488280">to</span> <span m="1488400">v.</span> <span m="1488790">And</span> <span m="1489180">I</span> <span m="1489240">took</span> <span m="1489450">a</span> <span m="1489510">prefix</span> <span m="1490080">of</span> <span m="1490170">those</span> <span m="1490380">vertices.</span> <span m="1490830">So</span> <span m="1490950">I</span> <span m="1491010">just</span> <span m="1491190">solved</span> <span m="1491460">the</span> <span m="1491550">problem</span> <span m="1491910">using</span> <span m="1492210">prefix</span> <span m="1493380">vertices</span> <span m="1493770">1</span> <span m="1493950">through</span> <span m="1494170">k.</span> <span m="1494490">So</span> <span m="1494700">it's</span> <span m="1494790">actually</span> <span m="1495120">a</span> <span m="1495180">familiar</span> <span m="1495630">idea.</span> <span m="1497170">If</span> <span m="1497910">all</span> <span m="1498090">you had</span> <span m="1498270">seen</span> <span m="1498540">are</span> <span m="1498660">all</span> <span m="1498870">dynamic</span> <span m="1499230">programming</span> <span m="1499610">examples</span> <span m="1500010">of</span> <span m="1500100">prefixes,</span> <span m="1500550">suffixes,</span> <span m="1501450">substrings,</span> <span m="1502050">actually,</span> <span m="1502320">it's</span> <span m="1502460">pretty</span> <span m="1502680">natural</span> <span m="1503070">way</span> <span m="1503340">to</span> <span m="1503490">solve</span> <span m="1503760">shortest</span> <span m="1504120">paths--</span> <span m="1504990">maybe</span> <span m="1505320">even</span> <span m="1505560">more</span> <span m="1505740">natural</span> <span m="1506040">than</span> <span m="1506220">this.</span> <span m="1508610">Anyway,</span> <span m="1511500">all</span> <span m="1511680">right.</span></p>
<p><span m="1511860">Enough</span> <span m="1512130">shortest</span> <span m="1512430">paths.</span> <span m="1513760">Let's</span> <span m="1513990">solve</span> <span m="1514440">two</span> <span m="1514590">more</span> <span m="1514770">problems</span> <span m="1515880">that</span> <span m="1516150">are</span> <span m="1516750">more</span> <span m="1517140">in</span> <span m="1517320">our</span> <span m="1518040">standard</span> <span m="1518490">wheelhouse</span> <span m="1518940">that</span> <span m="1519060">will</span> <span m="1519150">involve</span> <span m="1519480">sequences</span> <span m="1520110">of</span> <span m="1520230">inputs,</span> <span m="1520800">not</span> <span m="1521010">graphs.</span> <span m="1522810">First</span> <span m="1523140">one</span> <span m="1523350">is</span> <span m="1523650">arithmetic</span> <span m="1524280">parenthesization.</span> <span m="1526610">First,</span> <span m="1526970">let</span> <span m="1527090">me</span> <span m="1527270">define</span> <span m="1527660">this</span> <span m="1527780">problem.</span> <span m="1548720">OK.</span> <span m="1549200">We</span> <span m="1549440">are</span> <span m="1549590">given</span> <span m="1550220">a</span> <span m="1552140">formula</span> <span m="1552770">with,</span> <span m="1553160">say,</span> <span m="1553490">plus</span> <span m="1553850">and</span> <span m="1553980">times.</span> <span m="1554630">Let me</span> <span m="1554890">give</span> <span m="1555110">you</span> <span m="1555770">an</span> <span m="1555980">actual</span> <span m="1556280">example--</span> <span m="1558140">7</span> <span m="1559280">plus</span> <span m="1559820">4</span> <span m="1561230">times</span> <span m="1561890">3</span> <span m="1563120">plus</span> <span m="1564050">5.</span> <span m="1567670">Now,</span> <span m="1568720">when</span> <span m="1568900">you</span> <span m="1569050">read</span> <span m="1569260">this,</span> <span m="1569560">because</span> <span m="1569770">you've</span> <span m="1569920">been</span> <span m="1570100">well-trained,</span> <span m="1570910">you</span> <span m="1571120">think,</span> <span m="1571390">OK,</span> <span m="1571660">I'm</span> <span m="1571750">going</span> <span m="1571870">to</span> <span m="1571930">multiply</span> <span m="1572380">4</span> <span m="1572560">and</span> <span m="1572650">3</span> <span m="1572830">first</span> <span m="1573430">because</span> <span m="1573670">that</span> <span m="1573820">has</span> <span m="1573970">a</span> <span m="1574060">higher</span> <span m="1574330">precedence,</span> <span m="1574870">and</span> <span m="1574990">then</span> <span m="1575140">I'll</span> <span m="1575290">add</span> <span m="1575770">the</span> <span m="1575950">results</span> <span m="1576340">up.</span></p>
<p><span m="1576970">But</span> <span m="1577570">what</span> <span m="1577750">I'm</span> <span m="1577900">going</span> <span m="1578020">to</span> <span m="1578080">let</span> <span m="1578230">you</span> <span m="1578350">do</span> <span m="1578560">is</span> <span m="1578680">parenthesize</span> <span m="1579340">this</span> <span m="1579490">expression</span> <span m="1580100">however</span> <span m="1580390">you</span> <span m="1580480">want.</span> <span m="1580780">For</span> <span m="1581080">example,</span> <span m="1581990">you</span> <span m="1582130">can</span> <span m="1582310">add</span> <span m="1582670">parentheses</span> <span m="1583210">here</span> <span m="1583390">and</span> <span m="1583480">here.</span> <span m="1584080">You</span> <span m="1584140">must</span> <span m="1584410">make</span> <span m="1584620">a</span> <span m="1584680">balanced</span> <span m="1585160">parenthesis</span> <span m="1585700">expression,</span> <span m="1586480">a</span> <span m="1586660">valid</span> <span m="1587050">way</span> <span m="1587350">to</span> <span m="1587950">pair</span> <span m="1588220">up--</span> <span m="1588730">or</span> <span m="1588940">not</span> <span m="1589060">just</span> <span m="1589210">pair up,</span> <span m="1589600">but</span> <span m="1590000">a</span> <span m="1590260">valid</span> <span m="1590590">way</span> <span m="1590710">to</span> <span m="1590860">evaluate</span> <span m="1591340">this</span> <span m="1591520">expression.</span> <span m="1592030">Any</span> <span m="1592330">order</span> <span m="1592720">you</span> <span m="1592810">want.</span> <span m="1594360">I</span> <span m="1594460">could</span> <span m="1594610">be</span> <span m="1594700">inconsistent.</span> <span m="1595360">I</span> <span m="1595510">could,</span> <span m="1596510">for</span> <span m="1596560">example,</span> <span m="1597100">do</span> <span m="1597340">this</span> <span m="1597520">sum,</span> <span m="1598210">and</span> <span m="1598510">then</span> <span m="1598690">do</span> <span m="1598840">this</span> <span m="1599020">product,</span> <span m="1600100">and</span> <span m="1600370">then</span> <span m="1600520">do</span> <span m="1600670">this</span> <span m="1600850">sum.</span> <span m="1602330">But</span> <span m="1602480">some</span> <span m="1602960">kind</span> <span m="1603170">of</span> <span m="1603380">expression</span> <span m="1603950">tree</span> <span m="1606200">over</span> <span m="1606590">this.</span> <span m="1606800">And</span> <span m="1606920">each</span> <span m="1607100">one</span> <span m="1607280">evaluates</span> <span m="1607760">to</span> <span m="1607850">something.</span> <span m="1608390">This</span> <span m="1608600">is</span> <span m="1608780">11</span> <span m="1609800">and</span> <span m="1610100">this</span> <span m="1610280">is</span> <span m="1610460">8,</span> <span m="1611270">and</span> <span m="1611540">so</span> <span m="1611720">this</span> <span m="1612080">is</span> <span m="1612470">88.</span> <span m="1614540">And</span> <span m="1614780">my</span> <span m="1614930">goal</span> <span m="1615170">is</span> <span m="1615290">to</span> <span m="1615410">maximize</span> <span m="1616700">that</span> <span m="1616970">computation.</span> <span m="1617760">And</span> <span m="1617810">I</span> <span m="1617870">claim</span> <span m="1618230">that</span> <span m="1618740">this</span> <span m="1619010">is</span> <span m="1619130">the</span> <span m="1619250">way</span> <span m="1619340">to</span> <span m="1619430">maximize</span> <span m="1619880">that</span> <span m="1620030">particular</span> <span m="1620570">example.</span> <span m="1622280">Let</span> <span m="1622430">me</span> <span m="1624180">write</span> <span m="1624420">it</span> <span m="1624740">in</span> <span m="1624980">general,</span> <span m="1625880">and</span> <span m="1626150">get</span> <span m="1626330">my</span> <span m="1626480">notation</span> <span m="1627050">to</span> <span m="1627170">match</span> <span m="1627590">my</span> <span m="1627800">notes.</span></p>
<p><span m="1629150">Given</span> <span m="1630530">a</span> <span m="1630830">formula</span> <span m="1635750">a</span> <span m="1636580">0,</span> <span m="1637960">star</span> <span m="1638275">1,</span> <span m="1638590">a</span> <span m="1639055">1,</span> <span m="1641170">star</span> <span m="1641650">2,</span> <span m="1642880">a</span> <span m="1643130">2,</span> <span m="1643540">and</span> <span m="1643870">so</span> <span m="1644200">on</span> <span m="1644890">up</span> <span m="1645100">to</span> <span m="1645280">star</span> <span m="1646660">n</span> <span m="1646930">minus</span> <span m="1647260">1,</span> <span m="1648280">a</span> <span m="1648550">n</span> <span m="1648820">minus</span> <span m="1649120">1,</span> <span m="1651560">where</span> <span m="1654170">each</span> <span m="1654950">a</span> <span m="1655280">i</span> <span m="1655970">is</span> <span m="1656150">an</span> <span m="1656270">integer,</span> <span m="1657020">as</span> <span m="1657200">we</span> <span m="1657320">like</span> <span m="1657560">in</span> <span m="1657650">this</span> <span m="1657800">class,</span> <span m="1658770">and</span> <span m="1659600">each</span> <span m="1659990">star</span> <span m="1660260">i</span> <span m="1661520">is</span> <span m="1661760">either</span> <span m="1662750">plus</span> <span m="1663620">or</span> <span m="1663830">times.</span> <span m="1665590">OK</span> <span m="1665800">so</span> <span m="1665920">I'm</span> <span m="1666010">using</span> <span m="1666280">star</span> <span m="1666730">as</span> <span m="1666940">a</span> <span m="1667000">generic</span> <span m="1667390">operator.</span> <span m="1668760">I chose</span> <span m="1669100">star</span> <span m="1669430">because</span> <span m="1669670">it</span> <span m="1669790">is</span> <span m="1669940">the</span> <span m="1670030">superposition</span> <span m="1670720">of</span> <span m="1670810">star</span> <span m="1671110">on</span> <span m="1671770">top</span> <span m="1672040">of</span> <span m="1672160">a</span> <span m="1672220">times</span> <span m="1672460">symbol.</span> <span m="1673180">So</span> <span m="1673780">it's</span> <span m="1674680">clear.</span> <span m="1676240">So</span> <span m="1676390">you're</span> <span m="1676480">given</span> <span m="1676720">some</span> <span m="1676930">formula,</span> <span m="1677320">any</span> <span m="1677590">mixture</span> <span m="1678040">of</span> <span m="1678130">plus</span> <span m="1678490">and</span> <span m="1678640">times</span> <span m="1678940">that</span> <span m="1679060">you</span> <span m="1679180">like,</span> <span m="1680110">involving</span> <span m="1680590">n</span> <span m="1680890">integers.</span> <span m="1682820">And</span> <span m="1683300">your</span> <span m="1683420">goal</span> <span m="1683720">is</span> <span m="1683930">to</span> <span m="1684230">place</span> <span m="1685870">parentheses</span> <span m="1688640">to</span> <span m="1689300">maximize</span> <span m="1691220">the</span> <span m="1691400">result.</span> <span m="1694830">So</span> <span m="1694880">you</span> <span m="1694970">can</span> <span m="1695120">try</span> <span m="1695450">all</span> <span m="1695570">of the</span> <span m="1695660">combinations</span> <span m="1696380">here.</span></p>
<p><span m="1697220">If</span> <span m="1697400">I,</span> <span m="1697640">for</span> <span m="1697730">example,</span> <span m="1698160">take</span> <span m="1698210">the</span> <span m="1698300">product</span> <span m="1698660">of</span> <span m="1698750">4</span> <span m="1698900">times</span> <span m="1699170">3,</span> <span m="1699440">I</span> <span m="1699560">get</span> <span m="1699740">12.</span> <span m="1701120">If</span> <span m="1701270">I</span> <span m="1701330">do</span> <span m="1701450">that</span> <span m="1701630">first,</span> <span m="1702050">I</span> <span m="1702110">get</span> <span m="1702260">12.</span> <span m="1702890">Then</span> <span m="1703100">if</span> <span m="1703220">I</span> <span m="1703310">add</span> <span m="1703520">5</span> <span m="1704000">and</span> <span m="1704150">7,</span> <span m="1704600">I</span> <span m="1704720">get</span> <span m="1705740">24,</span> <span m="1706910">which</span> <span m="1707150">is</span> <span m="1707240">less</span> <span m="1707420">than</span> <span m="1707570">88.</span> <span m="1709250">And</span> <span m="1709520">I</span> <span m="1709610">check</span> <span m="1709850">them</span> <span m="1710000">all,</span> <span m="1710270">and</span> <span m="1710450">this</span> <span m="1710630">one</span> <span m="1711200">is</span> <span m="1711590">the</span> <span m="1711710">maximum</span> <span m="1712460">for</span> <span m="1712640">that</span> <span m="1712790">example.</span> <span m="1715610">Interesting</span> <span m="1716180">problem.</span> <span m="1719030">It's</span> <span m="1719240">a</span> <span m="1719450">bit</span> <span m="1719630">of</span> <span m="1719720">a</span> <span m="1719750">toy</span> <span m="1720020">problem,</span> <span m="1720440">but</span> <span m="1720620">it's</span> <span m="1720860">motivated</span> <span m="1721370">by</span> <span m="1721580">lots</span> <span m="1721820">of</span> <span m="1722840">actual</span> <span m="1723530">problems,</span> <span m="1725306">which</span> <span m="1725700">I</span> <span m="1725820">won't</span> <span m="1725970">go</span> <span m="1726120">into</span> <span m="1726330">here.</span> <span m="1729390">To</span> <span m="1729600">apply</span> <span m="1730920">this</span> <span m="1731160">framework,</span> <span m="1732900">we</span> <span m="1733280">need</span> <span m="1733400">to</span> <span m="1733550">identify some</span> <span m="1734000">subproblems.</span> <span m="1734870">This</span> <span m="1735050">is</span> <span m="1735230">a</span> <span m="1735860">sequence</span> <span m="1736400">problem.</span> <span m="1736890">We're</span> <span m="1736990">given</span> <span m="1737150">a</span> <span m="1737210">sequence</span> <span m="1737750">of</span> <span m="1738140">symbols.</span> <span m="1739070">And</span> <span m="1739280">so</span> <span m="1739430">the</span> <span m="1739490">natural</span> <span m="1739820">thing is</span> <span m="1740120">to</span> <span m="1740240">try</span> <span m="1740480">prefixes,</span> <span m="1741240">suffixes,</span> <span m="1742050">and</span> <span m="1742160">substrings.</span></p>
<p><span m="1742910">I'm</span> <span m="1743090">going</span> <span m="1743210">to</span> <span m="1743270">jump</span> <span m="1743540">ahead</span> <span m="1743810">and</span> <span m="1743930">think</span> <span m="1744110">about</span> <span m="1744380">the</span> <span m="1744470">relation</span> <span m="1744980">first.</span> <span m="1746030">I</span> <span m="1746210">want</span> <span m="1746330">to</span> <span m="1746390">identify</span> <span m="1746990">some</span> <span m="1747200">question</span> <span m="1747530">about a</span> <span m="1747890">subproblem</span> <span m="1749390">or</span> <span m="1749550">its</span> <span m="1749630">solution</span> <span m="1750710">that</span> <span m="1750950">would</span> <span m="1751070">let</span> <span m="1751190">me</span> <span m="1751310">reduce</span> <span m="1751700">to</span> <span m="1751790">smaller</span> <span m="1752180">subproblems.</span> <span m="1753170">This is</span> <span m="1753290">a</span> <span m="1753350">little</span> <span m="1753560">trickier.</span> <span m="1754040">This</span> <span m="1754190">is</span> <span m="1754250">very</span> <span m="1754430">different.</span> <span m="1755220">We're</span> <span m="1755300">not</span> <span m="1755660">always</span> <span m="1756110">doing</span> <span m="1756320">something</span> <span m="1756650">on</span> <span m="1756740">the</span> <span m="1756830">left</span> <span m="1757100">or</span> <span m="1757190">on</span> <span m="1757310">the</span> <span m="1757370">right,</span> <span m="1758090">or</span> <span m="1758510">we</span> <span m="1758660">can't</span> <span m="1758870">assume</span> <span m="1759170">there's</span> <span m="1759320">something</span> <span m="1759710">happening</span> <span m="1760070">on</span> <span m="1760190">the</span> <span m="1760250">left,</span> <span m="1760970">because</span> <span m="1761180">maybe</span> <span m="1761510">we</span> <span m="1761720">take</span> <span m="1761960">a</span> <span m="1762020">product</span> <span m="1762320">in</span> <span m="1762410">the</span> <span m="1762470">middle</span> <span m="1762740">first.</span> <span m="1763685">If I</span> <span m="1764090">take</span> <span m="1764270">a</span> <span m="1764330">product</span> <span m="1764630">in</span> <span m="1764720">the</span> <span m="1764810">middle</span> <span m="1765080">first,</span> <span m="1765530">then</span> <span m="1765710">I</span> <span m="1765800">have</span> <span m="1766010">some</span> <span m="1766370">result</span> <span m="1766820">here,</span> <span m="1767570">but</span> <span m="1767720">I</span> <span m="1767780">still</span> <span m="1768020">have</span> <span m="1768170">three</span> <span m="1768410">things.</span> <span m="1768680">I</span> <span m="1768740">have</span> <span m="1768890">the</span> <span m="1768980">thing</span> <span m="1769190">to</span> <span m="1769310">the</span> <span m="1769430">left,</span> <span m="1769880">I</span> <span m="1769940">have</span> <span m="1770090">the</span> <span m="1770180">thing</span> <span m="1770360">in</span> <span m="1770480">the</span> <span m="1770540">middle,</span> <span m="1771200">and</span> <span m="1771360">I</span> <span m="1771410">have</span> <span m="1771530">the</span> <span m="1771590">thing</span> <span m="1771740">on</span> <span m="1771860">the</span> <span m="1771920">right.</span> <span m="1772590">It</span> <span m="1772710">turns</span> <span m="1772970">out</span> <span m="1773060">to</span> <span m="1773150">be</span> <span m="1773270">very</span> <span m="1773510">messy</span> <span m="1773870">to</span> <span m="1773960">think</span> <span m="1774140">about</span> <span m="1774410">what</span> <span m="1774590">the</span> <span m="1774710">first</span> <span m="1775160">operation</span> <span m="1775700">is.</span> <span m="1776780">Because</span> <span m="1776960">we</span> <span m="1777050">can</span> <span m="1777200">think</span> <span m="1777380">of</span> <span m="1777500">this</span> <span m="1777710">as</span> <span m="1777890">a</span> <span m="1777950">tree,</span> <span m="1780950">where</span> <span m="1781610">we</span> <span m="1781880">take</span> <span m="1782120">a</span> <span m="1782180">product</span> <span m="1782630">here--</span> <span m="1783230">we</span> <span m="1783380">take</span> <span m="1783590">a</span> <span m="1783620">sum</span> <span m="1784100">of</span> <span m="1784280">7</span> <span m="1784730">and</span> <span m="1784910">4</span> <span m="1788120">and</span> <span m="1788570">3</span> <span m="1788900">and</span> <span m="1789020">5</span> <span m="1790550">over</span> <span m="1790880">here</span> <span m="1791150">and</span> <span m="1791270">then</span> <span m="1791420">take</span> <span m="1791540">the</span> <span m="1791660">product</span> <span m="1792020">at</span> <span m="1792110">the</span> <span m="1792200">root.</span></p>
<p><span m="1793350">But</span> <span m="1793580">I</span> <span m="1793670">don't</span> <span m="1793850">know</span> <span m="1793970">what</span> <span m="1794090">the</span> <span m="1794150">tree</span> <span m="1794420">is,</span> <span m="1794630">right?</span> <span m="1794810">I</span> <span m="1794900">only</span> <span m="1795140">know</span> <span m="1795290">these</span> <span m="1795470">numbers</span> <span m="1795860">and</span> <span m="1795980">these</span> <span m="1796220">operators,</span> <span m="1796820">but</span> <span m="1796970">I</span> <span m="1797060">don't</span> <span m="1797270">know</span> <span m="1797450">how</span> <span m="1797570">to</span> <span m="1797690">organize</span> <span m="1798170">this</span> <span m="1798320">tree.</span> <span m="1800120">The</span> <span m="1800210">idea</span> <span m="1800450">is,</span> <span m="1800570">if</span> <span m="1800690">you</span> <span m="1800750">think</span> <span m="1800960">of</span> <span m="1801050">this</span> <span m="1801230">tree,</span> <span m="1802220">what</span> <span m="1802550">is</span> <span m="1802670">the</span> <span m="1802790">one</span> <span m="1803150">thing</span> <span m="1803420">that's</span> <span m="1803630">easiest</span> <span m="1803990">to</span> <span m="1804110">identify?</span> <span m="1805010">It's</span> <span m="1805310">the</span> <span m="1805430">root.</span> <span m="1806660">The</span> <span m="1806870">root</span> <span m="1807110">corresponds</span> <span m="1807650">to</span> <span m="1807830">the</span> <span m="1807980">last</span> <span m="1808520">operation</span> <span m="1809120">I</span> <span m="1809240">do</span> <span m="1809450">in</span> <span m="1809540">this</span> <span m="1809690">computation.</span> <span m="1810740">The</span> <span m="1810920">last</span> <span m="1811190">thing</span> <span m="1811340">I</span> <span m="1811430">did</span> <span m="1811610">was</span> <span m="1811730">take</span> <span m="1811910">a</span> <span m="1812000">product.</span> <span m="1812960">And</span> <span m="1813230">that's</span> <span m="1813830">a</span> <span m="1813950">lot</span> <span m="1814130">easier,</span> <span m="1814430">because</span> <span m="1815240">if</span> <span m="1815480">I</span> <span m="1815600">guess</span> <span m="1816260">who is</span> <span m="1816620">at</span> <span m="1816770">the</span> <span m="1816830">root--</span> <span m="1817070">which</span> <span m="1817250">operator is</span> <span m="1817700">at</span> <span m="1817820">the</span> <span m="1817880">root--</span> <span m="1818420">that</span> <span m="1818660">naturally</span> <span m="1819050">decomposes</span> <span m="1819680">into</span> <span m="1819950">the</span> <span m="1820070">left</span> <span m="1820250">subtree</span> <span m="1820910">and</span> <span m="1821180">the</span> <span m="1821240">right</span> <span m="1821390">subtree.</span> <span m="1822500">And</span> <span m="1822890">those</span> <span m="1823280">will</span> <span m="1823430">always</span> <span m="1823700">be</span> <span m="1824090">substrings.</span> <span m="1825050">We</span> <span m="1825200">kind</span> <span m="1825410">of</span> <span m="1825620">know</span> <span m="1826034">this.</span> <span m="1828110">This</span> <span m="1828530">node</span> <span m="1829010">corresponds</span> <span m="1829520">to</span> <span m="1829730">everything</span> <span m="1830120">left</span> <span m="1830540">of</span> <span m="1830660">this</span> <span m="1830840">operator,</span> <span m="1831950">and</span> <span m="1832370">this</span> <span m="1834020">substring</span> <span m="1834710">or</span> <span m="1834800">this</span> <span m="1836660">subtree</span> <span m="1837440">corresponds</span> <span m="1837715">to</span> <span m="1837990">everything</span> <span m="1838280">to</span> <span m="1838400">the</span> <span m="1838460">right</span> <span m="1838640">of</span> <span m="1838700">the</span> <span m="1838790">operator.</span></p>
<p><span m="1840060">So</span> <span m="1840200">this</span> <span m="1840380">is</span> <span m="1840560">our</span> <span m="1840680">idea,</span> <span m="1843740">is</span> <span m="1844010">we're</span> <span m="1844130">going</span> <span m="1844340">to</span> <span m="1844460">guess</span> <span m="1848540">which</span> <span m="1849770">operation,</span> <span m="1851690">star</span> <span m="1852080">i,</span> <span m="1853100">is</span> <span m="1853670">evaluated</span> <span m="1855350">last--</span> <span m="1859950">or,</span> <span m="1860180">in</span> <span m="1860270">other</span> <span m="1860420">words,</span> <span m="1860760">at</span> <span m="1860870">the</span> <span m="1860960">root.</span> <span m="1863530">So</span> <span m="1863630">this</span> <span m="1863730">is</span> <span m="1863850">the</span> <span m="1863880">question.</span> <span m="1864990">It</span> <span m="1865260">has</span> <span m="1866250">n</span> <span m="1866580">possible</span> <span m="1867090">answers--</span> <span m="1867810">I</span> <span m="1867990">guess,</span> <span m="1868290">actually,</span> <span m="1868620">n</span> <span m="1868800">minus</span> <span m="1869100">1</span> <span m="1869370">from</span> <span m="1869640">operator</span> <span m="1870060">1,</span> <span m="1870720">operator</span> <span m="1871080">n</span> <span m="1871200">minus</span> <span m="1871470">1.</span> <span m="1872460">And</span> <span m="1872730">so</span> <span m="1874710">we'll</span> <span m="1874980">just</span> <span m="1875130">brute</span> <span m="1875340">force</span> <span m="1875640">all of</span> <span m="1875800">those</span> <span m="1875970">choices.</span> <span m="1878630">I</span> <span m="1878900">wanted</span> <span m="1879170">to</span> <span m="1879230">start</span> <span m="1879590">here</span> <span m="1879890">because--</span> <span m="1881150">to</span> <span m="1881330">realize</span> <span m="1881930">that</span> <span m="1882350">if,</span> <span m="1882620">I</span> <span m="1882680">choose</span> <span m="1883010">some</span> <span m="1883340">star</span> <span m="1883700">i</span> <span m="1883910">in</span> <span m="1884030">the</span> <span m="1884120">middle,</span> <span m="1885270">which</span> <span m="1885530">might</span> <span m="1885770">be</span> <span m="1885890">the</span> <span m="1885980">right</span> <span m="1886160">thing,</span> <span m="1886430">like</span> <span m="1886640">in</span> <span m="1886730">this</span> <span m="1886880">example.</span> <span m="1887660">Star</span> <span m="1887810">i</span> <span m="1887900">is</span> <span m="1888800">the</span> <span m="1888920">middle</span> <span m="1889160">one--</span> <span m="1889850">middle</span> <span m="1890120">operator.</span> <span m="1891560">I</span> <span m="1891770">naturally</span> <span m="1892190">decompose</span> <span m="1892700">into</span> <span m="1892880">everything</span> <span m="1893210">to</span> <span m="1893330">the</span> <span m="1893420">left</span> <span m="1893810">of</span> <span m="1893930">that</span> <span m="1894080">operator and</span> <span m="1894470">everything</span> <span m="1894800">to</span> <span m="1894890">the</span> <span m="1894980">right</span> <span m="1895190">of</span> <span m="1895250">that</span> <span m="1895400">operator.</span> <span m="1896120">This</span> <span m="1896570">is</span> <span m="1896960">a</span> <span m="1897200">prefix.</span> <span m="1898560">This</span> <span m="1898850">is</span> <span m="1899060">a</span> <span m="1899210">suffix.</span></p>
<p><span m="1900970">So</span> <span m="1901240">you</span> <span m="1901330">might</span> <span m="1901510">think,</span> <span m="1901850">oh,</span> <span m="1902080">my</span> <span m="1902440">subproblems</span> <span m="1902860">are</span> <span m="1903040">all</span> <span m="1903220">prefixes</span> <span m="1903520">and</span> <span m="1903820">all</span> <span m="1904030">suffixes.</span> <span m="1904660">But</span> <span m="1904840">that</span> <span m="1905020">would</span> <span m="1905140">be</span> <span m="1905380">wrong,</span> <span m="1906700">because</span> <span m="1906940">if</span> <span m="1907060">you</span> <span m="1907180">have</span> <span m="1907390">a</span> <span m="1907450">bunch</span> <span m="1907810">of</span> <span m="1907930">operators--</span> <span m="1909610">and</span> <span m="1909790">say</span> <span m="1909970">you</span> <span m="1910090">choose</span> <span m="1910420">this</span> <span m="1910630">one</span> <span m="1910810">to</span> <span m="1910900">be</span> <span m="1911050">last.</span> <span m="1914110">So</span> <span m="1914250">I</span> <span m="1914310">have</span> <span m="1914490">a</span> <span m="1914550">prefix</span> <span m="1914940">here</span> <span m="1915180">and</span> <span m="1915300">a</span> <span m="1915360">suffix</span> <span m="1915750">here.</span> <span m="1916770">And</span> <span m="1916950">then</span> <span m="1917100">there will</span> <span m="1917220">be</span> <span m="1917370">some--</span> <span m="1918150">within</span> <span m="1918480">this</span> <span m="1918630">suffix,</span> <span m="1919560">I'll</span> <span m="1919800">choose</span> <span m="1920100">some</span> <span m="1920820">operator</span> <span m="1921510">to</span> <span m="1921660">be</span> <span m="1921990">the</span> <span m="1922110">root</span> <span m="1922290">of</span> <span m="1922410">that</span> <span m="1922590">one,</span> <span m="1923410">and</span> <span m="1923640">I</span> <span m="1923730">have</span> <span m="1923880">a</span> <span m="1923940">prefix</span> <span m="1924490">and</span> <span m="1924590">a</span> <span m="1924690">suffix</span> <span m="1925080">of</span> <span m="1925350">this</span> <span m="1925740">suffix.</span> <span m="1926430">But</span> <span m="1926970">in</span> <span m="1927210">particular,</span> <span m="1927720">I</span> <span m="1927840">will</span> <span m="1927990">have</span> <span m="1928140">to</span> <span m="1928410">evaluate</span> <span m="1928920">this</span> <span m="1929250">subproblem,</span> <span m="1929760">which</span> <span m="1929910">is</span> <span m="1930030">a</span> <span m="1930150">prefix</span> <span m="1930660">of</span> <span m="1930810">a</span> <span m="1930870">suffix--</span> <span m="1931320">in</span> <span m="1931410">other</span> <span m="1931590">words,</span> <span m="1932110">a</span> <span m="1932190">substring.</span> <span m="1933190">So</span> <span m="1933280">never</span> <span m="1933630">use</span> <span m="1933930">a</span> <span m="1933990">mixture</span> <span m="1934380">of</span> <span m="1934500">prefixes</span> <span m="1934950">and</span> <span m="1935040">suffixes.</span> <span m="1935910">If</span> <span m="1936030">you</span> <span m="1936120">need</span> <span m="1936270">both,</span> <span m="1936670">you</span> <span m="1936690">probably</span> <span m="1937170">need</span> <span m="1937380">all</span> <span m="1937590">substrings.</span> <span m="1940320">So our</span> <span m="1940470">subproblems</span> <span m="1948140">are</span> <span m="1948320">going</span> <span m="1948470">to</span> <span m="1948560">be</span> <span m="1949520">substrings.</span> <span m="1956430">OK.</span></p>
<p><span m="1957630">I'm</span> <span m="1957810">not</span> <span m="1957930">going</span> <span m="1958050">to</span> <span m="1958110">write</span> <span m="1958230">the</span> <span m="1958380">subproblems</span> <span m="1958800">quite</span> <span m="1959070">yet,</span> <span m="1959340">because</span> <span m="1959760">there's</span> <span m="1959940">another</span> <span m="1960300">idea</span> <span m="1961170">we</span> <span m="1961380">need.</span> <span m="1961780">So</span> <span m="1962280">what</span> <span m="1962520">do</span> <span m="1962640">I</span> <span m="1962700">need</span> <span m="1962880">to</span> <span m="1962970">do</span> <span m="1963180">with</span> <span m="1963330">the</span> <span m="1963420">substring?</span> <span m="1965710">I'm</span> <span m="1965830">going</span> <span m="1965950">to</span> <span m="1966040">guess</span> <span m="1966460">the</span> <span m="1966670">middle</span> <span m="1966970">operator</span> <span m="1967700">and</span> <span m="1967810">then</span> <span m="1968050">evaluate</span> <span m="1968560">the</span> <span m="1968650">left</span> <span m="1968860">substring,</span> <span m="1969310">evaluate</span> <span m="1969820">the</span> <span m="1969880">right</span> <span m="1970090">substring.</span> <span m="1971020">What</span> <span m="1971260">am</span> <span m="1971350">I</span> <span m="1971410">trying</span> <span m="1971590">to</span> <span m="1971680">do</span> <span m="1971860">with</span> <span m="1971980">those</span> <span m="1972160">substring?</span> <span m="1972640">I</span> <span m="1972730">guess</span> <span m="1973570">I'm</span> <span m="1973870">trying</span> <span m="1974080">to</span> <span m="1974140">solve</span> <span m="1974380">this</span> <span m="1974530">problem,</span> <span m="1975020">which</span> <span m="1975130">is,</span> <span m="1976270">place</span> <span m="1976600">parentheses</span> <span m="1977200">in</span> <span m="1977290">order</span> <span m="1977470">to</span> <span m="1977560">maximize</span> <span m="1978130">the</span> <span m="1978220">result,</span> <span m="1978740">and</span> <span m="1978840">then</span> <span m="1978910">return</span> <span m="1979330">what</span> <span m="1979480">the</span> <span m="1979540">result</span> <span m="1979930">is.</span> <span m="1981770">And</span> <span m="1981880">I</span> <span m="1981940">can</span> <span m="1982060">use</span> <span m="1982180">paren </span> <span m="1982450">pointers</span> <span m="1982750">to</span> <span m="1982840">reconstruct</span> <span m="1983320">what</span> <span m="1983440">the</span> <span m="1984220">parentheses</span> <span m="1984760">actually</span> <span m="1985060">are.</span></p>
<p><span m="1990200">Once</span> <span m="1990370">I</span> <span m="1990460">guess</span> <span m="1990730">what</span> <span m="1990880">the</span> <span m="1990970">last</span> <span m="1991270">operator</span> <span m="1991810">is,</span> <span m="1992650">it</span> <span m="1992740">enough</span> <span m="1993010">to</span> <span m="1993130">maximize</span> <span m="1993970">the</span> <span m="1994060">part</span> <span m="1994330">to</span> <span m="1994390">the</span> <span m="1994450">right</span> <span m="1994900">and</span> <span m="1995140">maximize</span> <span m="1995740">the</span> <span m="1995830">part</span> <span m="1996100">to</span> <span m="1996160">the</span> <span m="1996220">left?</span> <span m="1996970">Will</span> <span m="1997210">that</span> <span m="1997420">always</span> <span m="1997900">maximize</span> <span m="1998620">my</span> <span m="1998980">sum or</span> <span m="1999370">product</span> <span m="1999760">according</span> <span m="2000090">to</span> <span m="2000180">what</span> <span m="2000300">this</span> <span m="2000480">operator</span> <span m="2000870">is?</span> <span m="2002560">And</span> <span m="2002830">if</span> <span m="2003100">you</span> <span m="2003170">think</span> <span m="2003370">about</span> <span m="2003640">it</span> <span m="2003760">for</span> <span m="2003940">a</span> <span m="2003970">while.</span> <span m="2004360">Yeah.</span> <span m="2004550">If</span> <span m="2004720">I</span> <span m="2004810">want</span> <span m="2004990">to</span> <span m="2005080">maximize</span> <span m="2005690">the</span> <span m="2005790">sum,</span> <span m="2006850">I</span> <span m="2007180">should</span> <span m="2007480">maximize</span> <span m="2008080">the</span> <span m="2008170">two</span> <span m="2008410">parts.</span> <span m="2008920">And</span> <span m="2009010">if</span> <span m="2009130">I</span> <span m="2009190">want</span> <span m="2009310">to</span> <span m="2009400">maximize</span> <span m="2009940">a</span> <span m="2010000">product,</span> <span m="2010420">I</span> <span m="2010510">should</span> <span m="2010690">maximize</span> <span m="2011230">the</span> <span m="2011320">two</span> <span m="2011470">parts.</span> <span m="2011750">That</span> <span m="2011860">seems</span> <span m="2012130">right.</span> <span m="2013030">Except,</span> <span m="2014800">I</span> <span m="2015010">didn't</span> <span m="2015280">say</span> <span m="2015580">that</span> <span m="2015800">my</span> <span m="2015880">integers</span> <span m="2016390">are</span> <span m="2016510">positive.</span> <span m="2017870">That's</span> <span m="2018190">true</span> <span m="2018490">if</span> <span m="2018640">your</span> <span m="2018730">integers</span> <span m="2019060">are</span> <span m="2019150">positive.</span> <span m="2019490">But</span> <span m="2020040">to</span> <span m="2020200">make</span> <span m="2020380">this</span> <span m="2020500">problem</span> <span m="2020740">more</span> <span m="2020890">interesting,</span> <span m="2021790">we're</span> <span m="2022000">going</span> <span m="2022210">to</span> <span m="2022330">allow</span> <span m="2022690">the</span> <span m="2022840">integers</span> <span m="2023230">to</span> <span m="2023290">be</span> <span m="2023410">negative.</span> <span m="2025240">For</span> <span m="2025510">example,</span> <span m="2027550">7</span> <span m="2028780">plus</span> <span m="2029470">minus</span> <span m="2030010">4</span> <span m="2030910">times</span> <span m="2031540">3</span> <span m="2032440">plus</span> <span m="2032900">minus</span> <span m="2033370">5.</span> <span m="2033670">So</span> <span m="2033760">I</span> <span m="2033820">just</span> <span m="2034030">added</span> <span m="2034360">a</span> <span m="2034390">couple</span> <span m="2034660">of</span> <span m="2034750">minuses</span> <span m="2035950">to</span> <span m="2038250">a</span> <span m="2038520">couple</span> <span m="2038790">of</span> <span m="2038880">the</span> <span m="2038940">numbers</span> <span m="2039300">here.</span> <span m="2040740">Then</span> <span m="2041010">it's</span> <span m="2041190">no</span> <span m="2041370">longer</span> <span m="2041670">best</span> <span m="2041940">to</span> <span m="2042060">pair</span> <span m="2042300">them</span> <span m="2042480">this</span> <span m="2042660">way.</span></p>
<p><span m="2043260">If</span> <span m="2043380">I</span> <span m="2043470">pair</span> <span m="2043680">them</span> <span m="2043920">this</span> <span m="2044160">way,</span> <span m="2045010">like</span> <span m="2045570">this,</span> <span m="2046110">or</span> <span m="2046500">if I</span> <span m="2046760">add</span> <span m="2046920">parentheses</span> <span m="2047400">this</span> <span m="2047580">way,</span> <span m="2047790">I</span> <span m="2047910">get</span> <span m="2048929">3</span> <span m="2049440">here,</span> <span m="2050520">and</span> <span m="2050820">I</span> <span m="2050909">get</span> <span m="2051690">minus</span> <span m="2052170">2</span> <span m="2052500">here.</span> <span m="2052960">So</span> <span m="2053159">I</span> <span m="2053250">get--</span> <span m="2053600">the</span> <span m="2054000">product</span> <span m="2054449">of</span> <span m="2054540">that</span> <span m="2054690">is</span> <span m="2054860">negative</span> <span m="2055290">6,</span> <span m="2056259">which i</span> <span m="2056639">probably</span> <span m="2056969">not</span> <span m="2057150">the</span> <span m="2057239">maximum.</span> <span m="2057750">In</span> <span m="2057840">fact,</span> <span m="2058330">I</span> <span m="2058380">can</span> <span m="2058560">do</span> <span m="2058710">better,</span> <span m="2059130">I</span> <span m="2059310">believe,</span> <span m="2059790">by</span> <span m="2062170">doing</span> <span m="2063370">the</span> <span m="2063550">left</span> <span m="2063880">operator</span> <span m="2064420">last.</span> <span m="2068469">So</span> <span m="2069159">this,</span> <span m="2069610">I</span> <span m="2069940">claim,</span> <span m="2070239">the</span> <span m="2070300">best</span> <span m="2070659">parenthisization,</span> <span m="2071260">if</span> <span m="2071409">I</span> <span m="2071469">remembered it</span> <span m="2071860">correctly.</span> <span m="2072760">This</span> <span m="2072940">is,</span> <span m="2073090">minus</span> <span m="2073449">2</span> <span m="2074290">times</span> <span m="2074800">minus</span> <span m="2075130">4</span> <span m="2075550">is</span> <span m="2076420">8,</span> <span m="2079570">plus</span> <span m="2079900">7</span> <span m="2080409">is</span> <span m="2081280">15.</span> <span m="2083980">So</span> <span m="2084030">I</span> <span m="2084120">got</span> <span m="2084239">a</span> <span m="2084300">positive</span> <span m="2084659">number--</span> <span m="2084870">definitely</span> <span m="2085170">better</span> <span m="2085409">than</span> <span m="2085590">the</span> <span m="2085650">negative</span> <span m="2086010">number</span> <span m="2086280">I</span> <span m="2086370">got.</span> <span m="2086610">I</span> <span m="2087030">claim</span> <span m="2087270">this</span> <span m="2087420">is</span> <span m="2087570">the</span> <span m="2087659">best.</span> <span m="2088380">And</span> <span m="2088650">the</span> <span m="2088739">key</span> <span m="2088920">property</span> <span m="2089310">here</span> <span m="2089550">is,</span> <span m="2090120">when</span> <span m="2090300">we</span> <span m="2090360">take</span> <span m="2090540">a</span> <span m="2090600">product</span> <span m="2091020">of</span> <span m="2091080">two</span> <span m="2091260">negative</span> <span m="2091590">numbers,</span> <span m="2091889">we</span> <span m="2091980">get</span> <span m="2092159">a</span> <span m="2092250">positive</span> <span m="2092670">number.</span></p>
<p><span m="2093179">Sometimes,</span> <span m="2094080">you</span> <span m="2094320">actually</span> <span m="2094620">want</span> <span m="2094980">to</span> <span m="2095280">make</span> <span m="2095520">things</span> <span m="2095790">small,</span> <span m="2096360">because</span> <span m="2096690">small</span> <span m="2097170">might</span> <span m="2097350">mean</span> <span m="2097560">very</span> <span m="2097740">negative.</span> <span m="2098620">You</span> <span m="2098820">take</span> <span m="2099000">two</span> <span m="2099480">very</span> <span m="2099720">big</span> <span m="2100200">negative</span> <span m="2100620">numbers--</span> <span m="2101460">very</span> <span m="2101700">small</span> <span m="2102120">negative</span> <span m="2102450">numbers,</span> <span m="2102970">in</span> <span m="2103070">other</span> <span m="2103080">words.</span> <span m="2103930">You</span> <span m="2103950">take</span> <span m="2104100">their</span> <span m="2104220">product,</span> <span m="2104530">you</span> <span m="2104610">get</span> <span m="2104760">a</span> <span m="2104790">very</span> <span m="2105000">big</span> <span m="2105180">product,</span> <span m="2106080">positively,</span> <span m="2107490">because</span> <span m="2107640">the</span> <span m="2107730">signs</span> <span m="2108030">cancel.</span> <span m="2109230">OK.</span> <span m="2109470">So</span> <span m="2109800">this</span> <span m="2110040">seems</span> <span m="2110460">tricky.</span> <span m="2111210">We</span> <span m="2111390">want</span> <span m="2111570">to</span> <span m="2111630">work</span> <span m="2111810">on</span> <span m="2111960">substrings,</span> <span m="2112680">but</span> <span m="2112860">we</span> <span m="2112950">don't</span> <span m="2113190">know</span> <span m="2113850">whether</span> <span m="2114150">we're</span> <span m="2114240">trying</span> <span m="2114390">to</span> <span m="2114480">maximize,</span> <span m="2115380">or</span> <span m="2115950">you</span> <span m="2116130">might</span> <span m="2116250">think,</span> <span m="2116560">well,</span> <span m="2116710">maybe</span> <span m="2116850">I'm</span> <span m="2116940">trying</span> <span m="2117090">to</span> <span m="2117180">maximize</span> <span m="2117630">the</span> <span m="2117750">absolute</span> <span m="2118140">value.</span> <span m="2118980">But</span> <span m="2119160">that's</span> <span m="2119340">not</span> <span m="2119490">good.</span> <span m="2119860">Maybe</span> <span m="2120180">overall,</span> <span m="2121260">on</span> <span m="2121680">this</span> <span m="2121830">entire</span> <span m="2122160">expression,</span> <span m="2122580">I</span> <span m="2122640">get</span> <span m="2122970">negative</span> <span m="2123420">1</span> <span m="2123480">million.</span> <span m="2124410">And</span> <span m="2124650">that's</span> <span m="2124980">not</span> <span m="2125190">what</span> <span m="2125310">I</span> <span m="2125400">wanted.</span> <span m="2125800">I</span> <span m="2125900">wanted</span> <span m="2126030">to</span> <span m="2126120">maximize</span> <span m="2126720">the</span> <span m="2126810">sum.</span></p>
<p><span m="2127570">So</span> <span m="2129060">I</span> <span m="2129240">still</span> <span m="2129420">need</span> <span m="2129570">to</span> <span m="2129660">solve</span> <span m="2129990">the</span> <span m="2130080">max</span> <span m="2131610">evaluation</span> <span m="2132450">that</span> <span m="2132630">I</span> <span m="2132720">can</span> <span m="2132870">get,</span> <span m="2133050">the</span> <span m="2133140">max</span> <span m="2133380">parenthesization,</span> <span m="2134820">but</span> <span m="2135030">I</span> <span m="2135150">also</span> <span m="2135660">need</span> <span m="2135870">to</span> <span m="2135930">solve</span> <span m="2136830">the</span> <span m="2137010">min</span> <span m="2137400">parenthesization.</span> <span m="2138660">If</span> <span m="2138780">I</span> <span m="2138840">can</span> <span m="2138960">solve</span> <span m="2139200">max</span> <span m="2139620">and</span> <span m="2139920">min,</span> <span m="2140190">I'll</span> <span m="2140340">know</span> <span m="2140550">the</span> <span m="2140670">entire</span> <span m="2141540">range</span> <span m="2142200">that</span> <span m="2142380">I</span> <span m="2142470">could</span> <span m="2142620">get.</span> <span m="2143680">And</span> <span m="2144090">I</span> <span m="2144420">really</span> <span m="2144660">only--</span> <span m="2144930">I'll</span> <span m="2145260">care</span> <span m="2145500">about</span> <span m="2145740">min</span> <span m="2145980">especially</span> <span m="2146490">when</span> <span m="2146670">it</span> <span m="2146760">lets</span> <span m="2146970">me</span> <span m="2147090">go</span> <span m="2147240">negative.</span> <span m="2148350">But</span> <span m="2148560">let's</span> <span m="2148710">just</span> <span m="2148830">solve,</span> <span m="2149580">in</span> <span m="2149760">all</span> <span m="2149970">cases,</span> <span m="2150540">the</span> <span m="2150630">min</span> <span m="2150900">and</span> <span m="2151020">the</span> <span m="2151080">max,</span> <span m="2152250">and</span> <span m="2152490">then</span> <span m="2152580">just</span> <span m="2152730">brute</span> <span m="2152910">force</span> <span m="2153180">the</span> <span m="2153270">rest.</span> <span m="2153780">That's</span> <span m="2154020">what</span> <span m="2154140">I'm</span> <span m="2154230">going</span> <span m="2154350">to</span> <span m="2154410">write</span> <span m="2154620">down.</span> <span m="2156360">So</span> <span m="2157170">that</span> <span m="2157440">was</span> <span m="2157560">some</span> <span m="2158100">motivation</span> <span m="2158730">and</span> <span m="2158880">why</span> <span m="2159180">we</span> <span m="2159450">are</span> <span m="2159570">going</span> <span m="2159760">to</span> <span m="2159880">define</span> <span m="2160210">subproblems</span> <span m="2160680">this</span> <span m="2160830">way.</span></p>
<p><span m="2162270">I'm</span> <span m="2162330">going</span> <span m="2162450">to</span> <span m="2162510">define</span> <span m="2162840">x</span> <span m="2163230">of</span> <span m="2163470">i,</span> <span m="2163835">comma</span> <span m="2164200">j,</span> <span m="2164630">comma</span> <span m="2164970">opt</span> <span m="2166620">to</span> <span m="2166890">be--</span> <span m="2168390">opt,</span> <span m="2168720">here,</span> <span m="2169020">is</span> <span m="2169230">going</span> <span m="2169440">to</span> <span m="2169560">be</span> <span m="2170280">either</span> <span m="2171090">min</span> <span m="2171420">or</span> <span m="2171540">max.</span> <span m="2173400">And</span> <span m="2173670">this</span> <span m="2173880">is</span> <span m="2174030">my</span> <span m="2174420">subproblem</span> <span m="2175020">expansion.</span> <span m="2176040">I</span> <span m="2176280">really</span> <span m="2176550">just</span> <span m="2176730">care</span> <span m="2176910">about</span> <span m="2177180">max</span> <span m="2177690">at</span> <span m="2177900">the</span> <span m="2178050">very</span> <span m="2178380">end,</span> <span m="2179040">but</span> <span m="2179220">I'm</span> <span m="2179310">going</span> <span m="2179430">to</span> <span m="2179490">care</span> <span m="2179670">about</span> <span m="2179880">min</span> <span m="2180120">along</span> <span m="2180390">the</span> <span m="2180480">way.</span> <span m="2181480">And</span> <span m="2181620">i,</span> <span m="2181830">j</span> <span m="2182070">is</span> <span m="2182190">going</span> <span m="2182310">to</span> <span m="2182400">specify</span> <span m="2182940">my</span> <span m="2183150">substring.</span> <span m="2185880">So</span> <span m="2186330">this</span> <span m="2186540">is</span> <span m="2186660">going</span> <span m="2186900">to</span> <span m="2186990">be</span> <span m="2187230">the</span> <span m="2187440">opt</span> <span m="2188580">value--</span> <span m="2190740">opt</span> <span m="2191100">stands</span> <span m="2191400">for</span> <span m="2191520">"optimum"</span> <span m="2192000">here,</span> <span m="2192450">or</span> <span m="2192600">"optimization."</span> <span m="2194370">The</span> <span m="2194520">opt</span> <span m="2194790">value</span> <span m="2195180">I</span> <span m="2195270">can</span> <span m="2195420">get</span> <span m="2195960">for</span> <span m="2196470">the</span> <span m="2196590">substring</span> <span m="2197550">a</span> <span m="2197900">i</span> <span m="2198870">star</span> <span m="2200340">plus</span> <span m="2200670">1,</span> <span m="2201780">a</span> <span m="2202200">i</span> <span m="2202380">plus</span> <span m="2202680">1,</span> <span m="2203760">and</span> <span m="2204060">so</span> <span m="2204300">on</span> <span m="2205290">to</span> <span m="2206280">star</span> <span m="2207510">j</span> <span m="2207750">minus</span> <span m="2208110">1,</span> <span m="2209100">a</span> <span m="2209400">j</span> <span m="2209670">minus</span> <span m="2210030">1.</span> <span m="2211410">OK.</span></p>
<p><span m="2212340">Being</span> <span m="2212580">careful</span> <span m="2212850">to</span> <span m="2212940">get</span> <span m="2213090">my</span> <span m="2213780">indices</span> <span m="2214320">correct</span> <span m="2214620">here.</span> <span m="2215220">And</span> <span m="2215820">I</span> <span m="2216030">want</span> <span m="2217980">0</span> <span m="2218235">less</span> <span m="2218490">than or</span> <span m="2218890">equal to</span> <span m="2219240">i,</span> <span m="2221010">less</span> <span m="2221460">than</span> <span m="2221760">j,</span> <span m="2222360">less</span> <span m="2222600">than</span> <span m="2222750">equal</span> <span m="2222960">to</span> <span m="2223080">n.</span> <span m="2224988">I</span> <span m="2225390">claim</span> <span m="2226590">and</span> <span m="2227010">opt</span> <span m="2228210">like</span> <span m="2228480">this.</span> <span m="2228860">OK.</span> <span m="2229230">I'm</span> <span m="2229320">going</span> <span m="2229440">to</span> <span m="2229500">get</span> <span m="2229680">the</span> <span m="2229770">min</span> <span m="2230010">value</span> <span m="2230400">and</span> <span m="2230550">the</span> <span m="2230700">max</span> <span m="2231000">value</span> <span m="2231300">separately.</span> <span m="2231810">Those</span> <span m="2231990">are</span> <span m="2232080">two</span> <span m="2232230">different</span> <span m="2232560">subproblems.</span> <span m="2233790">This is</span> <span m="2233910">my</span> <span m="2234000">expansion.</span> <span m="2234670">This</span> <span m="2234750">is</span> <span m="2234930">the</span> <span m="2235080">constraint</span> <span m="2235920">I'm</span> <span m="2236160">adding.</span> <span m="2237240">And</span> <span m="2237510">I'm</span> <span m="2237660">only</span> <span m="2237990">focusing</span> <span m="2238530">on</span> <span m="2238650">this</span> <span m="2238800">substring</span> <span m="2239250">from</span> <span m="2239520">i</span> <span m="2239910">inclusive</span> <span m="2240450">to</span> <span m="2240570">j</span> <span m="2240840">exclusive.</span> <span m="2242930">OK.</span> <span m="2244940">So</span> <span m="2245540">I</span> <span m="2245780">claim</span> <span m="2246150">those</span> <span m="2246230">are</span> <span m="2246320">good</span> <span m="2246510">subproblems.</span> <span m="2247610">Let's</span> <span m="2247940">write</span> <span m="2248180">down</span> <span m="2249350">a</span> <span m="2249650">recurrence</span> <span m="2250070">relation.</span> <span m="2268210">OK.</span> <span m="2268900">Relate.</span></p>
<p> </p>
<p><span m="2275840">I</span> <span m="2275990">want</span> <span m="2276200">to</span> <span m="2276260">write</span> <span m="2276650">x</span> <span m="2276980">of</span> <span m="2277130">i,</span> <span m="2277430">j,</span> <span m="2278630">opt</span> <span m="2279140">on</span> <span m="2279320">the</span> <span m="2279380">left.</span> <span m="2281910">And</span> <span m="2283170">I</span> <span m="2283440">want</span> <span m="2283620">to</span> <span m="2283830">optimize--</span> <span m="2284700">so</span> <span m="2284970">this</span> <span m="2285150">will</span> <span m="2285240">be</span> <span m="2285450">min</span> <span m="2285720">or</span> <span m="2285870">max--</span> <span m="2286650">on</span> <span m="2286950">a</span> <span m="2287010">set</span> <span m="2287340">of</span> <span m="2287520">choices.</span> <span m="2289720">What</span> <span m="2290020">is</span> <span m="2290170">my</span> <span m="2290320">set</span> <span m="2290560">of</span> <span m="2290650">choices?</span> <span m="2292090">Well,</span> <span m="2292990">like</span> <span m="2293230">I</span> <span m="2293320">said,</span> <span m="2293650">I</span> <span m="2293830">want</span> <span m="2294040">to</span> <span m="2294130">guess</span> <span m="2294580">what</span> <span m="2294850">is</span> <span m="2295000">the</span> <span m="2295180">last</span> <span m="2295720">operation</span> <span m="2296410">evaluated.</span> <span m="2297070">I</span> <span m="2297220">wrote</span> <span m="2297700">star</span> <span m="2298090">i</span> <span m="2298360">here,</span> <span m="2298570">but</span> <span m="2298780">star</span> <span m="2299060">i is</span> <span m="2299350">already</span> <span m="2299590">defined,</span> <span m="2300080">so</span> <span m="2300160">I'm</span> <span m="2300220">going</span> <span m="2300340">to</span> <span m="2300400">use</span> <span m="2300580">star</span> <span m="2300910">k.</span> <span m="2302110">So</span> <span m="2302320">I'm</span> <span m="2302410">going</span> <span m="2302560">to</span> <span m="2302890">guess</span> <span m="2304495">which</span> <span m="2304900">of</span> <span m="2305110">my</span> <span m="2305380">operations</span> <span m="2306130">between</span> <span m="2306610">i</span> <span m="2306760">plus</span> <span m="2307030">1</span> <span m="2307330">and</span> <span m="2307450">j</span> <span m="2307630">minus</span> <span m="2307960">1</span> <span m="2308830">is</span> <span m="2309130">the</span> <span m="2309190">last</span> <span m="2309490">one,</span> <span m="2309640">and</span> <span m="2309760">I</span> <span m="2309880">evaluate.</span> <span m="2310990">And</span> <span m="2311590">that</span> <span m="2311840">decomposes</span> <span m="2312760">everything</span> <span m="2313180">left</span> <span m="2313540">of</span> <span m="2313720">k.</span> <span m="2314830">So</span> <span m="2315040">that</span> <span m="2315190">would</span> <span m="2315310">be</span> <span m="2315490">x</span> <span m="2315850">of</span> <span m="2316270">i,</span> <span m="2318170">comma</span> <span m="2318630">k,</span> <span m="2320290">comma</span> <span m="2320740">something.</span> <span m="2322880">And</span> <span m="2322990">then</span> <span m="2323290">we</span> <span m="2323500">will</span> <span m="2323650">do</span> <span m="2323980">operator</span> <span m="2325060">star</span> <span m="2325450">k</span> <span m="2326770">on</span> <span m="2327430">the</span> <span m="2327760">part</span> <span m="2328060">after</span> <span m="2328450">k,</span> <span m="2328750">which</span> <span m="2328990">is</span> <span m="2329140">from</span> <span m="2329380">k</span> <span m="2330550">to</span> <span m="2330700">j,</span> <span m="2332080">something.</span></p>
<p><span m="2334280">And</span> <span m="2335420">I'm</span> <span m="2335930">choosing</span> <span m="2336440">between--</span> <span m="2337640">I</span> <span m="2337970">think</span> <span m="2338120">it's</span> <span m="2338270">i</span> <span m="2338480">less</span> <span m="2338720">than</span> <span m="2338870">k</span> <span m="2339170">less</span> <span m="2339440">than</span> <span m="2339620">j.</span> <span m="2341180">k</span> <span m="2341600">is</span> <span m="2341720">some</span> <span m="2341930">operator</span> <span m="2342290">in</span> <span m="2342410">between,</span> <span m="2343250">because</span> <span m="2343550">I</span> <span m="2343760">started</span> <span m="2344210">i</span> <span m="2344340">plus</span> <span m="2344600">1</span> <span m="2344930">and</span> <span m="2345200">I ended</span> <span m="2345470">j</span> <span m="2345680">minus</span> <span m="2346040">1.</span> <span m="2346260">So</span> <span m="2346430">those</span> <span m="2346610">are</span> <span m="2346670">the</span> <span m="2346730">possible</span> <span m="2347090">choices</span> <span m="2347540">for</span> <span m="2348140">k.</span> <span m="2349470">I</span> <span m="2349680">tried</span> <span m="2349950">them</span> <span m="2350070">all.</span> <span m="2350490">That's</span> <span m="2350790">my</span> <span m="2350940">local</span> <span m="2351240">brute</span> <span m="2351450">force.</span> <span m="2352950">And</span> <span m="2353250">then</span> <span m="2353400">I</span> <span m="2353490">take</span> <span m="2353760">what</span> <span m="2353880">I</span> <span m="2353940">can</span> <span m="2354030">get</span> <span m="2354180">on</span> <span m="2354270">the</span> <span m="2354330">left,</span> <span m="2354780">what</span> <span m="2354990">I</span> <span m="2355050">can</span> <span m="2355140">get</span> <span m="2355260">on</span> <span m="2355350">the</span> <span m="2355410">right,</span> <span m="2356160">and</span> <span m="2357390">multiply</span> <span m="2357900">or</span> <span m="2357960">add</span> <span m="2358140">them</span> <span m="2358290">according</span> <span m="2358620">to</span> <span m="2358710">whether</span> <span m="2358920">the</span> <span m="2359070">operator</span> <span m="2359415">is</span> <span m="2360030">plus</span> <span m="2360390">or</span> <span m="2360570">times.</span> <span m="2362310">Now,</span> <span m="2362610">should</span> <span m="2362940">I</span> <span m="2363240">maximize</span> <span m="2363870">or</span> <span m="2363930">minimize</span> <span m="2364350">this</span> <span m="2364530">one?</span> <span m="2365100">Should</span> <span m="2365370">I</span> <span m="2365460">maximize</span> <span m="2366030">or</span> <span m="2366090">minimize</span> <span m="2366450">this</span> <span m="2366600">one?</span> <span m="2367530">I</span> <span m="2367740">don't</span> <span m="2367890">know.</span> <span m="2368700">So</span> <span m="2369090">I'm</span> <span m="2369240">just</span> <span m="2369390">going</span> <span m="2369540">to</span> <span m="2369840">do</span> <span m="2370080">more</span> <span m="2370260">local</span> <span m="2370530">brute</span> <span m="2370740">force.</span> <span m="2373030">Well,</span> <span m="2373290">let's</span> <span m="2373500">just</span> <span m="2373680">say</span> <span m="2373980">opt</span> <span m="2374250">prime</span> <span m="2375090">for</span> <span m="2375270">the</span> <span m="2375360">left--</span> <span m="2376290">or</span> <span m="2376530">maybe</span> <span m="2376740">I'll</span> <span m="2376830">call</span> <span m="2376980">it</span> <span m="2377100">opt</span> <span m="2377400">L</span> <span m="2378420">for the</span> <span m="2378600">left</span> <span m="2379080">and</span> <span m="2379440">opt</span> <span m="2380160">R</span> <span m="2380580">for</span> <span m="2380760">the</span> <span m="2380850">right</span> <span m="2381060">part.</span> <span m="2382020">And</span> <span m="2382260">I'll</span> <span m="2382350">just</span> <span m="2382530">add</span> <span m="2382740">this</span> <span m="2382890">to</span> <span m="2383010">my</span> <span m="2383130">four-loop.</span> <span m="2384240">Let's</span> <span m="2384480">just</span> <span m="2384660">try</span> <span m="2386010">opt</span> <span m="2386400">L</span> <span m="2387540">and</span> <span m="2387780">opt</span> <span m="2388710">R.</span> <span m="2389220">Just</span> <span m="2389430">take</span> <span m="2389670">all</span> <span m="2389970">possible</span> <span m="2390480">choices</span> <span m="2390960">among</span> <span m="2391230">min</span> <span m="2391380">and</span> <span m="2391470">max.</span></p>
<p><span m="2395324">Now,</span> <span m="2395810">you</span> <span m="2395970">could</span> <span m="2396120">think</span> <span m="2396330">hard--</span> <span m="2396720">and</span> <span m="2396810">for</span> <span m="2397080">addition,</span> <span m="2397590">for</span> <span m="2397740">example,</span> <span m="2398770">if</span> <span m="2398940">you're</span> <span m="2399090">maximizing,</span> <span m="2399840">you</span> <span m="2400200">really</span> <span m="2400560">only</span> <span m="2400710">need</span> <span m="2400860">to</span> <span m="2401010">maximize</span> <span m="2401670">the</span> <span m="2401760">two</span> <span m="2401910">parts.</span> <span m="2402330">And if</span> <span m="2402450">you're</span> <span m="2402540">minimizing,</span> <span m="2403230">you</span> <span m="2403890">can</span> <span m="2404130">prove</span> <span m="2404490">you</span> <span m="2404590">all</span> <span m="2404690">need</span> <span m="2404880">to</span> <span m="2405000">minimize</span> <span m="2405450">the</span> <span m="2405510">two</span> <span m="2405690">parts.</span> <span m="2406810">But</span> <span m="2407760">for</span> <span m="2407940">multiplication,</span> <span m="2408570">it's</span> <span m="2408870">messy.</span> <span m="2409380">It</span> <span m="2409440">could</span> <span m="2409650">be,</span> <span m="2410220">really,</span> <span m="2410520">any</span> <span m="2410730">of</span> <span m="2410790">the</span> <span m="2410910">options.</span> <span m="2412470">Because</span> <span m="2412620">sometimes,</span> <span m="2413490">when</span> <span m="2413640">you</span> <span m="2413730">minimize,</span> <span m="2414090">you</span> <span m="2414180">get</span> <span m="2414300">a</span> <span m="2414330">negative</span> <span m="2414690">term.</span> <span m="2415020">Sometimes,</span> <span m="2417300">you</span> <span m="2417360">don't.</span> <span m="2418120">And</span> <span m="2418230">so</span> <span m="2418950">it</span> <span m="2419010">depends</span> <span m="2419280">what</span> <span m="2419400">you're</span> <span m="2419550">trying</span> <span m="2419910">to</span> <span m="2420030">do.</span> <span m="2420970">You</span> <span m="2421200">have</span> <span m="2421290">to</span> <span m="2421380">consider</span> <span m="2421710">all</span> <span m="2421830">the</span> <span m="2421920">signs.</span> <span m="2422460">But</span> <span m="2423360">we</span> <span m="2423600">don't</span> <span m="2423750">need</span> <span m="2423900">to</span> <span m="2423990">think</span> <span m="2424230">hard.</span> <span m="2424830">We</span> <span m="2425040">can</span> <span m="2425160">just</span> <span m="2425310">try</span> <span m="2425520">all</span> <span m="2425850">options.</span> <span m="2426370">There's</span> <span m="2426420">only</span> <span m="2426660">four</span> <span m="2426900">choices</span> <span m="2427530">for</span> <span m="2427830">opt</span> <span m="2428100">L</span> <span m="2428310">and</span> <span m="2428430">opt</span> <span m="2428640">R</span> <span m="2428790">among</span> <span m="2429360">min</span> <span m="2429630">and</span> <span m="2429720">max.</span> <span m="2430020">You</span> <span m="2430080">could</span> <span m="2430200">do</span> <span m="2430320">min-min,</span> <span m="2430590">min-max,</span> <span m="2430860">max-min,</span> <span m="2431820">and</span> <span m="2431970">max-max.</span></p>
<p><span m="2433050">So</span> <span m="2433260">try--</span> <span m="2433530">it's</span> <span m="2433710">just</span> <span m="2433950">a</span> <span m="2434100">multiplication</span> <span m="2435150">by</span> <span m="2435300">4</span> <span m="2435690">in</span> <span m="2435840">this</span> <span m="2435990">four-loop.</span> <span m="2437070">The</span> <span m="2437220">big</span> <span m="2437400">cost</span> <span m="2437760">is</span> <span m="2437880">actually</span> <span m="2438150">this</span> <span m="2438330">one,</span> <span m="2438540">because</span> <span m="2438780">there</span> <span m="2438990">are</span> <span m="2439500">j</span> <span m="2440040">minus</span> <span m="2440390">i</span> <span m="2440640">choices</span> <span m="2442170">for</span> <span m="2442410">k.</span> <span m="2443550">There's</span> <span m="2443730">a</span> <span m="2443790">constant</span> <span m="2444150">number</span> <span m="2444360">of</span> <span m="2444420">choices</span> <span m="2444840">for</span> <span m="2444990">opt</span> <span m="2445230">L</span> <span m="2445380">and</span> <span m="2445500">opt</span> <span m="2445740">R.</span> <span m="2446550">And</span> <span m="2446820">you</span> <span m="2446910">need</span> <span m="2447060">to</span> <span m="2447150">prove</span> <span m="2447480">that</span> <span m="2447660">this</span> <span m="2447870">is</span> <span m="2447990">correct.</span> <span m="2448380">I</span> <span m="2448470">won't</span> <span m="2449080">do</span> <span m="2449310">it</span> <span m="2449400">here.</span> <span m="2450610">But</span> <span m="2450720">the</span> <span m="2450840">idea</span> <span m="2451200">is,</span> <span m="2452010">if</span> <span m="2452100">you're</span> <span m="2452190">trying</span> <span m="2452430">to</span> <span m="2452520">minimize</span> <span m="2453360">or</span> <span m="2453540">maximize</span> <span m="2454260">your</span> <span m="2454680">sum</span> <span m="2455040">or</span> <span m="2455130">product,</span> <span m="2456540">it's</span> <span m="2456810">enough</span> <span m="2457110">to</span> <span m="2457230">know</span> <span m="2458250">what</span> <span m="2458550">ranges</span> <span m="2459000">these</span> <span m="2459180">could</span> <span m="2459300">come</span> <span m="2459570">in.</span> <span m="2460060">And the</span> <span m="2460230">optimal</span> <span m="2460560">choice</span> <span m="2460800">will</span> <span m="2460890">always</span> <span m="2461160">be</span> <span m="2461280">an</span> <span m="2461340">extreme</span> <span m="2461790">in</span> <span m="2461880">that</span> <span m="2462030">range.</span> <span m="2464020">We</span> <span m="2464140">consider</span> <span m="2464500">all</span> <span m="2464710">of</span> <span m="2464800">them</span> <span m="2464950">here.</span> <span m="2465590">And</span> <span m="2465760">so</span> <span m="2465970">we</span> <span m="2466090">get</span> <span m="2466570">this</span> <span m="2466750">recurrence.</span> <span m="2467780">Now,</span> <span m="2468040">it</span> <span m="2468220">needs</span> <span m="2468400">a</span> <span m="2468460">base</span> <span m="2468670">case,</span> <span m="2469690">and</span> <span m="2470050">we</span> <span m="2470140">need</span> <span m="2470290">to</span> <span m="2470410">check</span> <span m="2471550">that</span> <span m="2471820">it's</span> <span m="2472150">acyclic.</span> <span m="2474580">But</span> <span m="2475030">topological</span> <span m="2475660">order</span> <span m="2475990">is</span> <span m="2476200">just</span> <span m="2476890">increasing</span> <span m="2478560">j</span> <span m="2479050">minus</span> <span m="2479280">i.</span></p>
<p><span m="2479550">This</span> <span m="2479740">is</span> <span m="2479920">the</span> <span m="2480010">usual</span> <span m="2480880">order</span> <span m="2481330">for</span> <span m="2484450">substring</span> <span m="2484930">problems,</span> <span m="2485470">because</span> <span m="2485680">this</span> <span m="2485830">is</span> <span m="2485920">increasing</span> <span m="2486430">length</span> <span m="2486730">of</span> <span m="2486820">the</span> <span m="2486910">substring.</span> <span m="2487760">So</span> <span m="2487870">start</span> <span m="2488140">with</span> <span m="2488290">very</span> <span m="2488470">tiny</span> <span m="2489040">substrings.</span> <span m="2489580">Here,</span> <span m="2489730">we'll</span> <span m="2489820">start</span> <span m="2490120">with</span> <span m="2490330">length</span> <span m="2490630">1</span> <span m="2490900">substrings.</span> <span m="2491320">We</span> <span m="2491470">just</span> <span m="2491710">have an</span> <span m="2491980">a, i</span> <span m="2492080">there.</span> <span m="2492940">So</span> <span m="2493120">that's</span> <span m="2493330">going</span> <span m="2493450">to</span> <span m="2493510">be</span> <span m="2493630">our</span> <span m="2493750">base</span> <span m="2493960">case.</span> <span m="2494680">And</span> <span m="2494950">you</span> <span m="2495070">grow</span> <span m="2495520">up</span> <span m="2495730">to</span> <span m="2496000">the</span> <span m="2496120">entire</span> <span m="2496540">string.</span> <span m="2497560">And</span> <span m="2497800">it</span> <span m="2497890">doesn't</span> <span m="2498130">matter</span> <span m="2498430">how</span> <span m="2498580">we</span> <span m="2498730">order</span> <span m="2498970">relative</span> <span m="2499360">to</span> <span m="2499450">opt</span> <span m="2499780">as</span> <span m="2499900">long</span> <span m="2500080">as</span> <span m="2500200">we</span> <span m="2500350">are</span> <span m="2500440">increasing</span> <span m="2500950">in</span> <span m="2501010">j</span> <span m="2501160">minus</span> <span m="2501460">i,</span> <span m="2501680">because</span> <span m="2502660">i</span> <span m="2502930">to</span> <span m="2503020">k</span> <span m="2503530">and</span> <span m="2503740">k</span> <span m="2503950">to</span> <span m="2504040">j</span> <span m="2504340">will</span> <span m="2504520">always</span> <span m="2504790">be</span> <span m="2504910">strictly</span> <span m="2505330">smaller</span> <span m="2505780">than</span> <span m="2506000">i to</span> <span m="2506170">j,</span> <span m="2506470">and</span> <span m="2506620">so</span> <span m="2506800">this</span> <span m="2506950">will</span> <span m="2507040">be</span> <span m="2507460">acyclic.</span> <span m="2509500">The</span> <span m="2509620">base</span> <span m="2509860">case</span> <span m="2510190">is</span> <span m="2510520">x</span> <span m="2510850">of</span> <span m="2511120">i,</span> <span m="2511990">i</span> <span m="2512210">plus</span> <span m="2512500">1,</span> <span m="2513470">opt.</span> <span m="2515230">This</span> <span m="2515530">is</span> <span m="2515740">always</span> <span m="2515995">a</span> <span m="2516250">i.</span> <span m="2517120">Doesn't</span> <span m="2517390">matter</span> <span m="2517630">what</span> <span m="2517780">opt is,</span> <span m="2518230">because</span> <span m="2518410">there's</span> <span m="2518560">nothing--</span> <span m="2518890">there's</span> <span m="2519070">no</span> <span m="2519190">choice.</span> <span m="2520100">You</span> <span m="2520180">just</span> <span m="2520420">have</span> <span m="2520690">a</span> <span m="2520780">single</span> <span m="2521080">number</span> <span m="2521380">in</span> <span m="2521500">that</span> <span m="2522010">substring,</span> <span m="2522550">because</span> <span m="2522760">we're</span> <span m="2522880">exclusive</span> <span m="2523360">on</span> <span m="2523480">i</span> <span m="2523600">plus</span> <span m="2523810">1.</span></p>
<p><span m="2526550">And</span> <span m="2526930">then</span> <span m="2527050">the</span> <span m="2527140">original</span> <span m="2527440">problem</span> <span m="2527710">we</span> <span m="2527800">want</span> <span m="2527920">to</span> <span m="2527980">solve</span> <span m="2528970">is</span> <span m="2529840">x</span> <span m="2530200">of</span> <span m="2530500">0,</span> <span m="2531340">n,</span> <span m="2532420">max.</span> <span m="2533530">You</span> <span m="2534010">could</span> <span m="2534220">also</span> <span m="2534490">solve</span> <span m="2534820">min</span> <span m="2535150">and</span> <span m="2535300">see</span> <span m="2535510">how</span> <span m="2535660">small</span> <span m="2535960">you</span> <span m="2536050">can</span> <span m="2536170">get</span> <span m="2536320">it.</span> <span m="2536780">So</span> <span m="2536830">if</span> <span m="2536920">you</span> <span m="2537010">wanted</span> <span m="2537260">to</span> <span m="2537370">maximize</span> <span m="2537790">the</span> <span m="2537880">absolute</span> <span m="2538150">value,</span> <span m="2538510">you</span> <span m="2538660">could</span> <span m="2539140">solve</span> <span m="2539530">the</span> <span m="2539620">max</span> <span m="2539890">problem</span> <span m="2540320">and</span> <span m="2540340">the</span> <span m="2540400">min</span> <span m="2540550">problem</span> <span m="2540940">and</span> <span m="2541060">take</span> <span m="2541330">the</span> <span m="2541480">largest</span> <span m="2542230">of</span> <span m="2542470">those</span> <span m="2542650">two</span> <span m="2542830">options.</span> <span m="2545280">And</span> <span m="2545460">how</span> <span m="2545550">much</span> <span m="2545730">time</span> <span m="2545940">does</span> <span m="2546060">this</span> <span m="2546210">take?</span> <span m="2547710">Well,</span> <span m="2547980">how</span> <span m="2548100">many</span> <span m="2548280">subproblems</span> <span m="2548970">are</span> <span m="2549090">there?</span> <span m="2549840">For</span> <span m="2550050">substring</span> <span m="2550440">problems,</span> <span m="2550770">we</span> <span m="2550830">have</span> <span m="2550950">n</span> <span m="2551130">squared</span> <span m="2551430">subproblems.</span> <span m="2552060">Now,</span> <span m="2552210">we</span> <span m="2552300">multiply</span> <span m="2552780">the</span> <span m="2552870">number</span> <span m="2553190">of</span> <span m="2553260">subproblems</span> <span m="2553620">by</span> <span m="2553860">2,</span> <span m="2554760">but</span> <span m="2554940">that's</span> <span m="2555090">still</span> <span m="2555330">n</span> <span m="2555480">squared.</span> <span m="2556450">So</span> <span m="2556560">we</span> <span m="2556710">have</span> <span m="2557430">n</span> <span m="2557700">squared</span> <span m="2558060">subproblems.</span></p>
<p><span m="2562560">And</span> <span m="2562980">how</span> <span m="2563100">much</span> <span m="2563310">work</span> <span m="2563640">per</span> <span m="2564000">subproblem</span> <span m="2564360">are</span> <span m="2564480">we</span> <span m="2564570">doing?</span> <span m="2565350">Well,</span> <span m="2566250">as</span> <span m="2566460">I</span> <span m="2566550">mentioned,</span> <span m="2567210">we're</span> <span m="2567990">doing</span> <span m="2568290">j</span> <span m="2568500">minus</span> <span m="2568830">i</span> <span m="2568920">choices</span> <span m="2569340">for</span> <span m="2569460">k</span> <span m="2569820">and a constant</span> <span m="2570130">number</span> <span m="2570330">of</span> <span m="2570390">choices</span> <span m="2570750">for</span> <span m="2570870">opt</span> <span m="2571230">L and</span> <span m="2571350">opt</span> <span m="2571560">R.</span> <span m="2572130">So</span> <span m="2572370">this</span> <span m="2572580">is</span> <span m="2572700">theta</span> <span m="2573150">j</span> <span m="2573360">minus</span> <span m="2573610">i,</span> <span m="2574080">which,</span> <span m="2574530">if</span> <span m="2574710">I'll</span> <span m="2574800">be</span> <span m="2574920">sloppy,</span> <span m="2575310">that's</span> <span m="2575550">at</span> <span m="2575640">most</span> <span m="2575910">big</span> <span m="2576120">O of</span> <span m="2576330">n.</span> <span m="2578070">And</span> <span m="2578400">it</span> <span m="2578520">turns</span> <span m="2578760">out</span> <span m="2578880">to</span> <span m="2578970">be</span> <span m="2579120">the</span> <span m="2579210">right</span> <span m="2579420">answer</span> <span m="2579720">anyway.</span> <span m="2580770">So</span> <span m="2581850">there's</span> <span m="2582640">a</span> <span m="2582720">linear</span> <span m="2583230">amount</span> <span m="2583590">of</span> <span m="2583740">non-recursive</span> <span m="2584370">work.</span> <span m="2585340">In</span> <span m="2585480">fact,</span> <span m="2585910">it's</span> <span m="2585930">like</span> <span m="2586140">a</span> <span m="2586200">triangular</span> <span m="2586620">number,</span> <span m="2586950">but</span> <span m="2587940">that's</span> <span m="2588150">still</span> <span m="2588360">theta</span> <span m="2589970">n</span> <span m="2591110">cubed.</span> <span m="2595400">Same</span> <span m="2595730">running</span> <span m="2596000">time</span> <span m="2596420">as</span> <span m="2597450">v</span> <span m="2597800">cubed</span> <span m="2598280">we</span> <span m="2598370">just</span> <span m="2598580">got.</span> <span m="2598820">But</span> <span m="2599330">polynomial</span> <span m="2599870">time.</span></p>
<p><span m="2601010">And</span> <span m="2601250">this</span> <span m="2601370">is</span> <span m="2601490">pretty</span> <span m="2601670">impressive,</span> <span m="2602150">because</span> <span m="2602330">we're</span> <span m="2602570">really</span> <span m="2602960">brute</span> <span m="2603200">forcing</span> <span m="2603620">all</span> <span m="2603860">possible</span> <span m="2604310">parenthesizations.</span> <span m="2605240">There</span> <span m="2605400">about</span> <span m="2605720">4</span> <span m="2606050">to</span> <span m="2606170">the</span> <span m="2606290">n,</span> <span m="2606770">exponentially</span> <span m="2607640">many,</span> <span m="2608870">parenthesizations</span> <span m="2609860">of</span> <span m="2610040">an</span> <span m="2610100">expression.</span> <span m="2611000">But</span> <span m="2611240">we're</span> <span m="2611630">finding</span> <span m="2612110">the</span> <span m="2612230">biggest--</span> <span m="2612770">the</span> <span m="2612950">one</span> <span m="2613100">that</span> <span m="2613310">evaluates</span> <span m="2613850">the</span> <span m="2613970">largest</span> <span m="2614360">value</span> <span m="2614750">and</span> <span m="2614840">the</span> <span m="2614930">one</span> <span m="2615090">that</span> <span m="2615420">evaluates</span> <span m="2615890">to the</span> <span m="2615980">smallest</span> <span m="2616340">value</span> <span m="2616910">in</span> <span m="2617120">just</span> <span m="2617330">n</span> <span m="2617510">cubed</span> <span m="2617750">time--</span> <span m="2618050">polynomial.</span> <span m="2620500">And</span> <span m="2621310">a</span> <span m="2621430">key</span> <span m="2621730">here</span> <span m="2622570">was</span> <span m="2622790">subproblem</span> <span m="2623230">expansion,</span> <span m="2624130">where</span> <span m="2624460">we,</span> <span m="2624760">in</span> <span m="2624940">addition</span> <span m="2625270">to</span> <span m="2625390">solving</span> <span m="2625720">the</span> <span m="2625790">max</span> <span m="2626050">problem,</span> <span m="2626450">we</span> <span m="2626500">also</span> <span m="2626770">solved</span> <span m="2627040">the min</span> <span m="2627310">problem,</span> <span m="2628120">because</span> <span m="2628510">sometimes,</span> <span m="2629890">you</span> <span m="2630130">want</span> <span m="2630340">to</span> <span m="2630400">take</span> <span m="2630760">two</span> <span m="2632170">very</span> <span m="2632530">small</span> <span m="2632830">negative</span> <span m="2633190">numbers</span> <span m="2633580">and</span> <span m="2633730">product</span> <span m="2634090">them</span> <span m="2634240">together</span> <span m="2634630">to</span> <span m="2634750">get</span> <span m="2634870">a</span> <span m="2634990">larger</span> <span m="2635620">positive</span> <span m="2636130">number.</span> <span m="2639180">Cool.</span> <span m="2641010">Question?</span></p>
<p><span m="2642450">AUDIENCE:</span> <span m="2642630">Would</span> <span m="2642810">anything</span> <span m="2642930">go</span> <span m="2643050">wrong</span> <span m="2643350">if</span> <span m="2643500">I</span> <span m="2643600">added</span> <span m="2644400">minus or</span> <span m="2644640">divide?</span></p>
<p><span m="2646410">ERIK DEMAINE:</span> <span m="2646530">So</span> <span m="2646650">what</span> <span m="2646800">if</span> <span m="2646920">I</span> <span m="2646980">had</span> <span m="2647160">operators</span> <span m="2647850">minus</span> <span m="2648510">and</span> <span m="2648690">divide?</span> <span m="2651050">It's</span> <span m="2651200">a</span> <span m="2651260">good</span> <span m="2651470">question.</span> <span m="2652090">I'm</span> <span m="2652520">certain</span> <span m="2652880">that</span> <span m="2653390">minus</span> <span m="2653870">should</span> <span m="2654050">work</span> <span m="2654260">fine.</span> <span m="2655340">If</span> <span m="2655610">we</span> <span m="2655700">do</span> <span m="2656180">min</span> <span m="2656420">and</span> <span m="2656510">max,</span> <span m="2656840">this</span> <span m="2659060">should</span> <span m="2659300">still</span> <span m="2659510">evaluate</span> <span m="2659960">the</span> <span m="2660110">largest</span> <span m="2660470">thing</span> <span m="2660680">for</span> <span m="2660800">division.</span> <span m="2661850">I</span> <span m="2662090">need</span> <span m="2662270">to</span> <span m="2662330">think</span> <span m="2662540">about</span> <span m="2662810">the</span> <span m="2662870">cases.</span> <span m="2663710">I</span> <span m="2663950">would</span> <span m="2664160">guess</span> <span m="2664520">it</span> <span m="2664670">works,</span> <span m="2665310">but</span> <span m="2666260">what</span> <span m="2666500">we</span> <span m="2666590">need</span> <span m="2666770">to</span> <span m="2666860">prove</span> <span m="2667310">is</span> <span m="2667550">that</span> <span m="2669170">the</span> <span m="2669320">way</span> <span m="2669500">to</span> <span m="2669620">maximize</span> <span m="2670250">or</span> <span m="2670340">minimize</span> <span m="2670970">a</span> <span m="2671210">division,</span> <span m="2671690">say,</span> <span m="2673670">given</span> <span m="2674180">two</span> <span m="2674450">numbers</span> <span m="2674810">in</span> <span m="2674900">the</span> <span m="2674960">left</span> <span m="2675200">and</span> <span m="2675290">right,</span> <span m="2676250">is</span> <span m="2676910">that</span> <span m="2677150">it</span> <span m="2677270">either</span> <span m="2677570">corresponds</span> <span m="2678080">to</span> <span m="2678200">maximizing</span> <span m="2678860">or</span> <span m="2678950">minimizing</span> <span m="2679700">the</span> <span m="2680030">thing</span> <span m="2680180">on</span> <span m="2680270">the</span> <span m="2680360">left</span> <span m="2680810">and</span> <span m="2681080">then</span> <span m="2681320">maximizing</span> <span m="2681860">or</span> <span m="2682070">minimizing</span> <span m="2682610">the</span> <span m="2682700">thing</span> <span m="2682850">on</span> <span m="2682940">the</span> <span m="2683030">right.</span> <span m="2683790">So</span> <span m="2683840">as</span> <span m="2683930">long</span> <span m="2684080">as</span> <span m="2684170">you</span> <span m="2684260">have</span> <span m="2684410">this</span> <span m="2684620">kind</span> <span m="2684830">of--</span> <span m="2685250">it's</span> <span m="2685400">not</span> <span m="2685520">exactly</span> <span m="2685850">monotonicity.</span></p>
<p><span m="2686600">It's</span> <span m="2686780">just</span> <span m="2686990">that,</span> <span m="2687350">in</span> <span m="2687530">order</span> <span m="2687680">to</span> <span m="2687740">compute</span> <span m="2687980">max or min,</span> <span m="2688760">it</span> <span m="2688940">suffices</span> <span m="2689510">to</span> <span m="2689630">know</span> <span m="2690320">the</span> <span m="2690470">max</span> <span m="2690865">and min</span> <span m="2691940">of</span> <span m="2692210">the</span> <span m="2692330">two</span> <span m="2692690">parts.</span> <span m="2693950">It's</span> <span m="2694190">like</span> <span m="2694400">interval</span> <span m="2694730">arithmetic.</span> <span m="2695300">You know,</span> <span m="2695510">interval</span> <span m="2695810">arithmetic?</span> <span m="2696530">I</span> <span m="2696770">want</span> <span m="2696950">to</span> <span m="2697010">know,</span> <span m="2697870">what</span> <span m="2698300">are</span> <span m="2698390">the</span> <span m="2698450">extremes</span> <span m="2698870">I</span> <span m="2698960">can</span> <span m="2699080">get</span> <span m="2699290">on</span> <span m="2699770">the</span> <span m="2699890">output</span> <span m="2700340">of</span> <span m="2700490">a</span> <span m="2700520">division</span> <span m="2701180">if</span> <span m="2701420">I'm</span> <span m="2701540">given</span> <span m="2701930">that</span> <span m="2702110">a</span> <span m="2702170">number is</span> <span m="2702530">in</span> <span m="2702620">some</span> <span m="2702800">interval</span> <span m="2703100">here</span> <span m="2703340">and</span> <span m="2703460">some</span> <span m="2703640">interval</span> <span m="2703940">here?</span> <span m="2704420">If</span> <span m="2704660">the</span> <span m="2704750">answer</span> <span m="2705020">is</span> <span m="2705140">always,</span> <span m="2705800">use</span> <span m="2706160">one</span> <span m="2706370">of</span> <span m="2706460">the</span> <span m="2706520">extreme</span> <span m="2706910">endpoints</span> <span m="2707330">here</span> <span m="2707540">and</span> <span m="2707630">use</span> <span m="2707780">one</span> <span m="2707930">of</span> <span m="2708020">the</span> <span m="2708110">extreme</span> <span m="2708410">endpoints</span> <span m="2708770">here,</span> <span m="2709190">then</span> <span m="2709400">this</span> <span m="2709550">algorithm</span> <span m="2709880">will</span> <span m="2709970">work.</span> <span m="2710210">Otherwise,</span> <span m="2711110">all</span> <span m="2711350">bets</span> <span m="2711560">are</span> <span m="2711650">off.</span> <span m="2713690">Cool.</span> <span m="2714770">So</span> <span m="2715130">if</span> <span m="2715280">you</span> <span m="2715370">negate--</span> <span m="2716210">if</span> <span m="2716450">you</span> <span m="2716510">put</span> <span m="2716660">a</span> <span m="2716720">minus</span> <span m="2717110">here,</span> <span m="2717440">that</span> <span m="2717590">will</span> <span m="2717710">work</span> <span m="2717890">fine,</span> <span m="2718130">because</span> <span m="2718340">it's</span> <span m="2718610">negating</span> <span m="2719030">this</span> <span m="2719180">range.</span> <span m="2719520">And</span> <span m="2719690">then</span> <span m="2719870">it's</span> <span m="2720140">just</span> <span m="2720440">like</span> <span m="2720590">sum.</span> <span m="2721520">But--</span></p>
<p><span m="2721820">AUDIENCE:</span> <span m="2722055">[INAUDIBLE]</span></p>
<p><span m="2723230">ERIK DEMAINE:</span> <span m="2723410">Oh, a</span> <span m="2723590">divider--</span> <span m="2723905">if you're</span> <span m="2724220">careful</span> <span m="2724580">about</span> <span m="2724850">0,</span> <span m="2725240">yeah.</span> <span m="2725570">Actually,</span> <span m="2726050">it</span> <span m="2726110">doesn't</span> <span m="2726380">work,</span> <span m="2726650">because</span> <span m="2727790">we</span> <span m="2727970">care</span> <span m="2728210">about</span> <span m="2728480">how</span> <span m="2728690">close</span> <span m="2729110">this</span> <span m="2729290">can</span> <span m="2729470">get</span> <span m="2729620">to</span> <span m="2729710">0</span> <span m="2730070">for</span> <span m="2730250">division.</span> <span m="2731780">It</span> <span m="2731930">might</span> <span m="2732200">be</span> <span m="2732320">enough</span> <span m="2732650">to</span> <span m="2734270">consider</span> <span m="2734780">those.</span> <span m="2735170">It's</span> <span m="2735320">like,</span> <span m="2738060">instead</span> <span m="2738540">of</span> <span m="2738660">minimizing</span> <span m="2739440">and--</span> <span m="2739800">instead</span> <span m="2740190">of</span> <span m="2740280">computing</span> <span m="2740610">this</span> <span m="2740760">entire</span> <span m="2741120">interval,</span> <span m="2741480">if</span> <span m="2741600">this</span> <span m="2741750">interval</span> <span m="2742080">spans</span> <span m="2742440">0,</span> <span m="2743280">maybe</span> <span m="2743670">I</span> <span m="2743760">need</span> <span m="2743910">to</span> <span m="2744030">know--</span> <span m="2745080">if</span> <span m="2745260">0 is</span> <span m="2745680">here,</span> <span m="2746670">I</span> <span m="2746850">need</span> <span m="2747000">to</span> <span m="2747090">know</span> <span m="2747240">how</span> <span m="2747720">close</span> <span m="2748050">to</span> <span m="2748140">0</span> <span m="2748350">I</span> <span m="2748410">can</span> <span m="2748500">get</span> <span m="2748650">on</span> <span m="2748710">the</span> <span m="2748770">left</span> <span m="2748980">side</span> <span m="2749430">and</span> <span m="2749640">how</span> <span m="2749760">close</span> <span m="2750000">to</span> <span m="2750090">0</span> <span m="2750300">I</span> <span m="2750330">can</span> <span m="2750450">get</span> <span m="2750540">on</span> <span m="2750630">the</span> <span m="2750690">right</span> <span m="2750840">side.</span> <span m="2751030">Still</span> <span m="2751290">just</span> <span m="2751530">four</span> <span m="2751770">quantities</span> <span m="2752310">I</span> <span m="2752400">need</span> <span m="2752550">to</span> <span m="2752640">know.</span> <span m="2753280">I</span> <span m="2753540">would</span> <span m="2753660">guess,</span> <span m="2753930">for</span> <span m="2754050">division,</span> <span m="2754450">that's</span> <span m="2754620">enough.</span> <span m="2755000">Yeah.</span> <span m="2755930">Nice.</span> <span m="2757000">Solved a</span> <span m="2757290">little</span> <span m="2757470">problem.</span> <span m="2757920">Then,</span> <span m="2758070">we would</span> <span m="2758220">be</span> <span m="2758340">multiplying</span> <span m="2758880">the</span> <span m="2759150">subproblem</span> <span m="2759420">space,</span> <span m="2759750">instead</span> <span m="2760020">of</span> <span m="2760110">by</span> <span m="2760230">2,</span> <span m="2760890">by</span> <span m="2761100">4.</span></p>
<p><span m="2762270">Hey,</span> <span m="2762480">maybe</span> <span m="2762660">we</span> <span m="2762720">should</span> <span m="2762870">put</span> <span m="2762990">this</span> <span m="2763140">on</span> <span m="2763230">the</span> <span m="2763290">final.</span> <span m="2763650">No,</span> <span m="2764090">just</span> <span m="2764270">kidding.</span> <span m="2764673">Now</span> <span m="2765076">it's</span> <span m="2765480">in</span> <span m="2765600">lecture,</span> <span m="2766030">so</span> <span m="2766560">we</span> <span m="2766830">can't</span> <span m="2767040">use</span> <span m="2767190">it.</span> <span m="2767310">But</span> <span m="2768540">it's</span> <span m="2768720">a</span> <span m="2768750">cool</span> <span m="2770130">set</span> <span m="2770340">of</span> <span m="2770400">problems,</span> <span m="2770790">right?</span> <span m="2770970">You</span> <span m="2771090">can</span> <span m="2771240">do</span> <span m="2771360">a</span> <span m="2771420">lot</span> <span m="2771750">with</span> <span m="2771870">dynamic</span> <span m="2772230">programming.</span> <span m="2774060">You</span> <span m="2774300">don't</span> <span m="2774450">need</span> <span m="2774570">to</span> <span m="2774660">be</span> <span m="2774780">that</span> <span m="2774900">clever,</span> <span m="2775260">just</span> <span m="2775440">brute</span> <span m="2775680">force</span> <span m="2776340">anything</span> <span m="2776820">that</span> <span m="2776940">seems</span> <span m="2777180">hard.</span> <span m="2777870">And</span> <span m="2778650">when</span> <span m="2778890">it</span> <span m="2778950">works,</span> <span m="2779310">it</span> <span m="2779370">works</span> <span m="2779580">great.</span> <span m="2782490">And</span> <span m="2782700">this</span> <span m="2782850">class</span> <span m="2783150">is</span> <span m="2783270">all</span> <span m="2783390">about</span> <span m="2783690">understanding</span> <span m="2784230">when</span> <span m="2784380">it</span> <span m="2784500">works</span> <span m="2785370">and</span> <span m="2785640">when</span> <span m="2785820">it</span> <span m="2785910">doesn't</span> <span m="2786210">work.</span> <span m="2787110">Of</span> <span m="2787170">course,</span> <span m="2787450">we</span> <span m="2787530">will</span> <span m="2787680">only</span> <span m="2787860">give</span> <span m="2788010">you</span> <span m="2788100">problems</span> <span m="2788430">where</span> <span m="2788550">it</span> <span m="2788640">works.</span> <span m="2791330">But</span> <span m="2791610">it's</span> <span m="2791860">important</span> <span m="2792160">to</span> <span m="2792220">understand</span> <span m="2792550">when</span> <span m="2792700">it</span> <span m="2792760">doesn't</span> <span m="2793000">work.</span> <span m="2793660">For</span> <span m="2793870">example,</span> <span m="2794440">DAG</span> <span m="2794720">shortest</span> <span m="2795050">paths--</span> <span m="2795490">that</span> <span m="2795700">algorithm</span> <span m="2796420">on</span> <span m="2796660">a</span> <span m="2796720">non-DAG,</span> <span m="2797800">very</span> <span m="2798070">bad.</span> <span m="2798430">Infinite</span> <span m="2798790">time.</span> <span m="2800470">OK.</span></p>
<p><span m="2801770">Our</span> <span m="2801850">last</span> <span m="2802120">example</span> <span m="2803590">is</span> <span m="2804040">piano</span> <span m="2804400">fingering.</span> <span m="2814030">Here,</span> <span m="2815590">we're</span> <span m="2815770">given</span> <span m="2817210">a</span> <span m="2817480">sequence</span> <span m="2818110">of</span> <span m="2818440">notes</span> <span m="2822800">t</span> <span m="2823270">0,</span> <span m="2823810">t</span> <span m="2824020">1--</span> <span m="2825730">t</span> <span m="2825910">for</span> <span m="2826060">note--</span> <span m="2827100">up</span> <span m="2827560">to</span> <span m="2828160">t</span> <span m="2828460">n</span> <span m="2828610">minus</span> <span m="2828850">1.</span> <span m="2831280">These</span> <span m="2831610">are</span> <span m="2831970">single</span> <span m="2832510">notes.</span> <span m="2835390">And</span> <span m="2836830">all</span> <span m="2837160">of the</span> <span m="2837250">single</span> <span m="2837490">notes--</span> <span m="2838060">all</span> <span m="2838300">of the</span> <span m="2838360">single</span> <span m="2838630">notes,</span> <span m="2838990">right?</span> <span m="2839830">And</span> <span m="2840130">we</span> <span m="2840280">have</span> <span m="2840490">fingers</span> <span m="2841090">on</span> <span m="2841360">our</span> <span m="2842080">hands.</span> <span m="2844040">This</span> <span m="2844180">is</span> <span m="2844300">not</span> <span m="2844690">like</span> <span m="2844960">two-finger</span> <span m="2845410">algorithm.</span> <span m="2845860">This</span> <span m="2846100">is</span> <span m="2846310">the</span> <span m="2846520">five-finger</span> <span m="2847480">algorithm.</span> <span m="2849830">So</span> <span m="2850000">in</span> <span m="2850120">general,</span> <span m="2850660">I'm</span> <span m="2850900">going</span> <span m="2851080">to</span> <span m="2851170">assume</span> <span m="2851470">an</span> <span m="2851590">arbitrary</span> <span m="2855190">anthropomorphic</span> <span m="2856630">object.</span> <span m="2858260">So</span> <span m="2858370">this</span> <span m="2858580">is</span> <span m="2858790">5</span> <span m="2859300">for</span> <span m="2859510">humans--</span> <span m="2860290">most</span> <span m="2860740">humans.</span> <span m="2861130">Some</span> <span m="2861490">humans--</span> <span m="2861970">I</span> <span m="2862060">think</span> <span m="2862210">the</span> <span m="2862270">maximum</span> <span m="2862810">on</span> <span m="2863290">each</span> <span m="2863650">hand</span> <span m="2864370">is</span> <span m="2864620">7.</span> <span m="2865570">Could</span> <span m="2865780">be</span> <span m="2865900">smaller.</span> <span m="2866470">Maybe</span> <span m="2866740">you've</span> <span m="2866860">had</span> <span m="2866980">an</span> <span m="2867130">accident.</span></p>
<p><span m="2868330">I'll</span> <span m="2868660">solve</span> <span m="2868960">it</span> <span m="2869050">for</span> <span m="2869200">arbitrary</span> <span m="2869800">F.</span> <span m="2871510">And</span> <span m="2871780">what</span> <span m="2871900">we would</span> <span m="2872050">like</span> <span m="2872230">to</span> <span m="2872320">do</span> <span m="2872560">is</span> <span m="2872740">assign</span> <span m="2873250">fingers</span> <span m="2874150">to</span> <span m="2874360">notes</span> <span m="2875650">to</span> <span m="2875890">tell</span> <span m="2876460">our</span> <span m="2876820">pianist</span> <span m="2878050">which</span> <span m="2878530">finger</span> <span m="2878800">to</span> <span m="2878890">use</span> <span m="2879100">for</span> <span m="2879220">each</span> <span m="2879400">note.</span> <span m="2880120">Normally,</span> <span m="2880450">when</span> <span m="2880570">you're</span> <span m="2880660">given</span> <span m="2880930">sheet</span> <span m="2881140">music,</span> <span m="2881770">it</span> <span m="2881980">just</span> <span m="2882130">gives</span> <span m="2882400">you</span> <span m="2883000">a</span> <span m="2883150">sequence</span> <span m="2883450">of</span> <span m="2883540">notes</span> <span m="2883880">you</span> <span m="2883980">want</span> <span m="2884020">to</span> <span m="2884080">play.</span> <span m="2884260">It</span> <span m="2884320">doesn't</span> <span m="2884590">tell</span> <span m="2884830">you</span> <span m="2884980">which</span> <span m="2885160">finger</span> <span m="2885460">you</span> <span m="2885550">want</span> <span m="2885700">to</span> <span m="2885760">play</span> <span m="2885970">it</span> <span m="2886030">with,</span> <span m="2887050">unless</span> <span m="2887320">you</span> <span m="2887410">have</span> <span m="2888250">some</span> <span m="2888520">nice</span> <span m="2889240">training</span> <span m="2890380">booklets</span> <span m="2890980">and</span> <span m="2891130">they</span> <span m="2891400">have</span> <span m="2891610">a</span> <span m="2891670">little</span> <span m="2891880">number</span> <span m="2892240">on</span> <span m="2892360">top</span> <span m="2892600">of</span> <span m="2892720">each.</span> <span m="2893230">And</span> <span m="2893440">I</span> <span m="2893560">number</span> <span m="2893860">them</span> <span m="2894160">1,</span> <span m="2894360">2,</span> <span m="2894490">3,</span> <span m="2895090">4</span> <span m="2895330">or</span> <span m="2895360">5,</span> <span m="2895840">and</span> <span m="2896620">symmetrically,</span> <span m="2897190">1,</span> <span m="2897400">2,</span> <span m="2897580">3,</span> <span m="2897820">4,</span> <span m="2898060">5.</span> <span m="2899530">Here's</span> <span m="2899770">a</span> <span m="2900340">giant</span> <span m="2900880">piano</span> <span m="2901720">for</span> <span m="2901960">my</span> <span m="2902440">giant</span> <span m="2902770">hands.</span> <span m="2905050">If</span> <span m="2905320">Jason</span> <span m="2905620">were</span> <span m="2905740">here,</span> <span m="2905890">he</span> <span m="2906010">could</span> <span m="2906160">sing</span> <span m="2906400">these</span> <span m="2906580">notes.</span> <span m="2907180">So</span> <span m="2907720">maybe</span> <span m="2907990">I</span> <span m="2908080">play</span> <span m="2908290">this</span> <span m="2908590">with</span> <span m="2908920">my</span> <span m="2909070">first</span> <span m="2909280">finger,</span> <span m="2909560">this</span> <span m="2909730">with</span> <span m="2909820">my</span> <span m="2909940">second</span> <span m="2910210">finger.</span></p>
<p><span m="2910600">Let's</span> <span m="2910780">just</span> <span m="2910960">say</span> <span m="2911080">I'm</span> <span m="2911170">doing</span> <span m="2911350">a</span> <span m="2911410">scale.</span> <span m="2912100">So</span> <span m="2912430">I</span> <span m="2912550">can</span> <span m="2912700">walk.</span> <span m="2913060">And</span> <span m="2913240">now,</span> <span m="2913660">I</span> <span m="2913840">think,</span> <span m="2913990">the typical</span> <span m="2914290">way</span> <span m="2914410">to</span> <span m="2914500">do</span> <span m="2914620">a</span> <span m="2914650">scale</span> <span m="2914980">is</span> <span m="2915070">to</span> <span m="2915160">reach</span> <span m="2915370">over</span> <span m="2915610">with</span> <span m="2915790">your</span> <span m="2916300">first</span> <span m="2916930">finger--</span> <span m="2917410">second</span> <span m="2917680">finger,</span> <span m="2917980">I</span> <span m="2918040">guess,</span> <span m="2918370">and</span> <span m="2918550">then</span> <span m="2918730">do</span> <span m="2918910">something</span> <span m="2919240">like</span> <span m="2919420">this.</span> <span m="2919990">No?</span> <span m="2920830">OK.</span> <span m="2922060">Clearly,</span> <span m="2922420">I</span> <span m="2922480">don't</span> <span m="2922660">know</span> <span m="2922780">scales</span> <span m="2923990">or</span> <span m="2924340">how</span> <span m="2924460">to</span> <span m="2924550">play</span> <span m="2924730">a</span> <span m="2924790">piano.</span> <span m="2925420">But</span> <span m="2925720">there's</span> <span m="2926500">limits</span> <span m="2926890">here.</span> <span m="2927200">I</span> <span m="2927250">can--</span> <span m="2927880">if</span> <span m="2928180">I'm</span> <span m="2928300">going</span> <span m="2928540">from</span> <span m="2928720">this</span> <span m="2928930">note</span> <span m="2929200">and</span> <span m="2929380">I</span> <span m="2929470">want</span> <span m="2929680">to</span> <span m="2929920">go</span> <span m="2930340">to</span> <span m="2930550">another</span> <span m="2930850">note</span> <span m="2931780">over</span> <span m="2932080">here,</span> <span m="2932560">OK,</span> <span m="2932860">maybe</span> <span m="2933100">I</span> <span m="2933160">have</span> <span m="2933370">a</span> <span m="2933550">decent</span> <span m="2934000">span</span> <span m="2934630">from</span> <span m="2935080">first</span> <span m="2935350">finger</span> <span m="2935590">to</span> <span m="2935680">fifth</span> <span m="2935890">finger,</span> <span m="2936490">but</span> <span m="2936700">my</span> <span m="2937000">span</span> <span m="2937300">for</span> <span m="2937430">my</span> <span m="2937570">first</span> <span m="2937840">finger</span> <span m="2938090">to</span> <span m="2938170">my</span> <span m="2938260">second</span> <span m="2938560">finger</span> <span m="2938920">is</span> <span m="2939190">not</span> <span m="2939580">as</span> <span m="2939700">big.</span> <span m="2940030">I</span> <span m="2940120">can't</span> <span m="2940330">reach</span> <span m="2940540">as</span> <span m="2940660">far.</span> <span m="2941390">So</span> <span m="2941590">if</span> <span m="2941680">I</span> <span m="2941740">want</span> <span m="2941860">to</span> <span m="2941920">play</span> <span m="2942070">this</span> <span m="2942280">note</span> <span m="2942460">and</span> <span m="2942580">then</span> <span m="2942730">this</span> <span m="2942880">note,</span> <span m="2943120">I would</span> <span m="2943300">like</span> <span m="2943480">to</span> <span m="2943660">start</span> <span m="2944200">here</span> <span m="2944560">with</span> <span m="2944710">a</span> <span m="2944770">very</span> <span m="2945640">extreme</span> <span m="2946090">figure</span> <span m="2946480">on</span> <span m="2946630">the</span> <span m="2946720">left</span> <span m="2947290">and</span> <span m="2947530">then</span> <span m="2947680">go</span> <span m="2947890">to</span> <span m="2948010">at</span> <span m="2948100">a</span> <span m="2948160">very</span> <span m="2948310">extreme</span> <span m="2948640">figure</span> <span m="2948940">on</span> <span m="2949060">the</span> <span m="2949120">right.</span></p>
<p><span m="2950650">I'm</span> <span m="2950860">going</span> <span m="2950980">to</span> <span m="2951070">formalize</span> <span m="2951580">this</span> <span m="2951730">problem</span> <span m="2953050">pretty</span> <span m="2953440">abstractly,</span> <span m="2954070">because</span> <span m="2954280">I</span> <span m="2954340">don't</span> <span m="2954490">want</span> <span m="2954610">to</span> <span m="2954700">get</span> <span m="2954880">into</span> <span m="2956020">music</span> <span m="2956410">performance.</span> <span m="2958360">I'm</span> <span m="2958570">going</span> <span m="2958690">to</span> <span m="2958780">say</span> <span m="2959140">that</span> <span m="2959320">there</span> <span m="2959470">is</span> <span m="2959590">a</span> <span m="2959650">metric</span> <span m="2961750">d</span> <span m="2963190">for,</span> <span m="2963760">if</span> <span m="2964000">I'm</span> <span m="2964180">at</span> <span m="2964490">note</span> <span m="2964755">t</span> <span m="2965020">with</span> <span m="2965200">finger</span> <span m="2965500">f,</span> <span m="2966430">and</span> <span m="2966700">I</span> <span m="2966760">want</span> <span m="2966940">to</span> <span m="2967000">go</span> <span m="2967150">to</span> <span m="2967240">note</span> <span m="2967720">t prime</span> <span m="2968200">with</span> <span m="2968320">finger</span> <span m="2968620">f</span> <span m="2968860">prime,</span> <span m="2971560">then</span> <span m="2971860">this</span> <span m="2972130">function,</span> <span m="2972820">d</span> <span m="2973120">of</span> <span m="2973240">t,</span> <span m="2973450">f,</span> <span m="2973840">t prime,</span> <span m="2974080">f</span> <span m="2974230">prime,</span> <span m="2974980">gives</span> <span m="2975310">me</span> <span m="2975580">the</span> <span m="2975730">difficulty</span> <span m="2976330">of</span> <span m="2976420">doing</span> <span m="2976690">that--</span> <span m="2982530">the</span> <span m="2982710">difficulty</span> <span m="2983400">of</span> <span m="2984240">playing</span> <span m="2986610">note</span> <span m="2987090">t</span> <span m="2988530">with</span> <span m="2988710">finger</span> <span m="2989040">f</span> <span m="2990870">and</span> <span m="2991500">then</span> <span m="2992520">playing</span> <span m="2995190">note</span> <span m="2995610">t</span> <span m="2995910">prime</span> <span m="2996930">with</span> <span m="2997440">finger</span> <span m="2997830">f prime.</span> <span m="2998390">This</span> <span m="2998820">w</span> <span m="2999240">is</span> <span m="2999570">"with."</span> <span m="3001390">So</span> <span m="3001630">this</span> <span m="3001810">is</span> <span m="3001930">a</span> <span m="3002020">transition</span> <span m="3002620">difficulty.</span> <span m="3003030">I'm</span> <span m="3003440">not</span> <span m="3003700">going</span> <span m="3003820">to</span> <span m="3003880">worry</span> <span m="3004150">about</span> <span m="3004720">the</span> <span m="3004870">difficulty</span> <span m="3005440">of</span> <span m="3005560">the</span> <span m="3005650">whole</span> <span m="3005860">piece</span> <span m="3006190">other</span> <span m="3006430">than</span> <span m="3006670">saying,</span> <span m="3006960">well,</span> <span m="3007250">I've</span> <span m="3007460">got</span> <span m="3007570">to</span> <span m="3007660">play</span> <span m="3007840">this</span> <span m="3008020">note,</span> <span m="3008230">then</span> <span m="3008410">I've</span> <span m="3008500">got</span> <span m="3008620">to</span> <span m="3008680">play</span> <span m="3008860">this</span> <span m="3009040">note.</span></p>
<p><span m="3009250">And</span> <span m="3009370">for</span> <span m="3009490">now,</span> <span m="3009700">just</span> <span m="3009910">single</span> <span m="3010240">notes.</span> <span m="3010660">You</span> <span m="3011110">play</span> <span m="3011290">a</span> <span m="3011320">single</span> <span m="3011590">note</span> <span m="3011830">with</span> <span m="3012010">your</span> <span m="3012130">right</span> <span m="3012310">hand,</span> <span m="3012620">then</span> <span m="3012850">you</span> <span m="3012940">play</span> <span m="3013090">another</span> <span m="3013450">single</span> <span m="3013750">note</span> <span m="3013960">with your</span> <span m="3014070">right</span> <span m="3014260">hand,</span> <span m="3014510">then another</span> <span m="3014830">single</span> <span m="3015070">note</span> <span m="3015190">with</span> <span m="3015310">your</span> <span m="3015400">right</span> <span m="3015580">hand.</span> <span m="3016070">Let's</span> <span m="3016300">assume</span> <span m="3016600">no</span> <span m="3017080">pauses</span> <span m="3017590">for</span> <span m="3017740">now--</span> <span m="3017920">no</span> <span m="3018010">rests.</span> <span m="3021130">Great.</span> <span m="3021460">So</span> <span m="3021670">we</span> <span m="3022960">have</span> <span m="3023350">this</span> <span m="3023530">difficulty</span> <span m="3024070">from</span> <span m="3024250">going</span> <span m="3024490">from</span> <span m="3024880">the</span> <span m="3025060">ith</span> <span m="3025360">note</span> <span m="3025720">to the</span> <span m="3025930">i</span> <span m="3026320">plus first</span> <span m="3026620">note.</span> <span m="3027490">And</span> <span m="3027760">then</span> <span m="3027910">our</span> <span m="3028000">goal</span> <span m="3028420">is</span> <span m="3028720">to</span> <span m="3029320">minimize</span> <span m="3029890">the</span> <span m="3029980">sum</span> <span m="3030220">of</span> <span m="3030310">difficulties.</span> <span m="3032470">Minimum</span> <span m="3033910">sum</span> <span m="3035260">of</span> <span m="3035710">d</span> <span m="3036220">ti</span> <span m="3037970">fi</span> <span m="3039640">ti</span> <span m="3040210">plus</span> <span m="3040450">1,</span> <span m="3042310">plus 1.</span> <span m="3043390">And</span> <span m="3043810">these--</span> <span m="3044260">f</span> <span m="3044710">i's</span> <span m="3045250">and</span> <span m="3045430">f</span> <span m="3045610">i plus</span> <span m="3045850">1</span> <span m="3046570">is</span> <span m="3046960">what</span> <span m="3047110">we</span> <span m="3047230">want</span> <span m="3047380">to</span> <span m="3047470">compute.</span> <span m="3048820">We</span> <span m="3049000">don't</span> <span m="3049150">know</span> <span m="3049270">which</span> <span m="3049450">fingers</span> <span m="3049750">to</span> <span m="3049840">use.</span> <span m="3050080">We're</span> <span m="3050200">only</span> <span m="3050500">given</span> <span m="3051070">which</span> <span m="3051340">notes</span> <span m="3051640">to</span> <span m="3051760">play.</span> <span m="3053840">This</span> <span m="3054020">is</span> <span m="3054170">actually</span> <span m="3054470">a</span> <span m="3054560">natural</span> <span m="3054860">problem.</span> <span m="3055100">There</span> <span m="3055220">are</span> <span m="3055250">lots</span> <span m="3055520">of</span> <span m="3055610">papers</span> <span m="3055940">about</span> <span m="3056120">this</span> <span m="3056270">problem.</span> <span m="3056540">I've</span> <span m="3056660">read</span> <span m="3056810">a</span> <span m="3056840">bunch</span> <span m="3057110">of</span> <span m="3057200">them--</span> <span m="3057650">obviously</span> <span m="3058040">not</span> <span m="3058190">super</span> <span m="3058490">well,</span> <span m="3058700">but</span> <span m="3059030">how</span> <span m="3059600">to</span> <span m="3059870">play</span> <span m="3060140">scales.</span></p>
<p><span m="3060920">But</span> <span m="3062180">there</span> <span m="3062420">are</span> <span m="3062510">notes</span> <span m="3062810">like--</span> <span m="3063590">there</span> <span m="3064250">are</span> <span m="3064310">constraints</span> <span m="3064940">in</span> <span m="3065090">this--</span> <span m="3065450">usually,</span> <span m="3066080">people</span> <span m="3066380">write</span> <span m="3066590">this</span> <span m="3067670">metric</span> <span m="3068240">as</span> <span m="3068450">a</span> <span m="3068510">sum</span> <span m="3068870">of</span> <span m="3068990">different</span> <span m="3069260">penalty</span> <span m="3069680">terms,</span> <span m="3071000">if</span> <span m="3071120">I</span> <span m="3071210">want</span> <span m="3071330">to</span> <span m="3071390">minimize</span> <span m="3071840">difficulty.</span> <span m="3072320">Difficulty</span> <span m="3073250">is</span> <span m="3073520">high</span> <span m="3074220">if</span> <span m="3074570">I</span> <span m="3074690">play</span> <span m="3074990">a</span> <span m="3075080">note</span> <span m="3075815">far</span> <span m="3076100">on</span> <span m="3077690">the</span> <span m="3077750">left.</span> <span m="3078720">So</span> <span m="3078890">if</span> <span m="3079040">I</span> <span m="3079130">go</span> <span m="3079250">from</span> <span m="3079430">a</span> <span m="3079700">low</span> <span m="3079910">note</span> <span m="3080150">to</span> <span m="3080300">a</span> <span m="3080360">high</span> <span m="3080540">note,</span> <span m="3082670">that's</span> <span m="3082970">easier</span> <span m="3083450">to</span> <span m="3083570">do</span> <span m="3084170">if</span> <span m="3084470">I</span> <span m="3084710">use</span> <span m="3084980">a</span> <span m="3085040">lower-numbered</span> <span m="3085640">finger</span> <span m="3085970">and</span> <span m="3086060">go</span> <span m="3086180">to</span> <span m="3086270">a</span> <span m="3086330">higher-numbered</span> <span m="3086870">finger.</span> <span m="3087350">You</span> <span m="3087530">don't</span> <span m="3087680">want</span> <span m="3089150">to</span> <span m="3089210">go,</span> <span m="3089870">like</span> <span m="3090170">I</span> <span m="3090290">was</span> <span m="3090440">doing,</span> <span m="3091280">from</span> <span m="3091730">a</span> <span m="3092270">high-numbered</span> <span m="3092840">finger</span> <span m="3093470">to</span> <span m="3093860">a</span> <span m="3094040">low-numbered</span> <span m="3094730">finger</span> <span m="3095840">to</span> <span m="3096050">play</span> <span m="3096260">a</span> <span m="3096320">note</span> <span m="3096530">on</span> <span m="3096650">the</span> <span m="3096740">right.</span> <span m="3097010">That's</span> <span m="3097220">annoying.</span> <span m="3097880">I would</span> <span m="3098000">like</span> <span m="3098180">to</span> <span m="3098360">do</span> <span m="3098540">an</span> <span m="3098630">assignment,</span> <span m="3098990">if</span> <span m="3099110">I</span> <span m="3099200">can,</span> <span m="3099410">that</span> <span m="3099530">avoids</span> <span m="3099860">that.</span> <span m="3100130">So</span> <span m="3100280">I'll</span> <span m="3100370">just</span> <span m="3100550">have</span> <span m="3100730">some</span> <span m="3100910">penalty</span> <span m="3101420">of,</span> <span m="3101510">like,</span> <span m="3101720">100</span> <span m="3102380">if</span> <span m="3102490">that</span> <span m="3102620">happens,</span> <span m="3103100">and</span> <span m="3103220">0</span> <span m="3103490">if</span> <span m="3103610">it</span> <span m="3103670">doesn't</span> <span m="3103940">happen,</span> <span m="3104540">sum</span> <span m="3104900">up</span> <span m="3105050">a</span> <span m="3105110">bunch</span> <span m="3105320">of</span> <span m="3105410">terms</span> <span m="3105740">like</span> <span m="3105950">that.</span></p>
<p><span m="3106520">Other</span> <span m="3106910">examples</span> <span m="3107420">are,</span> <span m="3108080">avoid</span> <span m="3108620">the</span> <span m="3108710">fourth</span> <span m="3108980">and</span> <span m="3109070">fifth</span> <span m="3109280">fingers--</span> <span m="3109720">weak</span> <span m="3109880">fingers--</span> <span m="3110690">or,</span> <span m="3111170">if</span> <span m="3111410">I'm</span> <span m="3111560">playing</span> <span m="3112170">a</span> <span m="3112640">portion</span> <span m="3113030">of</span> <span m="3113120">the</span> <span m="3113300">song</span> <span m="3113720">that</span> <span m="3113930">is</span> <span m="3114560">legato,</span> <span m="3115370">then</span> <span m="3115790">I</span> <span m="3116270">don't</span> <span m="3116510">want</span> <span m="3116630">to</span> <span m="3116690">use</span> <span m="3116840">the</span> <span m="3116930">same</span> <span m="3117230">finger</span> <span m="3117500">to</span> <span m="3117590">play</span> <span m="3117950">two</span> <span m="3118310">notes</span> <span m="3119600">right</span> <span m="3119870">after</span> <span m="3120170">the</span> <span m="3120290">other.</span> <span m="3120590">I've</span> <span m="3120740">got</span> <span m="3120890">to</span> <span m="3121010">use</span> <span m="3121190">two</span> <span m="3121340">different</span> <span m="3121670">fingers</span> <span m="3122030">for</span> <span m="3122150">that.</span> <span m="3122640">So</span> <span m="3122690">you</span> <span m="3122780">have</span> <span m="3122930">a</span> <span m="3122990">penalty</span> <span m="3123500">if</span> <span m="3123755">f</span> <span m="3124010">i</span> <span m="3124280">equals</span> <span m="3124640">f i</span> <span m="3124910">plus</span> <span m="3125180">1</span> <span m="3125720">and</span> <span m="3126020">these</span> <span m="3126140">two</span> <span m="3126290">notes</span> <span m="3126530">are</span> <span m="3126620">not</span> <span m="3126830">the</span> <span m="3126920">same.</span> <span m="3128220">Then--</span> <span m="3128510">and</span> <span m="3129005">we're</span> <span m="3129500">in</span> <span m="3129920">legato</span> <span m="3130280">mode--</span> <span m="3130520">then</span> <span m="3130730">we</span> <span m="3131120">add</span> <span m="3131390">a</span> <span m="3131420">penalty</span> <span m="3131750">term.</span> <span m="3132560">And</span> <span m="3132770">things</span> <span m="3132980">like</span> <span m="3133130">that.</span> <span m="3133340">I</span> <span m="3133550">would</span> <span m="3133700">prefer--</span> <span m="3135140">if</span> <span m="3135410">I'm</span> <span m="3135530">going</span> <span m="3135890">from</span> <span m="3136160">a</span> <span m="3136310">very</span> <span m="3136610">low</span> <span m="3136850">note</span> <span m="3137060">to</span> <span m="3137150">a</span> <span m="3137210">very</span> <span m="3137480">high</span> <span m="3137690">note,</span> <span m="3138110">I would</span> <span m="3138350">like</span> <span m="3138470">to</span> <span m="3138560">use</span> <span m="3138740">more</span> <span m="3138920">extreme</span> <span m="3139280">fingers.</span> <span m="3140000">Things</span> <span m="3140240">like</span> <span m="3140360">that.</span> <span m="3141900">But</span> <span m="3142040">we're</span> <span m="3142160">just</span> <span m="3142310">going</span> <span m="3142430">to</span> <span m="3142490">assume</span> <span m="3142730">this</span> <span m="3142910">d</span> <span m="3143780">function</span> <span m="3144110">is</span> <span m="3144230">given</span> <span m="3144470">to</span> <span m="3144620">us.</span> <span m="3145530">It's</span> <span m="3145690">some</span> <span m="3149780">polynomial</span> <span m="3150320">size.</span> <span m="3150710">If</span> <span m="3150860">you</span> <span m="3150920">imagine</span> <span m="3151280">the</span> <span m="3151460">notes</span> <span m="3151790">on</span> <span m="3151970">your</span> <span m="3152180">keyboard</span> <span m="3152930">are</span> <span m="3153215">end</span> <span m="3153500">notes</span> <span m="3154340">or</span> <span m="3154550">m</span> <span m="3154880">notes,</span> <span m="3155600">then</span> <span m="3155810">some</span> <span m="3156020">polynomial</span> <span m="3156560">and</span> <span m="3156650">m</span> <span m="3157160">size</span> <span m="3157610">to</span> <span m="3157760">this</span> <span m="3157910">function.</span></p>
<p><span m="3163430">How</span> <span m="3163640">do</span> <span m="3163730">we</span> <span m="3163850">solve</span> <span m="3164090">this</span> <span m="3164210">problem?</span> <span m="3166130">I'm</span> <span m="3166620">running</span> <span m="3166940">low</span> <span m="3167090">on</span> <span m="3167210">time,</span> <span m="3167670">so</span> <span m="3167780">let</span> <span m="3167990">me</span> <span m="3170330">give</span> <span m="3170690">you</span> <span m="3176910">the</span> <span m="3177330">idea.</span> <span m="3181360">And</span> <span m="3181690">this</span> <span m="3181810">is</span> <span m="3181930">going</span> <span m="3182050">to</span> <span m="3182110">use</span> <span m="3182320">subproblem</span> <span m="3182800">expansion.</span> <span m="3187100">So</span> <span m="3187330">the</span> <span m="3187450">subproblems</span> <span m="3188140">are</span> <span m="3188350">going</span> <span m="3188590">to</span> <span m="3188710">be</span> <span m="3190000">x</span> <span m="3190360">of i,</span> <span m="3190510">comma</span> <span m="3191080">f--</span> <span m="3192320">this</span> <span m="3192610">is</span> <span m="3193000">the</span> <span m="3193120">minimum</span> <span m="3194530">total</span> <span m="3195100">difficulty</span> <span m="3198460">to</span> <span m="3198910">play</span> <span m="3200950">suffix--</span> <span m="3201520">because</span> <span m="3201730">I</span> <span m="3201880">like</span> <span m="3202060">suffixes--</span> <span m="3203120">t</span> <span m="3203460">i</span> <span m="3203800">up</span> <span m="3204040">to</span> <span m="3204430">t</span> <span m="3204850">n</span> <span m="3205060">minus</span> <span m="3205390">1,</span> <span m="3207960">starting</span> <span m="3212810">with</span> <span m="3213050">finger</span> <span m="3213380">f</span> <span m="3219310">on</span> <span m="3219930">note</span> <span m="3221160">t</span> <span m="3221520">i.</span> <span m="3223290">The</span> <span m="3223500">obvious</span> <span m="3224130">subproblems</span> <span m="3224820">would</span> <span m="3224970">be</span> <span m="3225300">without</span> <span m="3225690">this</span> <span m="3226080">constraint.</span> <span m="3226620">This</span> <span m="3226890">here</span> <span m="3227430">is</span> <span m="3227700">a</span> <span m="3227970">problem</span> <span m="3228300">constraint.</span> <span m="3230350">And</span> <span m="3230680">you</span> <span m="3230800">could</span> <span m="3230950">try</span> <span m="3231190">to</span> <span m="3231280">define</span> <span m="3231710">the</span> <span m="3231910">subproblems</span> <span m="3232300">just</span> <span m="3232510">as,</span> <span m="3232690">what's</span> <span m="3232960">the</span> <span m="3233320">best</span> <span m="3233620">way</span> <span m="3233740">to</span> <span m="3233830">play</span> <span m="3234010">a</span> <span m="3234070">suffix?</span> <span m="3235060">But</span> <span m="3235330">I</span> <span m="3235450">claim</span> <span m="3235780">it's</span> <span m="3235900">important</span> <span m="3236260">to</span> <span m="3236380">know</span> <span m="3236590">which</span> <span m="3236770">finger</span> <span m="3237100">we</span> <span m="3237220">start</span> <span m="3237520">with.</span></p>
<p><span m="3237880">So</span> <span m="3238120">we're</span> <span m="3238240">going</span> <span m="3238360">to</span> <span m="3238750">multiply</span> <span m="3239350">the</span> <span m="3239440">number</span> <span m="3239650">of</span> <span m="3239710">subproblems</span> <span m="3240250">by</span> <span m="3240640">capital</span> <span m="3241120">F,</span> <span m="3241330">which</span> <span m="3241510">is</span> <span m="3241660">just</span> <span m="3241870">5.</span> <span m="3242320">So a</span> <span m="3242560">very</span> <span m="3242770">small</span> <span m="3243550">subproblem</span> <span m="3244480">expansion.</span> <span m="3245200">And</span> <span m="3245410">then</span> <span m="3245500">we're</span> <span m="3245590">going</span> <span m="3245710">to</span> <span m="3245770">constrain</span> <span m="3246220">these</span> <span m="3246340">subproblems</span> <span m="3246880">to</span> <span m="3247000">say,</span> <span m="3247310">well,</span> <span m="3247460">what</span> <span m="3247510">if</span> <span m="3247600">I</span> <span m="3247690">started</span> <span m="3247990">with</span> <span m="3248110">my</span> <span m="3248230">first</span> <span m="3248410">finger?</span> <span m="3248680">What</span> <span m="3248830">if</span> <span m="3248920">I</span> <span m="3248980">started</span> <span m="3249160">with</span> <span m="3249250">my</span> <span m="3249370">second</span> <span m="3249640">finger?</span> <span m="3249850">What if--</span> <span m="3250210">up</span> <span m="3250330">to</span> <span m="3250480">the</span> <span m="3250570">fifth</span> <span m="3250780">finger.</span> <span m="3251740">Try</span> <span m="3252070">them all.</span> <span m="3254050">Then,</span> <span m="3255100">it</span> <span m="3255160">turns</span> <span m="3255400">out,</span> <span m="3255580">I</span> <span m="3255760">can</span> <span m="3255970">write</span> <span m="3256150">a</span> <span m="3256180">relation,</span> <span m="3258430">which</span> <span m="3258820">is</span> <span m="3260260">X</span> <span m="3260420">of i</span> <span m="3260875">f</span> <span m="3262240">equals</span> <span m="3262660">the</span> <span m="3262750">min.</span> <span m="3264760">What</span> <span m="3265000">should</span> <span m="3265180">I</span> <span m="3265330">min</span> <span m="3265630">over?</span></p>
<p><span m="3266440">I'll</span> <span m="3266740">just</span> <span m="3268450">guess</span> <span m="3269080">this--</span> <span m="3269410">I'm</span> <span m="3269710">already</span> <span m="3270040">told</span> <span m="3270370">what</span> <span m="3270490">my</span> <span m="3270640">first</span> <span m="3270880">finger</span> <span m="3271180">is</span> <span m="3272350">to</span> <span m="3272710">use--</span> <span m="3273370">which</span> <span m="3273640">finger</span> <span m="3273940">I</span> <span m="3274000">should</span> <span m="3274150">use</span> <span m="3274300">for</span> <span m="3274420">t</span> <span m="3274685">i.</span> <span m="3275440">So</span> <span m="3275710">what's</span> <span m="3275950">the</span> <span m="3276040">next</span> <span m="3276280">thing</span> <span m="3276460">that</span> <span m="3276550">matters?</span> <span m="3276970">Well,</span> <span m="3277180">I</span> <span m="3277270">guess</span> <span m="3277540">what</span> <span m="3277750">finger</span> <span m="3278080">to</span> <span m="3278200">use</span> <span m="3278710">for</span> <span m="3278920">the</span> <span m="3279400">t i</span> <span m="3279730">plus</span> <span m="3279940">1,</span> <span m="3280210">the</span> <span m="3280300">very</span> <span m="3280510">next</span> <span m="3280750">note.</span> <span m="3281470">What</span> <span m="3281680">is</span> <span m="3281770">the</span> <span m="3281890">next</span> <span m="3282220">finger</span> <span m="3282620">I</span> <span m="3282720">use?</span> <span m="3283210">I</span> <span m="3283450">will</span> <span m="3283570">call</span> <span m="3283870">that</span> <span m="3284380">f</span> <span m="3284710">prime</span> <span m="3285850">and</span> <span m="3286180">minimize</span> <span m="3286840">over</span> <span m="3287830">f</span> <span m="3288160">prime,</span> <span m="3288760">between</span> <span m="3289180">one</span> <span m="3289390">and</span> <span m="3289510">capital,</span> <span m="3289900">F</span> <span m="3290950">of</span> <span m="3292720">the</span> <span m="3293050">remaining</span> <span m="3293500">suffix,</span> <span m="3294520">starting</span> <span m="3295060">with</span> <span m="3295240">f</span> <span m="3295420">prime,</span> <span m="3296440">plus</span> <span m="3297370">my</span> <span m="3297760">difficulty</span> <span m="3298300">function</span> <span m="3299110">from</span> <span m="3299350">t i,</span> <span m="3299830">comma</span> <span m="3300160">f,</span> <span m="3301060">to</span> <span m="3301210">t</span> <span m="3301495">i</span> <span m="3301780">plus</span> <span m="3302050">1,</span> <span m="3302740">comma</span> <span m="3303160">f</span> <span m="3303460">prime.</span> <span m="3305200">End</span> <span m="3305560">of</span> <span m="3305650">bracket.</span> <span m="3307300">OK.</span></p>
<p><span m="3308410">So</span> <span m="3308740">there's</span> <span m="3309040">kind</span> <span m="3309220">of</span> <span m="3309340">a</span> <span m="3309370">lot</span> <span m="3310180">going</span> <span m="3310510">on</span> <span m="3310550">here.</span> <span m="3310780">This</span> <span m="3310990">is</span> <span m="3311170">a</span> <span m="3312040">lowercase</span> <span m="3312700">f</span> <span m="3312880">prime.</span> <span m="3315610">But</span> <span m="3315940">actually,</span> <span m="3316240">if</span> <span m="3316300">you</span> <span m="3316390">think</span> <span m="3316600">about</span> <span m="3316870">what</span> <span m="3317020">I would</span> <span m="3317170">like</span> <span m="3317350">to</span> <span m="3317530">write</span> <span m="3317830">the</span> <span m="3317920">recurrence</span> <span m="3318430">on,</span> <span m="3318670">well,</span> <span m="3319030">I</span> <span m="3319090">start</span> <span m="3319360">with</span> <span m="3319510">the</span> <span m="3319600">suffix</span> <span m="3319990">i,</span> <span m="3320690">I would</span> <span m="3321040">like</span> <span m="3321220">to</span> <span m="3321310">recurse</span> <span m="3321670">on</span> <span m="3321790">the</span> <span m="3321820">smaller</span> <span m="3322210">suffix,</span> <span m="3322600">so</span> <span m="3322720">that's</span> <span m="3322960">X of i</span> <span m="3323410">plus</span> <span m="3323680">1.</span> <span m="3327030">So</span> <span m="3327270">here,</span> <span m="3328080">if</span> <span m="3328620">I</span> <span m="3328740">know</span> <span m="3328950">that</span> <span m="3329100">I'm</span> <span m="3329220">prioritizing</span> <span m="3329820">my</span> <span m="3329940">finger</span> <span m="3330270">number</span> <span m="3331050">for</span> <span m="3331410">i,</span> <span m="3332310">will</span> <span m="3332520">then</span> <span m="3332670">I'm</span> <span m="3333030">in</span> <span m="3333270">order</span> <span m="3333450">to</span> <span m="3333660">even</span> <span m="3333930">call</span> <span m="3334230">this</span> <span m="3334380">function,</span> <span m="3334870">I</span> <span m="3334970">need</span> <span m="3334980">to</span> <span m="3335100">know</span> <span m="3335220">what</span> <span m="3335370">finger</span> <span m="3335610">I'm</span> <span m="3335730">using</span> <span m="3335970">4</span> <span m="3336220">plus</span> <span m="3336420">1.</span> <span m="3336930">Once</span> <span m="3337080">you</span> <span m="3337170">decide</span> <span m="3337500">on</span> <span m="3337560">these</span> <span m="3337830">subproblems,</span> <span m="3338160">it's</span> <span m="3338280">really</span> <span m="3338490">obvious</span> <span m="3338980">you</span> <span m="3339080">need</span> <span m="3339180">to</span> <span m="3339270">guess,</span> <span m="3340110">what</span> <span m="3340350">is</span> <span m="3340500">the</span> <span m="3340590">next</span> <span m="3340830">finger,</span> <span m="3341550">and</span> <span m="3341820">then</span> <span m="3342120">recurse</span> <span m="3343020">on</span> <span m="3343350">that</span> <span m="3343560">finger--</span> <span m="3344610">recurse</span> <span m="3345000">on</span> <span m="3345120">the</span> <span m="3345270">remaining</span> <span m="3345600">suffix</span> <span m="3345930">of</span> <span m="3345990">that</span> <span m="3346110">finger.</span></p>
<p><span m="3346620">Now,</span> <span m="3346860">why</span> <span m="3347160">did</span> <span m="3347310">we</span> <span m="3347460">need</span> <span m="3347640">to</span> <span m="3347730">know</span> <span m="3348060">what</span> <span m="3349230">these</span> <span m="3349710">fingers</span> <span m="3350220">were?</span> <span m="3351120">Why</span> <span m="3351390">not</span> <span m="3351570">just</span> <span m="3351840">guess</span> <span m="3352170">what</span> <span m="3352380">the</span> <span m="3352470">first</span> <span m="3352710">finger</span> <span m="3353010">is?</span> <span m="3354210">Well,</span> <span m="3354390">it</span> <span m="3354450">has</span> <span m="3354600">to</span> <span m="3354660">do</span> <span m="3354780">with</span> <span m="3354870">this</span> <span m="3355020">difficulty</span> <span m="3355530">function.</span> <span m="3356430">For</span> <span m="3356640">this</span> <span m="3356790">difficulty</span> <span m="3357240">function,</span> <span m="3357570">I</span> <span m="3357660">know</span> <span m="3357840">that</span> <span m="3358020">I</span> <span m="3358080">want</span> <span m="3358230">to</span> <span m="3358290">measure</span> <span m="3358530">the</span> <span m="3358620">difficulty</span> <span m="3359070">from</span> <span m="3359250">t i</span> <span m="3359580">to t i</span> <span m="3359940">plus</span> <span m="3360180">1.</span> <span m="3361420">And</span> <span m="3362020">to</span> <span m="3362290">do</span> <span m="3362620">that,</span> <span m="3363010">because</span> <span m="3363340">this</span> <span m="3363580">function</span> <span m="3363970">is</span> <span m="3364060">parameterized</span> <span m="3364510">by</span> <span m="3364660">four</span> <span m="3364930">things,</span> <span m="3365380">I</span> <span m="3365530">need</span> <span m="3365710">to</span> <span m="3365800">know</span> <span m="3365980">both</span> <span m="3366310">the</span> <span m="3366400">finger</span> <span m="3366700">for</span> <span m="3366850">t i</span> <span m="3367540">and,</span> <span m="3368080">at</span> <span m="3368230">the</span> <span m="3368320">same</span> <span m="3368680">time,</span> <span m="3369070">the</span> <span m="3369160">finger</span> <span m="3369430">for</span> <span m="3369550">t i</span> <span m="3369830">plus</span> <span m="3370060">1.</span> <span m="3370660">If</span> <span m="3370930">I</span> <span m="3370990">remove</span> <span m="3371350">this</span> <span m="3371530">f,</span> <span m="3372190">I</span> <span m="3372460">could</span> <span m="3373450">add</span> <span m="3373660">a</span> <span m="3373810">min</span> <span m="3373990">over</span> <span m="3374200">one</span> <span m="3374410">finger,</span> <span m="3374770">but</span> <span m="3374920">I</span> <span m="3375010">can't</span> <span m="3375190">really</span> <span m="3375400">add</span> <span m="3375490">a</span> <span m="3375850">min</span> <span m="3376060">over</span> <span m="3376270">two</span> <span m="3376420">fingers.</span></p>
<p><span m="3377590">So</span> <span m="3377800">what</span> <span m="3377950">this</span> <span m="3378190">does,</span> <span m="3379030">by</span> <span m="3379280">parameterizing</span> <span m="3379930">by</span> <span m="3380080">f</span> <span m="3380320">here</span> <span m="3380860">and</span> <span m="3381100">writing</span> <span m="3381400">down</span> <span m="3381670">the</span> <span m="3381790">optimal</span> <span m="3382450">for</span> <span m="3382690">each</span> <span m="3383050">starting</span> <span m="3383710">finger</span> <span m="3384190">f,</span> <span m="3385300">I</span> <span m="3385570">can--</span> <span m="3386060">in</span> <span m="3386260">some</span> <span m="3386440">sense,</span> <span m="3386710">I'm</span> <span m="3387340">remembering,</span> <span m="3389020">in</span> <span m="3389350">this</span> <span m="3389650">call,</span> <span m="3391090">what</span> <span m="3391390">finger</span> <span m="3391780">I</span> <span m="3391900">started</span> <span m="3392260">with.</span> <span m="3392830">Because</span> <span m="3393190">I</span> <span m="3393280">told</span> <span m="3393520">it,</span> <span m="3393640">you</span> <span m="3393850">have</span> <span m="3394120">to</span> <span m="3394240">start</span> <span m="3394480">with</span> <span m="3394600">finger</span> <span m="3394870">f</span> <span m="3395020">prime.</span> <span m="3395500">And</span> <span m="3395710">so</span> <span m="3395890">locally</span> <span m="3396490">to</span> <span m="3396850">X</span> <span m="3397300">i,</span> <span m="3397750">f,</span> <span m="3400240">I</span> <span m="3400740">know</span> <span m="3401190">what</span> <span m="3401460">finger</span> <span m="3401730">f</span> <span m="3401910">prime</span> <span m="3402240">is</span> <span m="3402360">being</span> <span m="3402510">used</span> <span m="3402720">for</span> <span m="3402840">t i</span> <span m="3403080">plus</span> <span m="3403290">1.</span> <span m="3403500">And</span> <span m="3403590">also,</span> <span m="3404280">because</span> <span m="3404610">of</span> <span m="3404730">the</span> <span m="3404820">definition</span> <span m="3405210">of</span> <span m="3405270">X</span> <span m="3405525">i, f,</span> <span m="3405780">I</span> <span m="3405870">know</span> <span m="3406020">what</span> <span m="3406170">finger</span> <span m="3406410">I'm</span> <span m="3406530">using</span> <span m="3406770">for</span> <span m="3406890">t i.</span> <span m="3408150">And</span> <span m="3408360">so</span> <span m="3408480">I</span> <span m="3408570">get</span> <span m="3408720">to</span> <span m="3408810">know</span> <span m="3408960">both</span> <span m="3409260">of</span> <span m="3409350">these</span> <span m="3409530">fingers.</span> <span m="3410280">One</span> <span m="3411000">comes</span> <span m="3411330">out</span> <span m="3411480">of</span> <span m="3411540">this</span> <span m="3411720">min</span> <span m="3412260">and</span> <span m="3412470">the</span> <span m="3412590">other</span> <span m="3412800">is</span> <span m="3412920">given</span> <span m="3413190">to</span> <span m="3413340">me</span> <span m="3413580">as</span> <span m="3413790">this</span> <span m="3413940">parameter.</span></p>
<p><span m="3415510">And</span> <span m="3415590">then,</span> <span m="3415810">of</span> <span m="3415910">course,</span> <span m="3416110">if</span> <span m="3416160">I</span> <span m="3416250">can</span> <span m="3416400">solve</span> <span m="3416700">these</span> <span m="3416880">problems,</span> <span m="3417810">I</span> <span m="3418020">can</span> <span m="3418170">solve</span> <span m="3418440">the</span> <span m="3418530">original</span> <span m="3418890">problem</span> <span m="3420510">by</span> <span m="3420780">just</span> <span m="3421020">one</span> <span m="3421320">more</span> <span m="3421590">min</span> <span m="3423450">of</span> <span m="3423840">1</span> <span m="3424110">up</span> <span m="3425100">to</span> <span m="3425400">capital</span> <span m="3425790">F</span> <span m="3426570">of</span> <span m="3427050">x</span> <span m="3427890">0</span> <span m="3429390">little</span> <span m="3429750">f.</span> <span m="3431300">I</span> <span m="3431380">don't</span> <span m="3431530">know</span> <span m="3431620">which</span> <span m="3431800">finger</span> <span m="3432010">to</span> <span m="3432100">start</span> <span m="3432340">with,</span> <span m="3432580">but</span> <span m="3432760">that's</span> <span m="3433000">just</span> <span m="3433240">f</span> <span m="3433450">choices.</span> <span m="3434560">And</span> <span m="3434800">so</span> <span m="3434980">then,</span> <span m="3435220">this</span> <span m="3435430">recurrence</span> <span m="3435940">gives</span> <span m="3436210">me</span> <span m="3436720">the</span> <span m="3436900">overall</span> <span m="3437200">solution.</span> <span m="3438440">And</span> <span m="3439720">I'll</span> <span m="3439840">just</span> <span m="3440020">jump</span> <span m="3440260">to</span> <span m="3440380">the</span> <span m="3440470">time.</span> <span m="3440750">We</span> <span m="3440830">need</span> <span m="3440980">a</span> <span m="3441040">base</span> <span m="3441310">case</span> <span m="3442090">and</span> <span m="3443350">topological</span> <span m="3444010">order.</span> <span m="3444800">But</span> <span m="3445090">it</span> <span m="3445300">is</span> <span m="3445510">n</span> <span m="3446560">f</span> <span m="3446860">squared</span> <span m="3447310">time.</span> <span m="3448660">There</span> <span m="3448870">are</span> <span m="3448960">n</span> <span m="3449230">times</span> <span m="3449590">f</span> <span m="3449800">subproblems</span> <span m="3450520">here.</span> <span m="3451240">And</span> <span m="3451540">for</span> <span m="3451660">each</span> <span m="3451900">one,</span> <span m="3452290">I'm</span> <span m="3452710">doing</span> <span m="3453040">an</span> <span m="3453130">optimization</span> <span m="3453700">over</span> <span m="3453940">f</span> <span m="3454120">choices,</span> <span m="3454960">so</span> <span m="3455110">I</span> <span m="3455170">get</span> <span m="3455350">n</span> <span m="3455560">times</span> <span m="3455890">f</span> <span m="3456040">squared.</span> <span m="3457270">It's a</span> <span m="3457360">polynomial.</span> <span m="3458160">And</span> <span m="3458350">if</span> <span m="3458620">f is</span> <span m="3458740">a</span> <span m="3458770">constant,</span> <span m="3459250">this</span> <span m="3459370">is</span> <span m="3459460">actually</span> <span m="3459700">linear</span> <span m="3460060">time.</span> <span m="3460390">Very</span> <span m="3460660">fast</span> <span m="3461080">DP. </span></p>
<p><span m="3462280">Now,</span> <span m="3462550">what</span> <span m="3462670">I</span> <span m="3462730">described</span> <span m="3463150">here</span> <span m="3463450">is</span> <span m="3463690">for</span> <span m="3463990">one</span> <span m="3464380">hand,</span> <span m="3464800">one</span> <span m="3465100">note</span> <span m="3465310">at</span> <span m="3465400">a</span> <span m="3465460">time.</span> <span m="3466120">But</span> <span m="3466270">you</span> <span m="3466360">can</span> <span m="3466510">generalize</span> <span m="3466990">this</span> <span m="3467230">to</span> <span m="3467620">two</span> <span m="3467920">hands,</span> <span m="3468520">each</span> <span m="3468760">with</span> <span m="3468880">one</span> <span m="3469060">note.</span> <span m="3469300">Well,</span> <span m="3469420">that's</span> <span m="3469630">just</span> <span m="3469870">ten</span> <span m="3470110">fingers.</span> <span m="3470480">So</span> <span m="3471580">you</span> <span m="3471760">could</span> <span m="3471880">solve</span> <span m="3472120">this</span> <span m="3472240">separately</span> <span m="3472630">for</span> <span m="3472810">the</span> <span m="3472870">right</span> <span m="3473050">hand</span> <span m="3473260">and</span> <span m="3473350">left</span> <span m="3473560">hand</span> <span m="3473680">if</span> <span m="3473860">you</span> <span m="3473950">know</span> <span m="3474160">which</span> <span m="3474400">notes</span> <span m="3474610">are</span> <span m="3474700">being</span> <span m="3474880">played</span> <span m="3475570">with</span> <span m="3475870">left</span> <span m="3476140">hand</span> <span m="3476320">and</span> <span m="3476380">right</span> <span m="3476560">hand.</span> <span m="3476800">But</span> <span m="3476950">some</span> <span m="3477730">pieces,</span> <span m="3478120">that's</span> <span m="3478300">not</span> <span m="3478480">obvious.</span> <span m="3481040">So</span> <span m="3481240">to</span> <span m="3481360">make</span> <span m="3481540">it</span> <span m="3481630">more</span> <span m="3481810">interesting,</span> <span m="3482500">what</span> <span m="3482710">if</span> <span m="3482800">you</span> <span m="3482860">have</span> <span m="3482980">multiple</span> <span m="3483460">notes</span> <span m="3483910">at</span> <span m="3484150">the</span> <span m="3484210">same</span> <span m="3484450">time?</span> <span m="3484720">And</span> <span m="3484870">let's</span> <span m="3485050">say--</span> <span m="3485590">I</span> <span m="3485650">think</span> <span m="3485800">it's</span> <span m="3485890">reasonable</span> <span m="3486200">to</span> <span m="3486250">say</span> <span m="3486340">you</span> <span m="3486430">can</span> <span m="3486580">only</span> <span m="3486820">play</span> <span m="3487090">up</span> <span m="3487270">to</span> <span m="3487660">f</span> <span m="3488140">notes</span> <span m="3489310">at</span> <span m="3489490">a</span> <span m="3489520">time,</span> <span m="3490150">1</span> <span m="3490510">for</span> <span m="3490690">each</span> <span m="3490990">finger.</span> <span m="3492700">And</span> <span m="3492970">so</span> <span m="3493190">you</span> <span m="3493330">have</span> <span m="3493450">an</span> <span m="3493540">upper</span> <span m="3493780">bound</span> <span m="3493960">on</span> <span m="3494020">the</span> <span m="3494080">number</span> <span m="3494290">of</span> <span m="3494380">notes</span> <span m="3494740">at</span> <span m="3495010">a</span> <span m="3495070">time</span> <span m="3495370">that</span> <span m="3495520">we're</span> <span m="3495670">playing,</span> <span m="3496820">which</span> <span m="3497050">is</span> <span m="3497200">good.</span></p>
<p><span m="3498730">Oh,</span> <span m="3498970">I</span> <span m="3499060">have</span> <span m="3499920">a</span> <span m="3500110">drawing</span> <span m="3500620">of</span> <span m="3500740">this</span> <span m="3500920">DP, </span> <span m="3501250">by</span> <span m="3501400">the</span> <span m="3501490">way,</span> <span m="3502480">as</span> <span m="3502840">a</span> <span m="3503230">subproblem</span> <span m="3503950">DAG.</span> <span m="3505570">This</span> <span m="3505870">is</span> <span m="3506200">the</span> <span m="3506350">original</span> <span m="3506770">problem,</span> <span m="3507260">which</span> <span m="3507340">is,</span> <span m="3507460">we</span> <span m="3507550">don't</span> <span m="3507700">know</span> <span m="3507820">which</span> <span m="3507970">finger</span> <span m="3508330">to</span> <span m="3509020">start</span> <span m="3509380">with.</span> <span m="3510680">But</span> <span m="3510760">then</span> <span m="3510910">we</span> <span m="3511030">just</span> <span m="3511240">have</span> <span m="3511480">a</span> <span m="3511540">complete</span> <span m="3511900">bipartite</span> <span m="3512440">graph</span> <span m="3512770">here,</span> <span m="3513310">where</span> <span m="3513670">we</span> <span m="3513910">write</span> <span m="3514300">on</span> <span m="3514420">each</span> <span m="3514600">of</span> <span m="3514660">these</span> <span m="3514840">edges,</span> <span m="3515200">what</span> <span m="3515440">is</span> <span m="3515740">the</span> <span m="3516040">difficulty</span> <span m="3516640">of</span> <span m="3516790">this</span> <span m="3516940">transition?</span> <span m="3518410">The</span> <span m="3518740">y-axis</span> <span m="3519730">here</span> <span m="3520000">is</span> <span m="3520330">which</span> <span m="3520540">finger</span> <span m="3520810">I'm</span> <span m="3520900">using--</span> <span m="3521170">1,</span> <span m="3521370">2,</span> <span m="3521570">3,</span> <span m="3521770">4,</span> <span m="3521970">5--</span> <span m="3522340">and</span> <span m="3522520">the</span> <span m="3522580">x-axis</span> <span m="3523180">is</span> <span m="3523330">which</span> <span m="3523570">suffix</span> <span m="3524080">I'm</span> <span m="3524260">considering.</span> <span m="3525160">Which</span> <span m="3525430">note</span> <span m="3525880">do</span> <span m="3526030">I</span> <span m="3526120">start</span> <span m="3526420">on?</span> <span m="3527470">And</span> <span m="3527680">so</span> <span m="3527980">you</span> <span m="3528130">could</span> <span m="3528250">solve</span> <span m="3528520">this</span> <span m="3528730">with</span> <span m="3528880">shortest</span> <span m="3529210">paths</span> <span m="3529570">in a</span> <span m="3530020">DAG,</span> <span m="3530320">or</span> <span m="3530590">you</span> <span m="3530680">could</span> <span m="3530830">just</span> <span m="3530980">solve</span> <span m="3531220">it</span> <span m="3531310">directly</span> <span m="3532150">as</span> <span m="3532360">DP,</span> <span m="3532690">either</span> <span m="3532930">top-down</span> <span m="3533380">or</span> <span m="3533470">bottom-up.</span> <span m="3534770">OK.</span></p>
<p><span m="3536690">Jumping</span> <span m="3537170">ahead,</span> <span m="3538550">if</span> <span m="3538730">you</span> <span m="3538850">do</span> <span m="3539030">multiple</span> <span m="3539510">notes</span> <span m="3539810">at</span> <span m="3539930">a</span> <span m="3539960">time,</span> <span m="3541340">instead</span> <span m="3541880">of</span> <span m="3542000">this</span> <span m="3542180">finger</span> <span m="3542540">choice,</span> <span m="3542900">which</span> <span m="3543050">just</span> <span m="3543230">had</span> <span m="3543390">f</span> <span m="3543680">choices,</span> <span m="3544760">we</span> <span m="3545030">have--</span> <span m="3548312">what</span> <span m="3548780">do</span> <span m="3548920">I</span> <span m="3549060">write</span> <span m="3549300">here?</span> <span m="3550980">t</span> <span m="3552300">to</span> <span m="3552510">the</span> <span m="3552630">f</span> <span m="3555530">possible</span> <span m="3556160">states,</span> <span m="3559160">where</span> <span m="3559370">t</span> <span m="3559910">is</span> <span m="3560270">the</span> <span m="3560510">maximum</span> <span m="3561200">number</span> <span m="3561530">of</span> <span m="3561680">notes</span> <span m="3562460">that</span> <span m="3562700">I</span> <span m="3562790">could</span> <span m="3562910">play</span> <span m="3563120">at</span> <span m="3563210">once.</span> <span m="3568110">And</span> <span m="3568470">usually,</span> <span m="3568830">this</span> <span m="3569010">is</span> <span m="3569160">at</span> <span m="3569280">most</span> <span m="3569520">f,</span> <span m="3569820">1</span> <span m="3570120">for</span> <span m="3570300">finger.</span> <span m="3570810">But</span> <span m="3571110">we</span> <span m="3571230">could</span> <span m="3571410">generalize.</span> <span m="3572790">And</span> <span m="3573000">this</span> <span m="3573240">is</span> <span m="3573870">number</span> <span m="3574110">of</span> <span m="3574170">fingers.</span> <span m="3577230">So</span> <span m="3577590">I</span> <span m="3577770">could</span> <span m="3578010">deal</span> <span m="3578250">with</span> <span m="3578640">all</span> <span m="3578880">10</span> <span m="3579150">fingers</span> <span m="3579630">of</span> <span m="3579780">a</span> <span m="3579840">typical</span> <span m="3580620">human</span> <span m="3582480">set</span> <span m="3582690">of</span> <span m="3582810">arms--</span> <span m="3583530">hands--</span> <span m="3584610">and</span> <span m="3584880">say</span> <span m="3585120">there's</span> <span m="3585300">at</span> <span m="3585390">most</span> <span m="3585600">10.</span> <span m="3586080">And</span> <span m="3586410">so</span> <span m="3586560">this</span> <span m="3586710">is</span> <span m="3586830">10</span> <span m="3587040">to</span> <span m="3587160">the</span> <span m="3587250">10.</span> <span m="3587520">It's</span> <span m="3587670">a</span> <span m="3587730">big</span> <span m="3588150">constant,</span> <span m="3588660">but</span> <span m="3588840">it's</span> <span m="3588960">constant--</span> <span m="3590220">like</span> <span m="3590400">1</span> <span m="3591000">billion</span> <span m="3591810">right?</span> <span m="3592260">10</span> <span m="3592500">billion?</span> <span m="3594340">But</span> <span m="3594490">then</span> <span m="3594610">it's</span> <span m="3594730">that</span> <span m="3594940">times</span> <span m="3595360">n.</span> <span m="3596630">And</span> <span m="3596870">maybe</span> <span m="3597080">that</span> <span m="3597290">squared</span> <span m="3597710">times</span> <span m="3598040">n</span> <span m="3598910">will</span> <span m="3599090">let</span> <span m="3599270">me</span> <span m="3599660">exhaustively</span> <span m="3600290">enumerate</span> <span m="3600680">all</span> <span m="3600920">of the</span> <span m="3601010">possible</span> <span m="3601400">things</span> <span m="3601640">I</span> <span m="3601730">could</span> <span m="3601850">do</span> <span m="3602330">be</span> <span m="3602510">doing</span> <span m="3602750">with</span> <span m="3602900">all</span> <span m="3603140">of</span> <span m="3603260">my</span> <span m="3603410">hands.</span></p>
<p><span m="3605240">You</span> <span m="3605360">can</span> <span m="3605480">apply</span> <span m="3605810">this</span> <span m="3605990">not</span> <span m="3606230">only</span> <span m="3606470">to</span> <span m="3607370">piano</span> <span m="3607790">fingering,</span> <span m="3608240">but</span> <span m="3608390">also</span> <span m="3608720">to</span> <span m="3609050">guitar</span> <span m="3609470">fingering--</span> <span m="3610160">also</span> <span m="3610550">to</span> <span m="3610730"><i>Rock</i></span> <span m="3611030"><i>Band.</i></span> <span m="3611330"><i>Rock</i></span> <span m="3611540"><i>Band</i></span> <span m="3611750">is</span> <span m="3611870">an</span> <span m="3611960">easy</span> <span m="3612230">case</span> <span m="3612470">where</span> <span m="3612560">you</span> <span m="3612650">just</span> <span m="3612860">have</span> <span m="3613070">five</span> <span m="3613490">buttons,</span> <span m="3614300">and</span> <span m="3614600">usually</span> <span m="3614930">only</span> <span m="3615170">four</span> <span m="3615470">fingers</span> <span m="3615890">that</span> <span m="3616010">you</span> <span m="3616160">use.</span> <span m="3617510">And</span> <span m="3617810">this</span> <span m="3617900">doesn't</span> <span m="3618140">really</span> <span m="3618380">make</span> <span m="3618500">any</span> <span m="3618650">sound,</span> <span m="3619010">so it's</span> <span m="3619100">not</span> <span m="3619280">that</span> <span m="3619400">exciting.</span> <span m="3620820">So</span> <span m="3621140">the</span> <span m="3621320">case</span> <span m="3621740">where</span> <span m="3622010">f</span> <span m="3622220">equals</span> <span m="3622610">4</span> <span m="3624740">you</span> <span m="3624950">can</span> <span m="3625070">apply</span> <span m="3625400">to</span> <span m="3625550">optimally</span> <span m="3626120">figure</span> <span m="3626390">out</span> <span m="3626480">which</span> <span m="3627290">finger--</span> <span m="3627770">once</span> <span m="3627980">you</span> <span m="3628070">have</span> <span m="3628160">a</span> <span m="3628190">difficulty</span> <span m="3628670">function</span> <span m="3629030">of</span> <span m="3629150">what</span> <span m="3629300">transitions</span> <span m="3629870">are</span> <span m="3629990">easy</span> <span m="3630320">and</span> <span m="3630440">hard</span> <span m="3632030">for</span> <span m="3632420"><i>Rock</i></span> <span m="3632690"><i>Band,</i></span> <span m="3633320">then</span> <span m="3633590">you</span> <span m="3633710">can</span> <span m="3634010">optimally</span> <span m="3635000">figure</span> <span m="3635210">out</span> <span m="3635300">your</span> <span m="3635420">fingering</span> <span m="3635750">for</span> <span m="3635870"><i>Rock</i></span> <span m="3636080"><i>Band</i></span> <span m="3636260">songs.</span> <span m="3637520">With</span> <span m="3637760">a</span> <span m="3637790">real</span> <span m="3638060">guitar,</span> <span m="3639770">this</span> <span m="3639950">is</span> <span m="3640040">a</span> <span m="3640100">little</span> <span m="3640280">bit</span> <span m="3640400">harder</span> <span m="3643700">because</span> <span m="3644360">there</span> <span m="3644540">are</span> <span m="3644600">actually</span> <span m="3644840">multiple</span> <span m="3645290">ways</span> <span m="3645620">to</span> <span m="3645770">play</span> <span m="3646010">the</span> <span m="3646100">same</span> <span m="3646310">note.</span></p>
<p><span m="3646850">For</span> <span m="3647060">example,</span> <span m="3648230">I</span> <span m="3648410">can</span> <span m="3648560">play</span> <span m="3650360">the</span> <span m="3650570">note</span> <span m="3650810">of</span> <span m="3650900">this</span> <span m="3651080">string</span> <span m="3653090">like</span> <span m="3653360">this.</span> <span m="3653990">These</span> <span m="3654230">should</span> <span m="3654650">both</span> <span m="3654860">sound</span> <span m="3655070">the</span> <span m="3655160">same--</span> <span m="3655880">if</span> <span m="3656120">my</span> <span m="3656360">guitar</span> <span m="3656660">were</span> <span m="3657140">perfectly</span> <span m="3657560">tuned,</span> <span m="3658220">which</span> <span m="3658420">it's</span> <span m="3658550">not.</span> <span m="3660590">And</span> <span m="3660890">that's</span> <span m="3661430">properties</span> <span m="3661910">of</span> <span m="3661970">strings</span> <span m="3662330">and</span> <span m="3662420">the</span> <span m="3662480">way</span> <span m="3662600">these</span> <span m="3662780">things</span> <span m="3663020">are</span> <span m="3664190">played.</span> <span m="3664700">So</span> <span m="3665090">in</span> <span m="3665240">addition</span> <span m="3665600">to</span> <span m="3665720">what</span> <span m="3665930">finger</span> <span m="3666380">I</span> <span m="3666500">use,</span> <span m="3666770">I</span> <span m="3666860">should</span> <span m="3667040">also</span> <span m="3667340">decide</span> <span m="3667730">which</span> <span m="3667970">string</span> <span m="3668300">to</span> <span m="3668390">play</span> <span m="3668720">that</span> <span m="3668990">note</span> <span m="3669290">on.</span> <span m="3669560">If</span> <span m="3669680">all</span> <span m="3669830">I'm</span> <span m="3669950">given</span> <span m="3670220">is</span> <span m="3670280">sheet</span> <span m="3670490">music,</span> <span m="3670950">different</span> <span m="3671120">notes</span> <span m="3671330">to</span> <span m="3671420">play,</span> <span m="3672200">another</span> <span m="3672770">thing</span> <span m="3673010">I</span> <span m="3673100">could</span> <span m="3673280">guess</span> <span m="3673700">is</span> <span m="3673970">which</span> <span m="3674570">string</span> <span m="3674990">to</span> <span m="3675050">play</span> <span m="3675380">that</span> <span m="3675650">note</span> <span m="3675890">on.</span> <span m="3676700">So</span> <span m="3677030">for</span> <span m="3677270">example,</span> <span m="3678630">maybe</span> <span m="3678860">I</span> <span m="3678950">want</span> <span m="3679130">to</span> <span m="3679190">play</span> <span m="3679400">my</span> <span m="3679610">favorite</span> <span m="3679970">song</span> <span m="3680360">here.</span> <span m="3681218">[PLAYING MUSIC]</span></p>
<p><span m="3685664">AUDIENCE:</span> <span m="3685781">[APPLAUSE]</span></p>
<p><span m="3687600">ERIK DEMAINE:</span> <span m="3687760"><i>Super</i></span> <span m="3687920"><i>Mario</i></span> <span m="3688160"><i>Brothers,</i></span> <span m="3688580">my</span> <span m="3688730">favorite</span> <span m="3688970">song.</span> <span m="3689990">I</span> <span m="3690110">could</span> <span m="3690260">keep</span> <span m="3690410">going,</span> <span m="3690810">but</span> <span m="3690950">I</span> <span m="3691010">actually</span> <span m="3691280">can't</span> <span m="3691430">keep</span> <span m="3691610">going.</span> <span m="3691940">It</span> <span m="3692240">won't be</span> <span m="3692540">as</span> <span m="3692750">impressive.</span> <span m="3694040">I</span> <span m="3694220">don't</span> <span m="3694400">actually</span> <span m="3694640">know</span> <span m="3694790">how</span> <span m="3694850">to</span> <span m="3694940">play</span> <span m="3695090">guitar.</span> <span m="3696200">But</span> <span m="3696500">there</span> <span m="3697220">are</span> <span m="3697250">a</span> <span m="3697280">lot</span> <span m="3697430">of</span> <span m="3697520">choices</span> <span m="3697940">there,</span> <span m="3698150">right?</span> <span m="3698870">I</span> <span m="3699080">started</span> <span m="3699560">with</span> <span m="3700250">playing</span> <span m="3700640">this</span> <span m="3700820">note</span> <span m="3701120">down</span> <span m="3701360">on</span> <span m="3701510">this</span> <span m="3703850">string.</span> <span m="3705380">That's</span> <span m="3705710">good.</span> <span m="3706190">I</span> <span m="3706430">could</span> <span m="3706580">have</span> <span m="3706760">also</span> <span m="3707120">played</span> <span m="3707360">it</span> <span m="3707480">on</span> <span m="3707600">this</span> <span m="3707720">string.</span> <span m="3709240">But</span> <span m="3709450">that's</span> <span m="3709720">more</span> <span m="3710020">work</span> <span m="3710260">for</span> <span m="3710380">my</span> <span m="3710530">finger,</span> <span m="3710870">so</span> <span m="3711040">I</span> <span m="3711130">have</span> <span m="3711310">a</span> <span m="3711670">penalty</span> <span m="3712090">function</span> <span m="3712450">that</span> <span m="3712570">says,</span> <span m="3712970">well,</span> <span m="3713120">if</span> <span m="3713140">I</span> <span m="3713230">play</span> <span m="3713410">an</span> <span m="3713470">open</span> <span m="3713740">string,</span> <span m="3713980">that's</span> <span m="3714160">a</span> <span m="3714220">lot</span> <span m="3714460">easier.</span></p>
<p><span m="3715970">And</span> <span m="3716080">then</span> <span m="3716230">I</span> <span m="3716290">had</span> <span m="3716380">a</span> <span m="3716470">transition</span> <span m="3717010">from</span> <span m="3717220">here--</span> <span m="3718300">this</span> <span m="3718540">note</span> <span m="3718840">[PLAYING A NOTE]</span> <span m="3719410">to</span> <span m="3719770">this</span> <span m="3720010">note</span> <span m="3720340">[PLAYING A NOTE]</span> <span m="3721390">to</span> <span m="3721570">this</span> <span m="3721780">note.</span> <span m="3722080">[PLAYING A NOTE]</span> <span m="3722410">And</span> <span m="3722680">if</span> <span m="3722830">you</span> <span m="3723640">focus</span> <span m="3724090">on</span> <span m="3724240">my</span> <span m="3724750">fingering</span> <span m="3725230">here,</span> <span m="3725740">I</span> <span m="3725950">chose</span> <span m="3726250">to</span> <span m="3726340">use</span> <span m="3726520">my</span> <span m="3728050">index</span> <span m="3728500">finger</span> <span m="3728770">for</span> <span m="3728890">the</span> <span m="3729010">first</span> <span m="3729250">one,</span> <span m="3729490">because</span> <span m="3729700">that</span> <span m="3729940">index</span> <span m="3730270">finger</span> <span m="3730450">is</span> <span m="3730510">always</span> <span m="3730690">the</span> <span m="3730750">easiest</span> <span m="3731140">to</span> <span m="3731200">use,</span> <span m="3731830">but</span> <span m="3732010">it also</span> <span m="3732280">gives</span> <span m="3732460">me</span> <span m="3732610">lots</span> <span m="3732790">of</span> <span m="3732880">room</span> <span m="3733090">to</span> <span m="3733180">move</span> <span m="3733360">my</span> <span m="3733510">pinky</span> <span m="3733870">over</span> <span m="3734080">to</span> <span m="3734170">here.</span> <span m="3734950">And</span> <span m="3735250">then</span> <span m="3735460">I</span> <span m="3735610">like</span> <span m="3735790">to</span> <span m="3735880">use</span> <span m="3736090">my</span> <span m="3736270">middle</span> <span m="3736510">finger</span> <span m="3736810">to</span> <span m="3736900">come</span> <span m="3737080">up</span> <span m="3737230">here.</span> <span m="3738320">You</span> <span m="3738430">could</span> <span m="3738610">also</span> <span m="3738790">use</span> <span m="3738970">your</span> <span m="3739060">index</span> <span m="3739360">finger.</span> <span m="3740050">It's</span> <span m="3740200">just</span> <span m="3740440">a</span> <span m="3740530">little</span> <span m="3740740">bit</span> <span m="3740860">more</span> <span m="3741010">of</span> <span m="3741100">a</span> <span m="3741160">reach.</span></p>
<p><span m="3741740">So</span> <span m="3742000">you</span> <span m="3742120">have</span> <span m="3742240">to</span> <span m="3742330">define</span> <span m="3742780">some</span> <span m="3743020">difficulty</span> <span m="3743470">function.</span> <span m="3743830">It</span> <span m="3743890">might</span> <span m="3744070">depend</span> <span m="3744460">on</span> <span m="3744610">how</span> <span m="3745420">big</span> <span m="3745630">your</span> <span m="3745720">fingers</span> <span m="3746110">are.</span> <span m="3746650">But</span> <span m="3746790">you</span> <span m="3746890">can</span> <span m="3747040">do</span> <span m="3747190">that,</span> <span m="3747590">and</span> <span m="3747670">then</span> <span m="3747880">optimize,</span> <span m="3748660">using</span> <span m="3749020">these</span> <span m="3749200">algorithms,</span> <span m="3750110">what</span> <span m="3750280">is</span> <span m="3750430">the</span> <span m="3750520">best</span> <span m="3750970">guitar</span> <span m="3751360">fingering</span> <span m="3752140">for</span> <span m="3752410">a</span> <span m="3752470">given</span> <span m="3752860">piece--</span> <span m="3753790">one</span> <span m="3754050">note</span> <span m="3754210">a</span> <span m="3754280">time</span> <span m="3754750">or</span> <span m="3754960">several</span> <span m="3755290">notes</span> <span m="3755530">at</span> <span m="3755620">a</span> <span m="3755680">time.</span> <span m="3756070">You</span> <span m="3756280">could</span> <span m="3756430">even</span> <span m="3756700">add</span> <span m="3756940">in</span> <span m="3757090">parameters</span> <span m="3757720">like,</span> <span m="3758170">oh,</span> <span m="3758440">maybe</span> <span m="3758710">I</span> <span m="3758830">want</span> <span m="3759010">to</span> <span m="3759070">play</span> <span m="3759500">a</span> <span m="3759970">bar.</span> <span m="3761200">That's</span> <span m="3761500">not</span> <span m="3761740">a</span> <span m="3761980">perfect</span> <span m="3762310">bar.</span> <span m="3763090">But</span> <span m="3763270">this</span> <span m="3763420">would</span> <span m="3763540">be</span> <span m="3763630">great</span> <span m="3763930">for</span> <span m="3764080">my</span> <span m="3764650">playing</span> <span m="3765010">this</span> <span m="3765250">note</span> <span m="3766000">down</span> <span m="3766600">here</span> <span m="3767500">and</span> <span m="3767860">this</span> <span m="3768010">note</span> <span m="3768340">here--</span> <span m="3769780">bad</span> <span m="3770020">example.</span> <span m="3771770">So</span> <span m="3772060">you</span> <span m="3772270">could</span> <span m="3772390">do</span> <span m="3772510">other</span> <span m="3772720">things</span> <span m="3772930">with</span> <span m="3773060">a</span> <span m="3773110">guitar</span> <span m="3773440">to</span> <span m="3773560">make</span> <span m="3773740">it</span> <span m="3773830">more</span> <span m="3773980">interesting</span> <span m="3774730">and</span> <span m="3775540">generalize</span> <span m="3776110">this</span> <span m="3776290">dynamic</span> <span m="3776680">program</span> <span m="3777430">suitably.</span></p>
<p><span m="3778390">But</span> <span m="3778720">I</span> <span m="3778840">think</span> <span m="3778990">this</span> <span m="3779110">gives</span> <span m="3779290">you</span> <span m="3779380">a</span> <span m="3779440">flavor</span> <span m="3779920">how,</span> <span m="3781660">with</span> <span m="3781930">subproblem</span> <span m="3782440">expansion,</span> <span m="3783490">I</span> <span m="3783700">can</span> <span m="3783880">capture</span> <span m="3784360">almost</span> <span m="3784780">any</span> <span m="3785170">aspect</span> <span m="3785620">of</span> <span m="3785740">a</span> <span m="3785800">problem</span> <span m="3786130">that</span> <span m="3786280">I</span> <span m="3786370">want.</span> <span m="3786700">As</span> <span m="3786880">long</span> <span m="3787060">as</span> <span m="3787150">the</span> <span m="3787210">number</span> <span m="3787450">of</span> <span m="3787510">states</span> <span m="3787960">that</span> <span m="3788110">I</span> <span m="3788680">need</span> <span m="3788920">to</span> <span m="3788980">keep</span> <span m="3789160">track</span> <span m="3789490">of</span> <span m="3789670">is</span> <span m="3789790">small,</span> <span m="3790750">I</span> <span m="3790960">can</span> <span m="3791080">just</span> <span m="3791230">multiply</span> <span m="3792010">the</span> <span m="3792160">number</span> <span m="3792430">of</span> <span m="3792490">subproblems</span> <span m="3793090">by</span> <span m="3793300">that</span> <span m="3793540">state,</span> <span m="3794380">and</span> <span m="3794590">I</span> <span m="3794650">can</span> <span m="3794800">keep</span> <span m="3794980">track</span> <span m="3795310">of</span> <span m="3795460">any</span> <span m="3795670">kind</span> <span m="3795880">of</span> <span m="3795940">transition</span> <span m="3796480">from</span> <span m="3796720">one</span> <span m="3796900">state</span> <span m="3797170">to</span> <span m="3797320">another,</span> <span m="3798460">which</span> <span m="3798670">I</span> <span m="3798730">could</span> <span m="3798880">also</span> <span m="3799090">do</span> <span m="3799330">with</span> <span m="3799960">taking</span> <span m="3800260">the</span> <span m="3800350">product</span> <span m="3800740">of</span> <span m="3800830">a</span> <span m="3800890">graph.</span> <span m="3802060">But</span> <span m="3802300">dynamic</span> <span m="3802660">programming</span> <span m="3803110">gives</span> <span m="3803320">you</span> <span m="3803540">a</span> <span m="3803590">kind</span> <span m="3803800">of</span> <span m="3804070">methodical</span> <span m="3804580">way</span> <span m="3804700">to</span> <span m="3804790">think</span> <span m="3805000">about</span> <span m="3805240">this,</span> <span m="3805870">by</span> <span m="3806410">figuring</span> <span m="3806890">out</span> <span m="3807040">some</span> <span m="3807610">property--</span> <span m="3808300">in</span> <span m="3808450">this</span> <span m="3808600">case,</span> <span m="3808940">the</span> <span m="3808960">state</span> <span m="3809380">of</span> <span m="3809680">how</span> <span m="3810610">my</span> <span m="3810760">fingers</span> <span m="3811330">are</span> <span m="3812050">applied</span> <span m="3812530">to</span> <span m="3812650">the</span> <span m="3812740">instrument--</span> <span m="3813700">and</span> <span m="3813970">then</span> <span m="3814690">just</span> <span m="3814900">sort</span> <span m="3814990">of</span> <span m="3815050">brute</span> <span m="3815320">forcing</span> <span m="3815770">the</span> <span m="3815830">rest--</span> <span m="3816620">a</span> <span m="3816730">very</span> <span m="3816970">powerful</span> <span m="3817750">framework.</span></p>
<p> </p>
</div>
        <div id="vid_related" itemprop="description" class="tabContent hide">
<h2 class="subhead">Free Downloads</h2>
<h3 class="subsubhead">Video</h3>
<ul>
<li>Internet Archive (<a href="https://archive.org/download/MIT6.006S20/MIT6_006S20_04_23_Lecture_17_300k.mp4">MP4 - 141MB</a>)</li>
</ul>
<br>
<h3 class="subsubhead">Caption</h3>
<ul>
<li>English-US (<a href="../../../contents/lecture-videos/lecture-17-dynamic-programming-part-3-apsp-parens-piano/TDo3r5M1LNo.srt">SRT</a>)</li>
</ul>
</div>
    
   </div>  




      					 
        <div class="" id="parent-fieldname-bottom_html_area">
            
            
        </div>
    
               </main><!--Course_inner_media tag close -->
           		</div>
<!--Course_wrapper tag close -->
            </div>
<!--left tag close -->
            <aside id="right">
                <!--Begin Right Portion -->
                    <div>
    



</div>

                	<div>
    



</div>


        <div class="" id="parent-fieldname-rsi_top_html_area">
            
            
        </div>
    

<!-- RSI google ad space-->



<div id="google_ads">    
    <script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></script>
    <script type="text/javascript">var googletag = googletag || {}; googletag.cmd = googletag.cmd || [];</script>
    <script type="text/javascript">
googletag.cmd.push(function() {googletag.defineSlot('/1064917/VIDEO_INDIVIDUAL_SLOT_A_DL', [[300, 250], [300, 300], [180, 200], [180, 150], [160, 600]], 'VIDEO_INDIVIDUAL_SLOT_A_DL').addService(googletag.pubads());googletag.defineSlot('/1064917/VIDEO_INDIVIDUAL_SLOT_B_DL', [[300, 250], [300, 300], [180, 200], [180, 150], [160, 600]], 'VIDEO_INDIVIDUAL_SLOT_B_DL').addService(googletag.pubads());googletag.defineSlot('/1064917/VIDEO_INDIVIDUAL_SLOT_C_DL', [[300, 250], [300, 300], [180, 200], [180, 150], [160, 600]], 'VIDEO_INDIVIDUAL_SLOT_C_DL').addService(googletag.pubads());
googletag.pubads().enableSingleRequest();
 googletag.enableServices();
});</script>
    <script language="javascript" type="text/javascript">
googletag.cmd.push(function() {googletag.pubads().set("TYPE","HOUSE");googletag.pubads().set("DEPARTMENT","6");googletag.pubads().set("CRS_BEG2","00");googletag.pubads().set("CRS_END","6");googletag.pubads().set("SESSION","S");googletag.pubads().set("YEAR","20");})
</script>
    
    <div id="VIDEO_INDIVIDUAL_SLOT_A_DL">
    	<script>googletag.cmd.push(function() { googletag.display('VIDEO_INDIVIDUAL_SLOT_A_DL'); });</script>
    </div>
    <div id="VIDEO_INDIVIDUAL_SLOT_B_DL">
    	<script>googletag.cmd.push(function() { googletag.display('VIDEO_INDIVIDUAL_SLOT_B_DL'); });</script>
    </div>
    <div id="VIDEO_INDIVIDUAL_SLOT_C_DL">
    	<script>googletag.cmd.push(function() { googletag.display('VIDEO_INDIVIDUAL_SLOT_C_DL'); });</script>
    </div>
</div>

<!-- End RSI ads--> 


<div>
    



</div>

            </aside><!--Right div close -->
            <div class="clear"></div>
        </div>
<!--grid tag close -->
      </div>
		
		<footer id="bottom">
			<div id="grid">
				
<div id="portletwrapper-6f63772e626f74746f6d706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d666f6f746572" class="portletWrapper kssattr-portlethash-6f63772e626f74746f6d706f72746c65746d616e616765720a636f6e746578740a2f506c6f6e650a736974652d666f6f746572">
<div class="portletStaticText portlet-static-site-footer"><div id="footer">
<nav aria-label="Footer">     <nav id="foot-c1" class="grid_2 alpha" aria-labelledby="f-find-courses">       <span class="footer" id="f-find-courses" aria-hidden="true">Find Courses</span>
<ul class="foot-bullet" role="presentation">
    <li><a href="https://ocw.mit.edu/courses/find-by-topic/">Find by Topic</a></li>
    <li><a href="https://ocw.mit.edu/courses/find-by-number/">Find by Course Number</a></li>
    <li><a href="https://ocw.mit.edu/courses/find-by-department/">Find by Department</a></li>
    <li><a href="https://ocw.mit.edu/courses/new-courses/">New Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/most-visited-courses/">Most Visited Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/ocw-scholar/">OCW Scholar Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/audio-video-courses/">Audio/Video Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/online-textbooks/">Online Textbooks</a></li>
    <li><a href="https://ocw.mit.edu/courses/instructor-insights/">Instructor Insights</a></li>
    <li><a href="https://ocw.mit.edu/resources/">Supplemental Resources</a></li>
    <li><a href="https://ocw.mit.edu/courses/mitx-related-courseware/">MITx &amp; Related OCW Courses</a></li>
    <li><a href="https://ocw.mit.edu/courses/mit-open-learning-library/">MIT Open Learning Library</a></li>
    <li><a href="https://ocw.mit.edu/courses/translated-courses/">Translated Courses</a></li>
</ul>
</nav>
<div id="foot-c2" class="grid_2"><nav aria-labelledby="f-for-educators">         <span id="f-for-educators" class="footer" aria-hidden="true">For Educators</span>
<ul class="foot-bullet" role="presentation">
    <li><a href="https://chalk-radio.simplecast.com/">Chalk Radio Podcast</a></li>
    <li><a href="https://ocw.mit.edu/educator/">OCW Educator Portal </a></li>
    <li><a href="https://ocw.mit.edu/courses/instructor-insights/">Instructor Insights by Department</a></li>
    <li><a href="https://openlearning.mit.edu/campus/digital-innovations/" aria-label="External Link: Residential Digital Innovations">Residential Digital Innovations </a></li>
    <li><a href="https://ocw.mit.edu/high-school/">OCW Highlights for High School</a></li>
    <li><a href="https://ocw.mit.edu/educator/additional-resources/">Additional Resources</a></li>
</ul>
</nav></div>
<nav class="grid_2" id="foot-c3" aria-labelledby="f-donate">       <span id="f-donate" class="footer" aria-hidden="true">Give Now</span>
<ul class="foot-bullet" role="presentation">
    <li><a href="https://ocw.mit.edu/give/">Make a Donation</a></li>
    <li><a href="https://ocw.mit.edu/give/why-give/">Why Give?</a></li>
    <li><a href="https://ocw.mit.edu/give/our-supporters/">Our Supporters</a></li>
    <li><a href="https://ocw.mit.edu/give/other-ways-to-contribute/">Other Ways to Contribute</a></li>
    <li><a href="https://ocw.mit.edu/support/">Become a Corporate Sponsor</a></li>
</ul>
</nav>
<div class="grid_2" id="foot-c4">
<nav aria-labelledby="f-about">         <span id="f-about" class="footer" aria-hidden="true">About</span>
<ul class="foot-bullet" role="presentation">
    <li><a href="https://ocw.mit.edu/about/">About OpenCourseWare</a></li>
    <li><a href="https://ocw.mit.edu/about/site-statistics/">Site Statistics</a></li>
    <li><a href="https://ocw.mit.edu/about/ocw-stories/">OCW Stories</a></li>
    <li><a href="https://ocw.mit.edu/about/newsletter/">Newsletter</a></li>
    <li><a href="https://www.ocw-openmatters.org/">Open Matters Blog</a></li>
</ul>
</nav><!--about-->       <nav aria-labelledby="f-tools">         <span id="f-tools" class="footer" aria-hidden="true">Tools</span>
<ul class="foot-bullet" role="presentation">
    <li><a href="https://ocw.mit.edu/help/">Help &amp; FAQs</a></li>
    <li><a href="https://ocw.mit.edu/about/contactus">Contact Us</a></li>
    <li><a href="https://accessibility.mit.edu/" target="_blank">Accessibility</a></li>
    <li><a href="https://ocw.mit.edu/help/site-map/">Site Map</a></li>
    <li><a href="../../../common/terms/index.htm">Privacy &amp; Terms of Use</a></li>
    <li><a href="https://ocw.mit.edu/help/rss/">RSS Feeds</a></li>
</ul>
</nav><!--tools-->
</div>
</nav> <aside style="min-height: 289px;" aria-labelledby="f-our-corporate-supporters" class="grid_4 omega" id="foot-c5">           <span aria-hidden="true" class="footer" id="f-our-corporate-supporters">Our Corporate Supporters</span>           <!-- HOME_CORP_LOGO_1 -->
<div id="div-gpt-ad-1388181177156-0" class="sponsors_google_ads_even"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-0'); });
            </script></div>
<!-- HOME_CORP_LOGO_2 -->
<div id="div-gpt-ad-1388181177156-1" class="sponsors_google_ads_odd"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-1'); });
            </script></div>
<!-- HOME_CORP_LOGO_3 -->
<div id="div-gpt-ad-1388181177156-2" class="sponsors_google_ads_even"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-2'); });
            </script></div>
<!-- HOME_CORP_LOGO_4 -->
<div id="div-gpt-ad-1388181177156-3" class="sponsors_google_ads_odd"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-3'); });
            </script></div>
<!-- HOME_CORP_LOGO_5 -->
<div id="div-gpt-ad-1388181177156-4" class="sponsors_google_ads_even"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-4'); });
              </script></div>
<!-- HOME_CORP_LOGO_6 -->
<div id="div-gpt-ad-1388181177156-5" class="sponsors_google_ads_odd"><script type="text/javascript">
              googletag.cmd.push(function() { googletag.display('div-gpt-ad-1388181177156-5'); });
              </script></div>
</aside>
<div class="grid_12 alpha omega" itemprop="publisher" itemscope="" itemtype="http://schema.org/CollegeOrUniversity">
<h4 class="footer" style="border-top: thin solid #d5c9ba; padding-top: 10px; margin-bottom: 10px;">About <span itemprop="name">MIT OpenCourseWare</span>
</h4>
<p style="color: #999; font-size: 1em; line-height: 1.5em; margin-top: 10px;" itemprop="description">MIT OpenCourseWare is an online publication of materials from over 2,500 MIT courses, freely sharing knowledge with learners and educators around the world. <a href="https://ocw.mit.edu/about/">Learn more »</a></p>
</div>
<div id="foot-copy" class="grid_12 alpha omega" style="border-top: none;">
<a href="http://web.mit.edu"><img src="../../../common/images/logo_mit.png" alt="Massachusetts Institute of Technology logo and name." style="width: 195; height: 44;"></a><a href="https://openlearning.mit.edu/"><img src="https://ocw.mit.edu/images/mitol_logo.png" alt="MIT Open Learning logo and name." style="width: 265; height: 50; vertical-align: top; padding-left:30px;"></a><a href="https://www.oeglobal.org/"><img src="https://ocw.mit.edu/images/oeg_logo.gif" alt="Open Education Consortium logo." style="width: 219px; height: 59px; vertical-align: top; padding-left:20px;"></a><a rel="license" itemprop="useRightsUrl" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="../../../common/images/cc_by-nc-sa.png" alt="Creative Commons logo with terms BY-NC-SA." style="width: 126px; height: 44px; margin-right: 0; padding-left: 20px;"></a>
<p class="copyright">© 2001–2018<br>
Massachusetts Institute of Technology</p>
<p style="font-size: 0.9em; margin-bottom: 15px;">Your use of the MIT OpenCourseWare site and materials is subject to our <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="license">Creative Commons License</a> and other <a href="../../../common/terms/index.htm" rel="cc:morePermissions">terms of use</a>.</p>
</div>
</div></div>

</div>





                
			</div> <!-- bottom grid end -->
		</footer><!-- footer bottom end -->


   </body>
 </html>
